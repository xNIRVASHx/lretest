/*
 AngularJS v1.4.14
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(R,U,x){'use strict';function B(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.4.14/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function Aa(a){if(null==a||Ya(a))return!1;if(L(a)||H(a)||D&&a instanceof D)return!0;
var b="length"in Object(a)&&a.length;return P(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function p(a,b,d){var c,e;if(a)if(G(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||Aa(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==p)a.forEach(b,d,a);else if(nc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function oc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function pc(a){return function(b,d){a(d,b)}}function Xd(){return++mb}function Mb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(K(g)||G(g))for(var h=Object.keys(g),k=0,m=h.length;k<m;k++){var l=h[k],n=g[l];d&&K(n)?ea(n)?a[l]=new Date(n.valueOf()):La(n)?a[l]=new RegExp(n):n.nodeName?a[l]=n.cloneNode(!0):
Nb(n)?a[l]=n.clone():(K(a[l])||(a[l]=L(n)?[]:{}),Mb(a[l],[n],!0)):a[l]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function N(a){return Mb(a,ta.call(arguments,1),!1)}function Yd(a){return Mb(a,ta.call(arguments,1),!0)}function ca(a){return parseInt(a,10)}function Ob(a,b){return N(Object.create(a),b)}function v(){}function Za(a){return a}function ma(a){return function(){return a}}function qc(a){return G(a.toString)&&a.toString!==na}function r(a){return"undefined"===typeof a}function u(a){return"undefined"!==
typeof a}function K(a){return null!==a&&"object"===typeof a}function nc(a){return null!==a&&"object"===typeof a&&!rc(a)}function H(a){return"string"===typeof a}function P(a){return"number"===typeof a}function ea(a){return"[object Date]"===na.call(a)}function G(a){return"function"===typeof a}function La(a){return"[object RegExp]"===na.call(a)}function Ya(a){return a&&a.window===a}function $a(a){return a&&a.$evalAsync&&a.$watch}function Ma(a){return"boolean"===typeof a}function sc(a){return a&&P(a.length)&&
Zd.test(na.call(a))}function Nb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function $d(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function oa(a){return M(a.nodeName||a[0]&&a[0].nodeName)}function ab(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function Na(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(nc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!K(a))return a;var b=e.indexOf(a);if(-1!==b)return f[b];if(Ya(a)||$a(a))throw Ba("cpws");var b=!1,c;L(a)?(c=[],b=!0):sc(a)?c=new a.constructor(a):ea(a)?c=new Date(a.getTime()):La(a)?(c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),c.lastIndex=a.lastIndex):"[object Blob]"===na.call(a)?c=new a.constructor([a],{type:a.type}):G(a.cloneNode)?c=a.cloneNode(!0):(c=Object.create(rc(a)),
b=!0);e.push(a);f.push(c);return b?d(a,c):c}var e=[],f=[];if(b){if(sc(b))throw Ba("cpta");if(a===b)throw Ba("cpi");L(b)?b.length=0:p(b,function(a,c){"$$hashKey"!==c&&delete b[c]});e.push(a);f.push(b);return d(a,b)}return c(a)}function fa(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(K(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function la(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,
c;if(d==typeof b&&"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!la(a[c],b[c]))return!1;return!0}}else{if(ea(a))return ea(b)?la(a.getTime(),b.getTime()):!1;if(La(a))return La(b)?a.toString()==b.toString():!1;if($a(a)||$a(b)||Ya(a)||Ya(b)||L(b)||ea(b)||La(b))return!1;d=Z();for(c in a)if("$"!==c.charAt(0)&&!G(a[c])){if(!la(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!G(b[c]))return!1;return!0}return!1}function bb(a,b,d){return a.concat(ta.call(b,
d))}function tc(a,b){var d=2<arguments.length?ta.call(arguments,2):[];return!G(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,bb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ae(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=x:Ya(b)?d="$WINDOW":b&&U===b?d="$DOCUMENT":$a(b)&&(d="$SCOPE");return d}function cb(a,b){if(r(a))return x;P(b)||(b=b?2:null);return JSON.stringify(a,ae,b)}function uc(a){return H(a)?
JSON.parse(a):a}function vc(a,b){a=a.replace(be,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Pb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=vc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ua(a){a=D(a).clone();try{a.empty()}catch(b){}var d=D("<div>").append(a).html();try{return a[0].nodeType===Oa?M(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+M(b)})}catch(c){return M(d)}}function wc(a){try{return decodeURIComponent(a)}catch(b){}}
function xc(a){var b={};p((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=wc(e),u(e)&&(f=u(f)?wc(f):!0,sa.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Qb(a){var b=[];p(a,function(a,c){L(a)?p(a,function(a){b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))}):b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))});return b.length?b.join("&"):""}function nb(a){return ha(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,
"=").replace(/%2B/gi,"+")}function ha(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ce(a,b){var d,c,e=Pa.length;for(c=0;c<e;++c)if(d=Pa[c]+b,H(d=a.getAttribute(d)))return d;return null}function de(a,b){var d,c,e={};p(Pa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});p(Pa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":",
"\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ce(d,"strict-di"),b(d,c?[c]:[],e))}function yc(a,b,d){K(d)||(d={});d=N({strictDi:!1},d);var c=function(){a=D(a);if(a.injector()){var c=a[0]===U?"document":ua(a);throw Ba("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=db(b,d.strictDi);c.invoke(["$rootScope",
"$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;R&&e.test(R.name)&&(d.debugInfoEnabled=!0,R.name=R.name.replace(e,""));if(R&&!f.test(R.name))return c();R.name=R.name.replace(f,"");da.resumeBootstrap=function(a){p(a,function(a){b.push(a)});return c()};G(da.resumeDeferredBootstrap)&&da.resumeDeferredBootstrap()}function ee(){R.name="NG_ENABLE_DEBUG_INFO!"+R.name;R.location.reload()}
function fe(a){a=da.element(a).injector();if(!a)throw Ba("test");return a.get("$$testability")}function zc(a,b){b=b||"_";return a.replace(ge,function(a,c){return(c?b:"")+a.toLowerCase()})}function he(){var a;if(!Ac){var b=ob();(pa=r(b)?R.jQuery:b?R[b]:x)&&pa.fn.on?(D=pa,N(pa.fn,{scope:Qa.scope,isolateScope:Qa.isolateScope,controller:Qa.controller,injector:Qa.injector,inheritedData:Qa.inheritedData}),a=pa.cleanData,pa.cleanData=function(b){var c;if(Rb)Rb=!1;else for(var e=0,f;null!=(f=b[e]);e++)(c=
pa._data(f,"events"))&&c.$destroy&&pa(f).triggerHandler("$destroy");a(b)}):D=S;da.element=D;Ac=!0}}function pb(a,b,d){if(!a)throw Ba("areq",b||"?",d||"required");return a}function Ra(a,b,d){d&&L(a)&&(a=a[a.length-1]);pb(G(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Sa(a,b){if("hasOwnProperty"===a)throw Ba("badname",b);}function Bc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&
G(a)?tc(e,a):a}function qb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=D(ta.call(a,0,e))),c.push(b);return c||a}function Z(){return Object.create(null)}function ie(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=B("$injector"),c=B("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||B;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,
d,e,f){f||(f=c);return function(){f[e||"push"]([b,d,arguments]);return t}}function b(a,d){return function(b,e){e&&G(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return t}}if(!g)throw d("nomod",f);var c=[],e=[],J=[],z=a("$injector","invoke","push",e),t={_invokeQueue:c,_configBlocks:e,_runBlocks:J,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide",
"decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),config:z,run:function(a){J.push(a);return this}};h&&z(h);return t})}})}function je(a){N(a,{bootstrap:yc,copy:Na,extend:N,merge:Yd,equals:la,element:D,forEach:p,injector:db,noop:v,bind:tc,toJson:cb,fromJson:uc,identity:Za,isUndefined:r,isDefined:u,isString:H,isFunction:G,isObject:K,isNumber:P,isElement:Nb,isArray:L,
version:ke,isDate:ea,lowercase:M,uppercase:rb,callbacks:{counter:0},getTestability:fe,$$minErr:B,$$csp:Ca,reloadWithDebugInfo:ee});Sb=ie(R);Sb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:le});a.provider("$compile",Cc).directive({a:me,input:Dc,textarea:Dc,form:ne,script:oe,select:pe,style:qe,option:re,ngBind:se,ngBindHtml:te,ngBindTemplate:ue,ngClass:ve,ngClassEven:we,ngClassOdd:xe,ngCloak:ye,ngController:ze,ngForm:Ae,ngHide:Be,ngIf:Ce,ngInclude:De,ngInit:Ee,ngNonBindable:Fe,
ngPluralize:Ge,ngRepeat:He,ngShow:Ie,ngStyle:Je,ngSwitch:Ke,ngSwitchWhen:Le,ngSwitchDefault:Me,ngOptions:Ne,ngTransclude:Oe,ngModel:Pe,ngList:Qe,ngChange:Re,pattern:Ec,ngPattern:Ec,required:Fc,ngRequired:Fc,minlength:Gc,ngMinlength:Gc,maxlength:Hc,ngMaxlength:Hc,ngValue:Se,ngModelOptions:Te}).directive({ngInclude:Ue}).directive(sb).directive(Ic);a.provider({$anchorScroll:Ve,$animate:We,$animateCss:Xe,$$animateJs:Ye,$$animateQueue:Ze,$$AnimateRunner:$e,$$animateAsyncRun:af,$browser:bf,$cacheFactory:cf,
$controller:df,$document:ef,$exceptionHandler:ff,$filter:Jc,$$forceReflow:gf,$interpolate:hf,$interval:jf,$http:kf,$httpParamSerializer:lf,$httpParamSerializerJQLike:mf,$httpBackend:nf,$xhrFactory:of,$location:pf,$log:qf,$parse:rf,$rootScope:sf,$q:tf,$$q:uf,$sce:vf,$sceDelegate:wf,$sniffer:xf,$templateCache:yf,$templateRequest:zf,$$testability:Af,$timeout:Bf,$window:Cf,$$rAF:Df,$$jqLite:Ef,$$HashMap:Ff,$$cookieReader:Gf})}])}function eb(a){return a.replace(Hf,function(a,d,c,e){return e?c.toUpperCase():
c}).replace(If,"Moz$1")}function Kc(a){a=a.nodeType;return 1===a||!a||9===a}function Lc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Tb.test(a)){d=d||e.appendChild(b.createElement("div"));c=(Jf.exec(a)||["",""])[1].toLowerCase();c=ja[c]||ja._default;d.innerHTML=c[1]+a.replace(Kf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=bb(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";p(f,function(a){e.appendChild(a)});return e}function Mc(a,
b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function S(a){if(a instanceof S)return a;var b;H(a)&&(a=T(a),b=!0);if(!(this instanceof S)){if(b&&"<"!=a.charAt(0))throw Ub("nosel");return new S(a)}if(b){b=U;var d;a=(d=Lf.exec(a))?[b.createElement(d[1])]:(d=Lc(a,b))?d.childNodes:[]}Nc(this,a)}function Vb(a){return a.cloneNode(!0)}function tb(a,b){b||ub(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)ub(d[c])}function Oc(a,b,d,c){if(u(c))throw Ub("offargs");
var e=(c=vb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&ab(c||[],d);u(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};p(b.split(" "),function(a){g(a);wb[a]&&g(wb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function ub(a,b){var d=a.ng339,c=d&&fb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Oc(a)),delete fb[d],a.ng339=x))}function vb(a,b){var d=a.ng339,d=d&&fb[d];b&&!d&&(a.ng339=d=++Mf,
d=fb[d]={events:{},data:{},handle:x});return d}function Wb(a,b,d){if(Kc(a)){var c=u(d),e=!c&&b&&!K(b),f=!b;a=(a=vb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];N(a,b)}}}function xb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function yb(a,b){b&&a.setAttribute&&p(b.split(" "),function(b){a.setAttribute("class",T((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+T(b)+" "," ")))})}function zb(a,
b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");p(b.split(" "),function(a){a=T(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",T(d))}}function Nc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Pc(a,b){return Ab(a,"$"+(b||"ngController")+"Controller")}function Ab(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=
L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=D.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Qc(a){for(tb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Xb(a,b){b||tb(a);var d=a.parentNode;d&&d.removeChild(a)}function Nf(a,b){b=b||R;if("complete"===b.document.readyState)b.setTimeout(a);else D(b).on("load",a)}function Rc(a,b){var d=Bb[b.toLowerCase()];return d&&Sc[oa(a)]&&d}function Of(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};
var f=b[d||c.type],g=f?f.length:0;if(g){if(r(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Pf;1<g&&(f=fa(f));for(var m=0;m<g;m++)c.isImmediatePropagationStopped()||k(a,c,f[m])}};d.elem=a;return d}function Pf(a,b,d){d.call(a,b)}function Qf(a,b,
d){var c=b.relatedTarget;c&&(c===a||Rf.call(a,c))||d.call(a,b)}function Ef(){this.$get=function(){return N(S,{hasClass:function(a,b){a.attr&&(a=a[0]);return xb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return yb(a,b)}})}}function Da(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Xd)():d+":"+a}function Ta(a,b){if(b){var d=0;this.nextUid=
function(){return++d}}p(a,this.put,this)}function Sf(a){return(a=a.toString().replace(Tc,"").match(Uc))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b){function d(a){return function(b,c){if(K(b))p(b,pc(a));else return a(b,c)}}function c(a,b){Sa(a,"service");if(G(b)||L(b))b=J.instantiate(b);if(!b.$get)throw Ea("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(r(c))throw Ea("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==
d?e(a,b):b})}function g(a){pb(r(a)||L(a),"modulesToLoad","not an array");var b=[],c;p(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=J.get(e[0]);f[e[1]].apply(f,e[2])}}if(!l.get(a)){l.put(a,!0);try{H(a)?(c=Sb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(J.invoke(a)):L(a)?b.push(J.invoke(a)):Ra(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+
e.stack),Ea("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ea("cdep",b+" <- "+m.join(" <- "));return a[b]}try{return m.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{m.shift()}}function e(a,c,f,g){"string"===typeof f&&(g=f,f=null);var k=[],h=db.$$annotate(a,b,g),m,l,q;l=0;for(m=h.length;l<m;l++){q=h[l];if("string"!==typeof q)throw Ea("itkn",q);k.push(f&&f.hasOwnProperty(q)?f[q]:d(q,g))}L(a)&&
(a=a[m]);return a.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((L(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return K(a)||G(a)?a:d},get:d,annotate:db.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},m=[],l=new Ta([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ma(b),!1)}),constant:d(function(a,
b){Sa(a,"constant");n[a]=b;z[a]=b}),decorator:function(a,b){var c=J.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},J=n.$injector=h(n,function(a,b){da.isString(b)&&m.push(b);throw Ea("unpr",m.join(" <- "));}),z={},t=z.$injector=h(z,function(a,b){var c=J.get(a+"Provider",b);return t.invoke(c.$get,c,x,a)});p(g(a),function(a){a&&t.invoke(a)});return t}function Ve(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location",
"$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===oa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():Nb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):P(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=H(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):
f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Nf(function(){c.$evalAsync(g)})});return g}]}function gb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Tf(a){H(a)&&(a=a.split(" "));var b=Z();p(a,function(a){a.length&&(b[a]=!0)});return b}function Fa(a){return K(a)?a:{}}function Uf(a,b,d,c){function e(a){try{a.apply(null,ta.call(arguments,1))}finally{if(t--,0===t)for(;A.length;)try{A.pop()()}catch(b){d.error(b)}}}
function f(){F=null;g();h()}function g(){a:{try{q=l.state;break a}catch(a){}q=void 0}q=r(q)?null:q;la(q,C)&&(q=C);C=q}function h(){if(w!==k.url()||y!==q)w=k.url(),y=q,p(Q,function(a){a(k.url(),q)})}var k=this,m=a.location,l=a.history,n=a.setTimeout,J=a.clearTimeout,z={};k.isMock=!1;var t=0,A=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){t++};k.notifyWhenNoOutstandingRequests=function(a){0===t?a():A.push(a)};var q,y,w=m.href,V=b.find("base"),F=null;g();y=q;k.url=function(b,
d,e){r(e)&&(e=null);m!==a.location&&(m=a.location);l!==a.history&&(l=a.history);if(b){var f=y===e;if(w===b&&(!c.history||f))return k;var h=w&&Ga(w)===Ga(b);w=b;y=e;if(!c.history||h&&f){if(!h||F)F=b;d?m.replace(b):h?(d=m,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):m.href=b;m.href!==b&&(F=b)}else l[d?"replaceState":"pushState"](e,"",b),g(),y=q;return k}return F||m.href.replace(/%27/g,"'")};k.state=function(){return q};var Q=[],E=!1,C=null;k.onUrlChange=function(b){if(!E){if(c.history)D(a).on("popstate",
f);D(a).on("hashchange",f);E=!0}Q.push(b);return b};k.$$applicationDestroyed=function(){D(a).off("hashchange popstate",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=V.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;t++;c=n(function(){delete z[c];e(a)},b||0);z[c]=!0;return c};k.defer.cancel=function(a){return z[a]?(delete z[a],J(a),e(v),!0):!1}}function bf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Uf(a,c,b,
d)}]}function cf(){this.$get=function(){function a(a,c){function e(a){a!=n&&(J?J==a&&(J=a.n):J=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw B("$cacheFactory")("iid",a);var g=0,h=N({},c,{id:a}),k=Z(),m=c&&c.capacity||Number.MAX_VALUE,l=Z(),n=null,J=null;return b[a]={put:function(a,b){if(!r(b)){if(m<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}a in k||g++;k[a]=b;g>m&&this.remove(J.key);return b}},get:function(a){if(m<Number.MAX_VALUE){var b=l[a];
if(!b)return;e(b)}return k[a]},remove:function(a){if(m<Number.MAX_VALUE){var b=l[a];if(!b)return;b==n&&(n=b.p);b==J&&(J=b.n);f(b.n,b.p);delete l[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=Z();g=0;l=Z();n=J=null},destroy:function(){l=h=k=null;delete b[a]},info:function(){return N({},h,{size:g})}}}var b={};a.info=function(){var a={};p(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function yf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function Cc(a,b){function d(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e=Z();p(a,function(a,f){if(a in l)e[f]=l[a];else{var g=a.match(d);if(!g)throw ga("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(l[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==M(b))throw ga("baddir",a);if(a!==a.trim())throw ga("baddir",a);}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=
/(([\w\-]+)(?:\:([^;]+))?;?)/,h=$d("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,l=Z();this.directive=function z(b,d){Sa(b,"directive");H(b)?(c(b),pb(d,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];p(e[b],function(e,f){try{var g=a.invoke(e);G(g)?g={compile:ma(g)}:!g.compile&&g.link&&(g.compile=ma(g.link));g.priority=g.priority||0;g.index=f;g.name=g.name||b;g.require=g.require||
g.controller&&g.name;g.restrict=g.restrict||"EA";g.$$moduleName=e.$$moduleName;d.push(g)}catch(h){c(h)}});return d}])),e[b].push(d)):p(b,pc(z));return this};this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(a){return u(a)?(n=a,this):n};this.$get=["$injector",
"$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,l,y,w,V,F,Q,E){function C(a,b){try{a.addClass(b)}catch(c){}}function I(a,b,c,d,e){a instanceof D||(a=D(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Oa&&k.nodeValue.match(f)&&Mc(k,a[g]=U.createElement("span"))}var m=W(a,b,a,c,d,e);I.$$addScopeClass(a);var l=null;return function(b,c,d){pb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());
d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&(f=f.$$boundTransclude);l||(l=(d=d&&d[0])?"foreignobject"!==oa(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==l?D(Yb(l,D("<div>").append(a).html())):c?Qa.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);I.$$addScopeInfo(d,b);c&&c(d,b);m&&m(b,d,d,f);return d}}function W(a,b,c,d,e,f){function g(a,c,d,e){var f,k,m,l,n,E,A;if(q)for(A=Array(c.length),
l=0;l<h.length;l+=3)f=h[l],A[f]=c[f];else A=c;l=0;for(n=h.length;l<n;)k=A[h[l++]],c=h[l++],f=h[l++],c?(c.scope?(m=a.$new(),I.$$addScopeInfo(D(k),m)):m=a,E=c.transcludeOnThisElement?O(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?O(a,b):null,c(f,m,k,d,E)):f&&f(a,k.childNodes,x,e)}for(var h=[],k,m,l,n,q,E=0;E<a.length;E++){k=new da;m=ia(a[E],[],k,0===E?d:x,e);(f=m.length?$(m,a[E],k,b,c,null,[],[],f):null)&&f.scope&&I.$$addScopeClass(k.$$element);k=f&&f.terminal||!(l=a[E].childNodes)||!l.length?
null:W(l,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(E,f,k),n=!0,q=q||f;f=null}return n?g:null}function O(a,b,c){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function ia(a,b,c,d,e){var h=c.$attr,k;switch(a.nodeType){case 1:k=oa(a);qa(b,va(k),"E",d,e);for(var m,l,n,q,E=a.attributes,A=0,w=E&&E.length;A<w;A++){var I=!1,y=!1;m=E[A];l=m.name;n=T(m.value);
m=va(l);if(q=ja.test(m))l=l.replace(Wc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(m=m.match(ka))&&B(m[1])&&(I=l,y=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));m=va(l.toLowerCase());h[m]=l;if(q||!c.hasOwnProperty(m))c[m]=n,Rc(a,m)&&(c[m]=!0);X(a,b,n,m,q);qa(b,m,"A",d,e,I,y)}"input"===k&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off");a=a.className;K(a)&&(a=a.animVal);if(H(a)&&""!==a)for(;k=g.exec(a);)m=va(k[2]),qa(b,m,"C",d,e)&&(c[m]=T(k[3])),
a=a.substr(k.index+k[0].length);break;case Oa:if(11===Ha)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Oa;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);P(b,a.nodeValue);break;case 8:try{if(k=f.exec(a.nodeValue))m=va(k[1]),qa(b,m,"M",d,e)&&(c[m]=T(k[2]))}catch(O){}}b.sort(wa);return b}function Ua(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ga("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);
a=a.nextSibling}while(0<e)}else d.push(a);return D(d)}function s(a,b,c){return function(d,e,f,g,h){e=Ua(e[0],b,c);return a(d,e,f,g,h)}}function $(a,b,d,e,f,g,h,m,l){function n(a,b,c,d){if(a){c&&(a=s(a,c,d));a.require=r.require;a.directiveName=u;if(C===r||r.$$isolateScope)a=ba(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=s(b,c,d));b.require=r.require;b.directiveName=u;if(C===r||r.$$isolateScope)b=ba(b,{isolateScope:!0});m.push(b)}}function q(a,b,c,d){var e;if(H(b)){var f=b.match(k);b=b.substring(f[0].length);
var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;e||(d="$"+b+"Controller",e=g?c.inheritedData(d):c.data(d));if(!e&&!f)throw ga("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=q(a,b[g],c,d);return e||null}function E(a,b,c,d,e,f){var g=Z(),h;for(h in d){var k=d[h],m={$scope:k===C||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=k.controller;"@"==l&&(l=b[k.name]);m=w(l,m,!0,k.controllerAs);g[k.name]=m;a.data("$"+k.name+"Controller",m.instance)}return g}
function y(a,c,e,f,g){function k(a,b,c){var d;$a(a)||(c=b,b=a,a=x);Q&&(d=w);c||(c=Q?F.parent():F);return g(a,b,d,c,Ua)}var l,n,A,w,O,F,ia;b===e?(f=d,F=d.$$element):(F=D(e),f=new da(F,d));A=c;C?n=c.$new(!0):t&&(A=c.$parent);g&&(O=k,O.$$boundTransclude=g);z&&(w=E(F,f,O,z,n,c));C&&(I.$$addScopeInfo(F,n,!0,!(W&&(W===C||W===C.$$originalDirective))),I.$$addScopeClass(F,!0),n.$$isolateBindings=C.$$isolateBindings,(ia=aa(c,f,n,n.$$isolateBindings,C))&&n.$on("$destroy",ia));for(var Vc in w){ia=z[Vc];var V=
w[Vc],p=ia.$$bindings.bindToController;V.identifier&&p&&(l=aa(A,f,V.instance,p,ia));var r=V();r!==V.instance&&(V.instance=r,F.data("$"+ia.name+"Controller",r),l&&l(),l=aa(A,f,V.instance,p,ia))}B=0;for(M=h.length;B<M;B++)l=h[B],ca(l,l.isolateScope?n:c,F,f,l.require&&q(l.directiveName,l.require,F,w),O);var Ua=c;C&&(C.template||null===C.templateUrl)&&(Ua=n);a&&a(Ua,e.childNodes,x,g);for(B=m.length-1;0<=B;B--)l=m[B],ca(l,l.isolateScope?n:c,F,f,l.require&&q(l.directiveName,l.require,F,w),O)}l=l||{};for(var O=
-Number.MAX_VALUE,t=l.newScopeDirective,z=l.controllerDirectives,C=l.newIsolateScopeDirective,W=l.templateDirective,F=l.nonTlbTranscludeDirective,V=!1,p=!1,Q=l.hasElementTranscludeDirective,$=d.$$element=D(b),r,u,v,qa=e,wa,B=0,M=a.length;B<M;B++){r=a[B];var N=r.$$start,P=r.$$end;N&&($=Ua(b,N,P));v=x;if(O>r.priority)break;if(v=r.scope)r.templateUrl||(K(v)?(Va("new/isolated scope",C||t,r,$),C=r):Va("new/isolated scope",C,r,$)),t=t||r;u=r.name;!r.templateUrl&&r.controller&&(v=r.controller,z=z||Z(),Va("'"+
u+"' controller",z[u],r,$),z[u]=r);if(v=r.transclude)V=!0,r.$$tlb||(Va("transclusion",F,r,$),F=r),"element"==v?(Q=!0,O=r.priority,v=$,$=d.$$element=D(U.createComment(" "+u+": "+d[u]+" ")),b=$[0],Y(f,ta.call(v,0),b),qa=I(v,e,O,g&&g.name,{nonTlbTranscludeDirective:F})):(v=D(Vb(b)).contents(),$.empty(),qa=I(v,e,x,x,{needsNewScope:r.$$isolateScope||r.$$newScope}));if(r.template)if(p=!0,Va("template",W,r,$),W=r,v=G(r.template)?r.template($,d):r.template,v=ha(v),r.replace){g=r;v=Tb.test(v)?Xc(Yb(r.templateNamespace,
T(v))):[];b=v[0];if(1!=v.length||1!==b.nodeType)throw ga("tplrt",u,"");Y(f,$,b);v={$attr:{}};var S=ia(b,[],v),Vf=a.splice(B+1,a.length-(B+1));(C||t)&&Yc(S,C,t);a=a.concat(S).concat(Vf);R(d,v);M=a.length}else $.html(v);if(r.templateUrl)p=!0,Va("template",W,r,$),W=r,r.replace&&(g=r),y=Wf(a.splice(B,a.length-B),$,d,f,V&&qa,h,m,{controllerDirectives:z,newScopeDirective:t!==r&&t,newIsolateScopeDirective:C,templateDirective:W,nonTlbTranscludeDirective:F}),M=a.length;else if(r.compile)try{wa=r.compile($,
d,qa),G(wa)?n(null,wa,N,P):wa&&n(wa.pre,wa.post,N,P)}catch(X){c(X,ua($))}r.terminal&&(y.terminal=!0,O=Math.max(O,r.priority))}y.scope=t&&!0===t.scope;y.transcludeOnThisElement=V;y.templateOnThisElement=p;y.transclude=qa;l.hasElementTranscludeDirective=Q;return y}function Yc(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Ob(a[d],{$$isolateScope:b,$$newScope:c})}function qa(b,f,g,h,k,m,l){if(f===k)return null;k=null;if(e.hasOwnProperty(f)){var n;f=a.get(f+"Directive");for(var q=0,E=f.length;q<E;q++)try{if(n=
f[q],(r(h)||h>n.priority)&&-1!=n.restrict.indexOf(g)){m&&(n=Ob(n,{$$start:m,$$end:l}));if(!n.$$bindings){var w=n,I=n,y=n.name,O={isolateScope:null,bindToController:null};K(I.scope)&&(!0===I.bindToController?(O.bindToController=d(I.scope,y,!0),O.isolateScope={}):O.isolateScope=d(I.scope,y,!1));K(I.bindToController)&&(O.bindToController=d(I.bindToController,y,!0));if(K(O.bindToController)){var t=I.controller,C=I.controllerAs;if(!t)throw ga("noctrl",y);var F;a:{var I=t,W=C;if(W&&H(W))F=W;else{if(H(I)){var ia=
Zc.exec(I);if(ia){F=ia[3];break a}}F=void 0}}if(!F)throw ga("noident",y);}var V=w.$$bindings=O;K(V.isolateScope)&&(n.$$isolateBindings=V.isolateScope)}b.push(n);k=n}}catch(p){c(p)}}return k}function B(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;d<f;d++)if(b=c[d],b.multiElement)return!0;return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;p(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});p(b,function(b,
f){"class"==f?(C(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Wf(a,b,c,d,e,f,g,h){var k=[],m,n,E=b[0],A=a.shift(),w=Ob(A,{templateUrl:null,transclude:null,replace:null,$$originalDirective:A}),I=G(A.templateUrl)?A.templateUrl(b,c):A.templateUrl,y=A.templateNamespace;b.empty();l(I).then(function(l){var q,t;l=ha(l);if(A.replace){l=Tb.test(l)?
Xc(Yb(y,T(l))):[];q=l[0];if(1!=l.length||1!==q.nodeType)throw ga("tplrt",A.name,I);l={$attr:{}};Y(d,b,q);var z=ia(q,[],l);K(A.scope)&&Yc(z,!0);a=z.concat(a);R(c,l)}else q=E,b.html(l);a.unshift(w);m=$(a,q,c,e,b,A,f,g,h);p(d,function(a,c){a==q&&(d[c]=b[0])});for(n=W(b[0].childNodes,e);k.length;){l=k.shift();t=k.shift();var F=k.shift(),V=k.shift(),z=b[0];if(!l.$$destroyed){if(t!==E){var Q=t.className;h.hasElementTranscludeDirective&&A.replace||(z=Vb(q));Y(F,D(t),z);C(D(z),Q)}t=m.transcludeOnThisElement?
O(l,m.transclude,V):V;m(n,l,z,d,t)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(m.transcludeOnThisElement&&(a=O(b,m.transclude,e)),m(n,b,c,d,a)))}}function wa(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Va(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ga("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ua(d));}function P(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=
a.parent();var b=!!a.length;b&&I.$$addBindingClass(a);return function(a,c){var e=c.parent();b||I.$$addBindingClass(e);I.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Yb(a,b){a=M(a||"html");switch(a){case "svg":case "math":var c=U.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function S(a,b){if("srcdoc"==b)return F.HTML;var c=oa(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||
"ngSrc"==b))return F.RESOURCE_URL}function X(a,c,d,e,f){var g=S(a,e);f=h[e]||f;var k=b(d,!0,g,f);if(k){if("multiple"===e&&"select"===oa(a))throw ga("selmulti",ua(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){c=h.$$observers||(h.$$observers=Z());if(m.test(e))throw ga("nodomevents");var l=h[e];l!==d&&(k=l&&b(l,!0,g,f),d=l);k&&(h[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,
a)}))}}}})}}function Y(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=U.createDocumentFragment();a.appendChild(d);D.hasData(d)&&(D.data(c,D.data(d)),pa?(Rb=!0,pa.cleanData([d])):delete D.cache[d[D.expando]]);d=1;for(e=b.length;d<e;d++)f=b[d],D(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function ba(a,
b){return N(function(){return a.apply(null,arguments)},a,b)}function ca(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ua(d))}}function aa(a,c,d,e,f){var g=[];p(e,function(e,h){var k=e.attrName,m=e.optional,l,n,q,A;switch(e.mode){case "@":m||sa.call(c,k)||(d[h]=c[k]=void 0);c.$observe(k,function(a){H(a)&&(d[h]=a)});c.$$observers[k].$$scope=a;l=c[k];H(l)?d[h]=b(l)(a):Ma(l)&&(d[h]=l);break;case "=":if(!sa.call(c,k)){if(m)break;c[k]=void 0}if(m&&!c[k])break;n=y(c[k]);A=n.literal?la:function(a,b){return a===
b||a!==a&&b!==b};q=n.assign||function(){l=d[h]=n(a);throw ga("nonassign",c[k],k,f.name);};l=d[h]=n(a);m=function(b){A(b,d[h])||(A(b,l)?q(a,b=d[h]):d[h]=b);return l=b};m.$stateful=!0;m=e.collection?a.$watchCollection(c[k],m):a.$watch(y(c[k],m),null,n.literal);g.push(m);break;case "&":n=c.hasOwnProperty(k)?y(c[k]):v;if(n===v&&m)break;d[h]=function(b){return n(a,b)}}});return g.length&&function(){for(var a=0,b=g.length;a<b;++a)g[a]()}}var da=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<
e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};da.prototype={$normalize:va,$addClass:function(a){a&&0<a.length&&Q.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&Q.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=$c(a,b);c&&c.length&&Q.addClass(this.$$element,c);(c=$c(b,a))&&c.length&&Q.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Rc(this.$$element[0],a),g=ad[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=
e:(e=this.$attr[a])||(this.$attr[a]=e=zc(a,"-"));f=oa(this.$$element);if("a"===f&&"href"===a||"img"===f&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){for(var f="",g=T(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),m=0;m<k;m++)var l=2*m,f=f+E(T(g[l]),!0),f=f+(" "+T(g[l+1]));g=T(g[2*m]).split(/\s/);f+=E(T(g[0]),!0);2===g.length&&(f+=" "+T(g[1]));this[a]=b=f}!1!==d&&(null===b||r(b)?this.$$element.removeAttr(e):this.$$element.attr(e,
b));(a=this.$$observers)&&p(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=Z()),e=d[a]||(d[a]=[]);e.push(b);V.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])});return function(){ab(e,b)}}};var ea=b.startSymbol(),fa=b.endSymbol(),ha="{{"==ea&&"}}"==fa?Za:function(a){return a.replace(/\{\{/g,ea).replace(/}}/g,fa)},ja=/^ngAttr[A-Z]/,ka=/^(.+)Start$/;I.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];L(b)?
c=c.concat(b):c.push(b);a.data("$binding",c)}:v;I.$$addBindingClass=n?function(a){C(a,"ng-binding")}:v;I.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:v;I.$$addScopeClass=n?function(a,b){C(a,b?"ng-isolate-scope":"ng-scope")}:v;return I}]}function va(a){return eb(a.replace(Wc,""))}function $c(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+
g}return d}function Xc(a){a=D(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Xf.call(a,b,1);return a}function df(){var a={},b=!1;this.register=function(b,c){Sa(b,"controller");K(b)?N(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!K(a.$scope))throw B("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var m,l,n;h=!0===h;k&&H(k)&&(n=k);if(H(f)){k=f.match(Zc);if(!k)throw Yf("ctrlfmt",f);l=k[1];
n=n||k[3];f=a.hasOwnProperty(l)?a[l]:Bc(g.$scope,l,!0)||(b?Bc(c,l,!0):x);Ra(f,l,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,m=Object.create(h||null),n&&e(g,n,m,l||f.name),N(function(){var a=d.invoke(f,m,g,l);a!==m&&(K(a)||G(a))&&(m=a,n&&e(g,n,m,l||f.name));return m},{instance:m,identifier:n});m=d.instantiate(f,g,l);n&&e(g,n,m,l||f.name);return m}}]}function ef(){this.$get=["$window",function(a){return D(a.document)}]}function ff(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,
arguments)}}]}function Zb(a){return K(a)?ea(a)?a.toISOString():cb(a):a}function lf(){this.$get=function(){return function(a){if(!a)return"";var b=[];oc(a,function(a,c){null===a||r(a)||(L(a)?p(a,function(a,d){b.push(ha(c)+"="+ha(Zb(a)))}):b.push(ha(c)+"="+ha(Zb(a))))});return b.join("&")}}}function mf(){this.$get=function(){return function(a){function b(a,e,f){null===a||r(a)||(L(a)?p(a,function(a,c){b(a,e+"["+(K(a)?c:"")+"]")}):K(a)&&!ea(a)?oc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ha(e)+
"="+ha(Zb(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function $b(a,b){if(H(a)){var d=a.replace(Zf,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(bd))||(c=(c=d.match($f))&&ag[c[0]].test(d));c&&(a=uc(d))}}return a}function cd(a){var b=Z(),d;H(a)?p(a.split("\n"),function(a){d=a.indexOf(":");var e=M(T(a.substr(0,d)));a=T(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):K(a)&&p(a,function(a,d){var f=M(d),g=T(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function dd(a){var b;
return function(d){b||(b=cd(a));return d?(d=b[M(d)],void 0===d&&(d=null),d):b}}function ed(a,b,d,c){if(G(c))return c(a,b,d);p(c,function(c){a=c(a,b,d)});return a}function kf(){var a=this.defaults={transformResponse:[$b],transformRequest:[function(a){return K(a)&&"[object File]"!==na.call(a)&&"[object Blob]"!==na.call(a)&&"[object FormData]"!==na.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fa(ac),put:fa(ac),patch:fa(ac)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",
paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,m){function l(b){function c(a){var b=N({},a);b.data=ed(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};p(a,function(a,
e){G(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}if(!da.isObject(b))throw B("$http")("badreq",b);if(!H(b.url))throw B("$http")("badreq",b.url);var f=N({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=function(b){var c=a.headers,d=N({},b.headers),f,g,h,c=N({},c.common,c[M(b.method)]);a:for(f in c){g=M(f);for(h in d)if(M(h)===g)continue a;d[f]=c[f]}return e(d,fa(b))}(b);f.method=rb(f.method);f.paramSerializer=
H(f.paramSerializer)?m.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=ed(b.data,dd(d),x,b.transformRequest);r(e)&&p(d,function(a,b){"content-type"===M(b)&&delete d[b]});r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,e).then(c,c)},x],h=k.when(f);for(p(t,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var l=
g.shift(),h=h.then(b,l)}d?(h.success=function(a){Ra(a,"fn");h.then(function(b){a(b.data,b.status,b.headers,f)});return h},h.error=function(a){Ra(a,"fn");h.then(null,function(b){a(b.data,b.status,b.headers,f)});return h}):(h.success=fd("success"),h.error=fd("error"));return h}function n(c,d){function g(a,c,d,e){function f(){m(c,a,d,e)}C&&(200<=a&&300>a?C.put(O,[a,c,cd(d),e]):C.remove(O));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function m(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?p.resolve:p.reject)({data:a,
status:b,headers:dd(d),config:c,statusText:e})}function n(a){m(a.data,a.status,fa(a.headers()),a.statusText)}function t(){var a=l.pendingRequests.indexOf(c);-1!==a&&l.pendingRequests.splice(a,1)}var p=k.defer(),E=p.promise,C,I,W=c.headers,O=J(c.url,c.paramSerializer(c.params));l.pendingRequests.push(c);E.then(t,t);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(C=K(c.cache)?c.cache:K(a.cache)?a.cache:z);C&&(I=C.get(O),u(I)?I&&G(I.then)?I.then(n,n):L(I)?m(I[1],I[0],fa(I[2]),
I[3]):m(I,200,{},"OK"):C.put(O,E));r(I)&&((I=gd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:x)&&(W[c.xsrfHeaderName||a.xsrfHeaderName]=I),e(c.method,O,d,g,W,c.timeout,c.withCredentials,c.responseType));return E}function J(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var z=g("$http");a.paramSerializer=H(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var t=[];p(c,function(a){t.unshift(H(a)?m.get(a):m.invoke(a))});l.pendingRequests=[];(function(a){p(arguments,function(a){l[a]=
function(b,c){return l(N({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){p(arguments,function(a){l[a]=function(b,c,d){return l(N({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");l.defaults=a;return l}]}function of(){this.$get=function(){return function(){return new R.XMLHttpRequest}}}function nf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return bg(a,c,a.defer,b.angular.callbacks,d[0])}]}function bg(a,b,d,c,e){function f(a,
b,d){var f=e.createElement("script"),l=null;f.type="text/javascript";f.src=a;f.async=!0;l=function(a){f.removeEventListener("load",l,!1);f.removeEventListener("error",l,!1);e.body.removeChild(f);f=null;var g=-1,z="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),z=a.type,g="error"===a.type?404:200);d&&d(g,z)};f.addEventListener("load",l,!1);f.addEventListener("error",l,!1);e.body.appendChild(f);return l}return function(e,h,k,m,l,n,J,z){function t(){y&&y();w&&w.abort()}function A(b,c,
e,f,g){u(F)&&d.cancel(F);y=w=null;b(c,e,f,g);a.$$completeOutstandingRequest(v)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"==M(e)){var q="_"+(c.counter++).toString(36);c[q]=function(a){c[q].data=a;c[q].called=!0};var y=f(h.replace("JSON_CALLBACK","angular.callbacks."+q),q,function(a,b){A(m,a,c[q].data,"",b);c[q]=v})}else{var w=b(e,h);w.open(e,h,!0);p(l,function(a,b){u(a)&&w.setRequestHeader(b,a)});w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=
1223===w.status?204:w.status;0===c&&(c=b?200:"file"==xa(h).protocol?404:0);A(m,c,b,w.getAllResponseHeaders(),a)};e=function(){A(m,-1,null,null,"")};w.onerror=e;w.onabort=e;J&&(w.withCredentials=!0);if(z)try{w.responseType=z}catch(V){if("json"!==z)throw V;}w.send(r(k)?null:k)}if(0<n)var F=d(t,n);else n&&G(n.then)&&n.then(t)}}function hf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",
function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(l,a).replace(n,b)}function h(f,h,l,n){function q(a){try{var b=a;a=l?e.getTrusted(l,b):e.valueOf(b);var d;if(n&&!u(a))d=a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=cb(a)}d=a}return d}catch(g){c(Ia.interr(f,g))}}n=!!n;for(var y,w,p=0,F=[],Q=[],E=f.length,C=[],I=[];p<E;)if(-1!=(y=f.indexOf(a,p))&&-1!=(w=f.indexOf(b,y+k)))p!==y&&C.push(g(f.substring(p,y))),p=f.substring(y+
k,w),F.push(p),Q.push(d(p,q)),p=w+m,I.push(C.length),C.push("");else{p!==E&&C.push(g(f.substring(p)));break}l&&1<C.length&&Ia.throwNoconcat(f);if(!h||F.length){var W=function(a){for(var b=0,c=F.length;b<c;b++){if(n&&r(a[b]))return;C[I[b]]=a[b]}return C.join("")};return N(function(a){var b=0,d=F.length,e=Array(d);try{for(;b<d;b++)e[b]=Q[b](a);return W(e)}catch(g){c(Ia.interr(f,g))}},{exp:f,expressions:F,$$watchDelegate:function(a,b){var c;return a.$watchGroup(Q,function(d,e){var f=W(d);G(b)&&b.call(this,
f,d!==e?c:f,a);c=f})}})}}var k=a.length,m=b.length,l=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function jf(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,d,c){function e(e,h,k,m){var l=4<arguments.length,n=l?ta.call(arguments,4):[],J=b.setInterval,z=b.clearInterval,t=0,A=u(m)&&!m,q=(A?c:d).defer(),y=q.promise;k=u(k)?k:0;y.then(null,null,l?function(){e.apply(null,n)}:e);y.$$intervalId=
J(function(){q.notify(t++);0<k&&t>=k&&(q.resolve(t),z(y.$$intervalId),delete f[y.$$intervalId]);A||a.$apply()},h);f[y.$$intervalId]=q;return y}var f={};e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1};return e}]}function bc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=nb(a[b]);return a.join("/")}function hd(a,b){var d=xa(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=ca(d.port)||cg[d.protocol]||
null}function id(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=xa(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=xc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function ra(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Ga(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function hb(a){return a.replace(/(#.+)|#$/,"$1")}function cc(a,b,d){this.$$html5=!0;d=d||"";
hd(a,this);this.$$parse=function(a){var d=ra(b,a);if(!H(d))throw Cb("ipthprfx",a,b);id(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Qb(this.$$search),d=this.$$hash?"#"+nb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;u(f=ra(a,c))?(g=f,g=u(f=ra(d,f))?b+(ra("/",f)||f):a+g):u(f=ra(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);
return!!g}}function dc(a,b,d){hd(a,this);this.$$parse=function(c){var e=ra(a,c)||ra(b,c),f;r(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",r(e)&&(a=c,this.replace())):(f=ra(d,e),r(f)&&(f=e));id(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Qb(this.$$search),e=this.$$hash?"#"+nb(this.$$hash):"";this.$$url=bc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?
d+this.$$url:"")};this.$$parseLinkUrl=function(b,d){return Ga(a)==Ga(b)?(this.$$parse(b),!0):!1}}function jd(a,b,d){this.$$html5=!0;dc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ga(c)?f=c:(g=ra(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Qb(this.$$search),e=this.$$hash?"#"+nb(this.$$hash):"";this.$$url=bc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Db(a){return function(){return this[a]}}
function kd(a,b){return function(d){if(r(d))return this[a];this[a]=b(d);this.$$compose();return this}}function pf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a};this.html5Mode=function(a){return Ma(a)?(b.enabled=a,this):K(a)?(Ma(a.enabled)&&(b.enabled=a.enabled),Ma(a.requireBase)&&(b.requireBase=a.requireBase),Ma(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",
function(d,c,e,f,g){function h(a,b,d){var e=m.url(),f=m.$$state;try{c.url(a,b,d),m.$$state=c.state()}catch(g){throw m.url(e),m.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var m,l;l=c.baseHref();var n=c.url(),J;if(b.enabled){if(!l&&b.requireBase)throw Cb("nobase");J=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(l||"/");l=e.history?cc:jd}else J=Ga(n),l=dc;var z=J.substr(0,Ga(J).lastIndexOf("/")+1);m=new l(J,z,"#"+a);m.$$parseLinkUrl(n,n);m.$$state=
c.state();var t=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=D(a.target);"a"!==oa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");K(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=xa(h.animVal).href);t.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(h,k)||(a.preventDefault(),m.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=
!0))}});hb(m.absUrl())!=hb(n)&&c.url(m.absUrl(),!0);var A=!0;c.onUrlChange(function(a,b){r(ra(z,a))?g.location.href=a:(d.$evalAsync(function(){var c=m.absUrl(),e=m.$$state,f;a=hb(a);m.$$parse(a);m.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;m.absUrl()===a&&(f?(m.$$parse(c),m.$$state=e,h(c,!1,e)):(A=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=hb(c.url()),b=hb(m.absUrl()),f=c.state(),g=m.$$replace,l=a!==b||m.$$html5&&e.history&&f!==m.$$state;if(A||
l)A=!1,d.$evalAsync(function(){var b=m.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&&(c?(m.$$parse(a),m.$$state=f):(l&&h(b,g,f===m.$$state?null:m.$$state),k(a,f)))});m.$$replace=!1});return m}]}function qf(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&
(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||v;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];p(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Wa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===
a||"__proto__"===a)throw aa("isecfld",b);return a}function ld(a,b){a+="";if(!H(a))throw aa("iseccst",b);return a}function ya(a,b){if(a){if(a.constructor===a)throw aa("isecfn",b);if(a.window===a)throw aa("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw aa("isecdom",b);if(a===Object)throw aa("isecobj",b);}return a}function md(a,b){if(a){if(a.constructor===a)throw aa("isecfn",b);if(a===dg||a===eg||a===fg)throw aa("isecff",b);}}function Eb(a,b){if(a&&(a===(0).constructor||a===
(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw aa("isecaf",b);}function gg(a,b){return"undefined"!==typeof a?a:b}function nd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function X(a,b){var d,c;switch(a.type){case s.Program:d=!0;p(a.body,function(a){X(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case s.Literal:a.constant=!0;a.toWatch=[];break;case s.UnaryExpression:X(a.argument,b);a.constant=a.argument.constant;
a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:X(a.left,b);X(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:X(a.left,b);X(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:X(a.test,b);X(a.alternate,b);X(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=
!1;a.toWatch=[a];break;case s.MemberExpression:X(a.object,b);a.computed&&X(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case s.CallExpression:d=a.filter?!b(a.callee.name).$stateful:!1;c=[];p(a.arguments,function(a){X(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case s.AssignmentExpression:X(a.left,b);X(a.right,b);a.constant=a.left.constant&&a.right.constant;
a.toWatch=[a];break;case s.ArrayExpression:d=!0;c=[];p(a.elements,function(a){X(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case s.ObjectExpression:d=!0;c=[];p(a.properties,function(a){X(a.value,b);d=d&&a.value.constant;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case s.ThisExpression:a.constant=!1,a.toWatch=[]}}function od(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:x}}
function pd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function qd(a){if(1===a.body.length&&pd(a.body[0].expression))return{type:s.AssignmentExpression,left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function rd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression)}function sd(a,b){this.astBuilder=a;this.$filter=b}function td(a,
b){this.astBuilder=a;this.$filter=b}function Fb(a){return"constructor"==a}function ec(a){return G(a.valueOf)?a.valueOf():hg.call(a)}function rf(){var a=Z(),b=Z();this.$get=["$filter",function(d){function c(c,f,n){var w,p,F;n=n||t;switch(typeof c){case "string":F=c=c.trim();var r=n?b:a;w=r[F];if(!w){":"===c.charAt(0)&&":"===c.charAt(1)&&(p=!0,c=c.substring(2));w=n?z:J;var E=new fc(w);w=(new gc(E,d,w)).parse(c);w.constant?w.$$watchDelegate=m:p?w.$$watchDelegate=w.literal?k:h:w.inputs&&(w.$$watchDelegate=
g);n&&(w=e(w));r[F]=w}return l(w,f);case "function":return l(c,f);default:return l(v,f)}}function e(a){function b(c,d,e,f){var g=t;t=!0;try{return a(c,d,e,f)}finally{t=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=e(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=e(a.inputs[c]);b.inputs=a.inputs;return b}function f(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=ec(a),"object"===typeof a)?!1:a===b||a!==a&&b!==
b}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);f(b,k)||(h=d(a,x,x,[b]),k=b&&ec(b));return h},b,c,e)}for(var l=[],m=[],n=0,J=g.length;n<J;n++)l[n]=f,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c])))m[c]=k,l[c]=k&&ec(k)}b&&(h=d(a,x,x,m));return h},b,c,e)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);u(a)&&
d.$$postDigest(function(){u(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;p(a,function(a){u(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function l(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==k&&c!==h?function(c,e,f,g){f=d&&g?g[0]:a(c,
e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return u(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==g?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=g,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var n=Ca().noUnsafeEval,J={csp:n,expensiveChecks:!1},z={csp:n,expensiveChecks:!0},t=!1;c.$$runningExpensiveChecks=function(){return t};return c}]}function tf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return ud(function(b){a.$evalAsync(b)},
b)}]}function uf(){this.$get=["$browser","$exceptionHandler",function(a,b){return ud(function(b){a.defer(b)},b)}]}function ud(a,b){function d(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function c(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=x;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];
try{G(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function g(){this.promise=new c;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=B("$q",TypeError);N(c.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&f(this.$$state);return d.promise},"catch":function(a){return this.then(null,
a)},"finally":function(a,b){return this.then(function(b){return m(b,!0,a)},function(b){return m(b,!1,a)},b)}});N(g.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){var c,e;e=d(this,this.$$resolve,this.$$reject);try{if(K(a)||G(a))c=a&&a.then;G(c)?(this.promise.$$state.status=-1,c.call(a,e[0],e[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),
b(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(G(a)?a(c):c)}catch(h){b(h)}}})}});var k=function(a,b){var c=new g;b?c.resolve(a):c.reject(a);return c.promise},m=function(a,b,c){var d=null;try{G(c)&&
(d=c())}catch(e){return k(e,!1)}return d&&G(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):k(a,b)},l=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},n=function z(a){if(!G(a))throw h("norslvr",a);if(!(this instanceof z))return new z(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};n.defer=function(){return new g};n.reject=function(a){var b=new g;b.reject(a);return b.promise};n.when=l;n.resolve=l;n.all=function(a){var b=
new g,c=0,d=L(a)?[]:{};p(a,function(a,e){c++;l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return n}function Df(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=
b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function sf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++mb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=B("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(f,g,h,k){function m(a){a.currentScope.$$destroyed=
!0}function l(a){9===Ha&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=++mb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function J(a){if(w.$$phase)throw d("inprog",
w.$$phase);w.$$phase=a}function z(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function t(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function A(){}function q(){for(;Q.length;)try{Q.shift()()}catch(a){g(a)}e=null}function y(){null===e&&(e=k.defer(function(){w.$apply(q)}))}n.prototype={constructor:n,$new:function(b,c){var d;c=c||this;b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);
d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",m);return d},$watch:function(a,b,d,e){var f=h(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var g=this,k=g.$$watchers,l={fn:b,last:A,get:f,exp:e||a,eq:!!d};c=null;G(b)||(l.fn=v);k||(k=g.$$watchers=[]);k.unshift(l);z(this,1);return function(){0<=ab(k,l)&&z(g,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=
!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});p(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!r(e)){if(K(e))if(Aa(e))for(f!==
n&&(f=n,p=f.length=0,l++),a=e.length,p!==a&&(l++,f.length=p=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==q&&(f=q={},p=0,l++);a=0;for(b in e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(p++,f[b]=g,l++));if(p>a)for(b in l++,f)sa.call(e,b)||(p--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,l=0,m=h(a,c),n=[],q={},J=!0,p=0;return this.$watch(m,function(){J?(J=!1,b(e,e,d)):b(e,g,d);if(k)if(K(e))if(Aa(e)){g=
Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)sa.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var a,f,h,l,m,n,p,z,y=b,t,r=[],Q,x;J("$digest");k.$$checkUrlChange();this===w&&null!==e&&(k.defer.cancel(e),q());c=null;do{z=!1;for(t=this;s.length;){try{x=s.shift(),x.scope.$eval(x.expression,x.locals)}catch(u){g(u)}c=null}a:do{if(n=t.$$watchers)for(p=n.length;p--;)try{if(a=n[p])if(m=a.get,(f=m(t))!==(h=a.last)&&!(a.eq?la(f,h):"number"===typeof f&&"number"===typeof h&&
isNaN(f)&&isNaN(h)))z=!0,c=a,a.last=a.eq?Na(f,null):f,l=a.fn,l(f,h===A?f:h,t),5>y&&(Q=4-y,r[Q]||(r[Q]=[]),r[Q].push({msg:G(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:f,oldVal:h}));else if(a===c){z=!1;break a}}catch(v){g(v)}if(!(n=t.$$watchersCount&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(n=t.$$nextSibling);)t=t.$parent}while(t=n);if((z||s.length)&&!y--)throw w.$$phase=null,d("infdig",b,r);}while(z||s.length);for(w.$$phase=null;F.length;)try{F.shift()()}catch(D){g(D)}},
$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===w&&k.$$applicationDestroyed();z(this,-this.$$watchersCount);for(var b in this.$$listenerCount)t(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);
this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=v;this.$on=this.$watch=this.$watchGroup=function(){return v};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a,b){w.$$phase||s.length||k.defer(function(){s.length&&w.$digest()});s.push({scope:this,expression:h(a),locals:b})},$$postDigest:function(a){F.push(a)},$apply:function(a){try{J("$apply");try{return this.$eval(a)}finally{w.$$phase=null}}catch(b){g(b)}finally{try{w.$digest()}catch(c){throw g(c),
c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&Q.push(b);a=h(a);y()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,t(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=
!0},defaultPrevented:!1},k=bb([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){g(n)}else d.splice(l,1),l--,m--;if(f)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=bb([e],arguments,1),h,k;c=d;){e.currentScope=
c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,f)}catch(l){g(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var w=new n,s=w.$$asyncQueue=[],F=w.$$postDigestQueue=[],Q=w.$$applyAsyncQueue=[];return w}]}function le(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=
function(b){return u(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=xa(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function ig(a){if("self"===a)return a;if(H(a)){if(-1<a.indexOf("***"))throw za("iwcard",a);a=vd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if(La(a))return new RegExp("^"+a.source+"$");throw za("imatcher");}function wd(a){var b=[];u(a)&&p(a,function(a){b.push(ig(a))});
return b}function wf(){this.SCE_CONTEXTS=ka;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=wd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=wd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?gd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};
return b}var f=function(a){throw za("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[ka.HTML]=e(g);h[ka.CSS]=e(g);h[ka.URL]=e(g);h[ka.JS]=e(g);h[ka.RESOURCE_URL]=e(h[ka.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw za("icontext",a,b);if(null===b||r(b)||""===b)return b;if("string"!==typeof b)throw za("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||r(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof
g)return e.$$unwrapTrustedValue();if(d===ka.RESOURCE_URL){var g=xa(e.toString()),n,p,z=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){z=!0;break}if(z)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){z=!1;break}if(z)return e;throw za("insecurl",e.toString());}if(d===ka.HTML)return f(e);throw za("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function vf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&
8>Ha)throw za("iequirks");var c=fa(ka);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Za);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;p(ka,function(a,b){var d=M(b);c[eb("parse_as_"+d)]=function(b){return e(a,b)};c[eb("get_trusted_"+d)]=function(b){return f(a,b)};c[eb("trust_as_"+
d)]=function(b){return g(a,b)}});return c}]}function xf(){this.$get=["$window","$document",function(a,b){var d={},c=ca((/android (\d+)/.exec(M((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,m=!1,l=!1;if(k){for(var n in k)if(m=h.exec(n)){g=m[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");m=!!("transition"in k||g+"Transition"in k);l=!!("animation"in k||g+"Animation"in
k);!c||m&&l||(m=H(k.webkitTransition),l=H(k.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>c||e),hasEvent:function(a){if("input"===a&&11>=Ha)return!1;if(r(d[a])){var b=f.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ca(),vendorPrefix:g,transitions:m,animations:l,android:c}}]}function zf(){this.$get=["$templateCache","$http","$q","$sce",function(a,b,d,c){function e(f,g){e.totalPendingRequests++;if(!H(f)||r(a.get(f)))f=c.getTrustedResourceUrl(f);var h=b.defaults&&b.defaults.transformResponse;
L(h)?h=h.filter(function(a){return a!==$b}):h===$b&&(h=null);return b.get(f,{cache:a,transformResponse:h})["finally"](function(){e.totalPendingRequests--}).then(function(b){a.put(f,b.data);return b.data},function(a){if(!g)throw ga("tpload",f,a.status,a.statusText);return d.reject(a)})}e.totalPendingRequests=0;return e}]}function Af(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];p(a,function(a){var c=
da.element(a).data("$binding");c&&p(c,function(c){d?(new RegExp("(^|\\s)"+vd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Bf(){this.$get=
["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,m){G(f)||(m=k,k=f,f=v);var l=ta.call(arguments,3),n=u(m)&&!m,p=(n?c:d).defer(),z=p.promise,t;t=b.defer(function(){try{p.resolve(f.apply(null,l))}catch(b){p.reject(b),e(b)}finally{delete g[z.$$timeoutId]}n||a.$apply()},k);z.$$timeoutId=t;g[t]=p;return z}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}
function xa(a){Ha&&(Y.setAttribute("href",a),a=Y.href);Y.setAttribute("href",a);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function gd(a){a=H(a)?xa(a):a;return a.protocol===xd.protocol&&a.host===xd.host}function Cf(){this.$get=ma(R)}function yd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}
var d=a[0]||{},c={},e="";return function(){var a,g,h,k,m;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(m=b(g.substring(0,k)),r(c[m])&&(c[m]=b(g.substring(k+1))));return c}}function Gf(){this.$get=yd}function Jc(a){function b(d,c){if(K(d)){var e={};p(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",zd);b("date",Ad);
b("filter",jg);b("json",kg);b("limitTo",lg);b("lowercase",mg);b("number",Bd);b("orderBy",Cd);b("uppercase",ng)}function jg(){return function(a,b,d){if(!Aa(a)){if(null==a)return a;throw B("filter")("notarray",a);}var c;switch(hc(b)){case "function":break;case "boolean":case "null":case "number":case "string":c=!0;case "object":b=og(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function og(a,b,d){var c=K(a)&&"$"in a;!0===b?b=la:G(b)||(b=function(a,b){if(r(a))return!1;if(null===
a||null===b)return a===b;if(K(b)||K(a)&&!qc(a))return!1;a=M(""+a);b=M(""+b);return-1!==a.indexOf(b)});return function(e){return c&&!K(e)?Ja(e,a.$,b,!1):Ja(e,a,b,d)}}function Ja(a,b,d,c,e){var f=hc(a),g=hc(b);if("string"===g&&"!"===b.charAt(0))return!Ja(a,b.substring(1),d,c);if(L(a))return a.some(function(a){return Ja(a,b,d,c)});switch(f){case "object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&Ja(a[h],b,d,!0))return!0;return e?!1:Ja(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!G(e)&&!r(e)&&
(f="$"===h,!Ja(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function hc(a){return null===a?"null":typeof a}function zd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){r(c)&&(c=b.CURRENCY_SYM);r(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Dd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Bd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Dd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function pg(a){var b=
0,d,c,e,f,g;-1<(c=a.indexOf(Ed))&&(a=a.replace(Ed,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==ic;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==ic;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Fd&&(d=d.splice(0,Fd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function qg(a,b,d,c){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d)e.splice(d);else{a.i=1;e.length=d=b+1;for(var g=0;g<d;g++)e[g]=
0}for(5<=c&&e[d-1]++;f<b;f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Dd(a,b,d,c,e){if(!H(a)&&!P(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=pg(h);qg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>
b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Gb(a,b,d){var c="";0>a&&(c="-",a=-a);for(a=""+a;a.length<b;)a=ic+a;d&&(a=a.substr(a.length-b));return c+a}function ba(a,b,d,c){d=d||0;return function(e){e=e["get"+a]();if(0<d||e>-d)e+=d;0===e&&-12==d&&(e=12);return Gb(e,b,c)}}function Hb(a,b){return function(d,c){var e=d["get"+a](),f=rb(b?"SHORT"+
a:a);return c[f][e]}}function Gd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Hd(a){return function(b){var d=Gd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Gb(b,a)}}function jc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Ad(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=ca(b[9]+
b[10]),g=ca(b[9]+b[11]));h.call(a,ca(b[1]),ca(b[2])-1,ca(b[3]));f=ca(b[4]||0)-f;g=ca(b[5]||0)-g;h=ca(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,m;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;H(c)&&(c=rg.test(c)?ca(c):b(c));P(c)&&(c=new Date(c));if(!ea(c)||!isFinite(c.getTime()))return c;for(;d;)(m=sg.exec(d))?(h=bb(h,
m,1),d=h.pop()):(h.push(d),d=null);var l=c.getTimezoneOffset();f&&(l=vc(f,l),c=Pb(c,f,!0));p(h,function(b){k=tg[b];g+=k?k(c,a.DATETIME_FORMATS,l):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function kg(){return function(a,b){r(b)&&(b=2);return cb(a,b)}}function lg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):ca(b);if(isNaN(b))return a;P(a)&&(a=a.toString());if(!L(a)&&!H(a))return a;d=!d||isNaN(d)?0:ca(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?a.slice(d,
d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),d)}}function Cd(a){function b(b,d){d=d?-1:1;return b.map(function(b){var c=1,h=Za;if(G(b))h=b;else if(H(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(h=a(b),h.constant))var k=h(),h=function(a){return a[k]}}return{get:h,descending:c*d}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}return function(a,e,f){if(!Aa(a))return a;L(e)||(e=[e]);0===
e.length&&(e=["+"]);var g=b(e,f);g.push({get:function(){return{}},descending:f?-1:1});a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("string"===c)e=e.toLowerCase();else if("object"===c)a:{if("function"===typeof e.valueOf&&(e=e.valueOf(),d(e)))break a;if(qc(e)&&(e=e.toString(),d(e)))break a;e=b}return{value:e,type:c}})}});a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],
f=b.predicateValues[d],p=0;c.type===f.type?c.value!==f.value&&(p=c.value<f.value?-1:1):p=c.type<f.type?-1:1;if(c=p*g[d].descending)break}return c});return a=a.map(function(a){return a.value})}}function Ka(a){G(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ma(a)}function Id(a,b,d,c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=x;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Ib;f.$rollbackViewValue=function(){p(g,
function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){p(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Sa(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];p(f.$pending,function(b,c){f.$setValidity(c,null,a)});p(f.$error,function(b,c){f.$setValidity(c,null,a)});p(f.$$success,function(b,c){f.$setValidity(c,
null,a)});ab(g,a);a.$$parentForm=Ib};Jd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(ab(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Xa);c.addClass(a,Jb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Xa,Jb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;p(g,function(a){a.$setPristine()})};f.$setUntouched=function(){p(g,
function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function kc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function ib(a,b,d,c,e,f){var g=M(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0});b.on("compositionend",function(){h=!1;m()})}var k,m=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||
(e=T(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",m);else{var l=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||m(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||l(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",l)}b.on("change",m);if(Kd[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;
k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||m(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Kb(a,b){return function(d,c){var e,f;if(ea(d))return d;if(H(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(ug.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),
sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},p(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function jb(a,b,d,c){return function(e,f,g,h,k,m,l){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function p(a){return u(a)&&!ea(a)?d(a)||x:a}Ld(e,f,g,h);ib(e,f,g,h,k,m);var z=h&&h.$options&&h.$options.timezone,t;h.$$parserName=a;h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?
(a=d(a,t),z&&(a=Pb(a,z)),a):x});h.$formatters.push(function(a){if(a&&!ea(a))throw kb("datefmt",a);if(n(a))return(t=a)&&z&&(t=Pb(t,z,!0)),l("date")(a,c,z);t=null;return""});if(u(g.min)||g.ngMin){var A;h.$validators.min=function(a){return!n(a)||r(A)||d(a)>=A};g.$observe("min",function(a){A=p(a);h.$validate()})}if(u(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!n(a)||r(q)||d(a)<=q};g.$observe("max",function(a){q=p(a);h.$validate()})}}}function Ld(a,b,d,c){(c.$$hasNativeValidators=K(b[0].validity))&&
c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput&&!c.typeMismatch?x:a})}function Md(a,b,d,c,e){if(u(c)){a=a(c);if(!a.constant)throw kb("constexpr",d,c);return a(b)}return e}function lc(a,b){a="ngClass"+a;return["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],l=0;l<b.length;l++)if(e==b[l])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(p(a,function(a){b=b.concat(e(a))}),b):H(a)?a.split(" "):K(a)?(p(a,function(a,c){a&&
(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=m(a,1);h.$addClass(a)}function m(a,b){var c=g.data("$classCounts")||Z(),d=[];p(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function l(a,b){var e=c(b,a),f=c(a,b),e=m(e,1),f=m(f,-1);e&&e.length&&d.addClass(g,e);f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||f.$index%2===b){var c=e(a||[]);if(!r)k(c);else if(!la(a,r)){var d=e(r);l(d,
c)}}r=L(a)?a.map(function(a){return fa(a)}):fa(a)}var r;f.$watch(h[a],n,!0);h.$observe("class",function(b){n(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[a]));g===b?k(l):(g=m(l,-1),h.$removeClass(g))}})}}}]}function Jd(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+zc(a,"-"):"";b(lb+a,!0===c);b(Nd+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;
f[Nd]=!(f[lb]=e.hasClass(lb));c.$setValidity=function(a,e,f){r(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Od(c.$pending)&&(c.$pending=x));Ma(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));c.$pending?(b(Pd,!0),c.$valid=c.$invalid=x,d("",null)):(b(Pd,!1),c.$valid=Od(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?x:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,
e,c)}}function Od(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var vg=/^\/(.+)\/([a-z]*)$/,M=function(a){return H(a)?a.toLowerCase():a},sa=Object.prototype.hasOwnProperty,rb=function(a){return H(a)?a.toUpperCase():a},Ha,D,pa,ta=[].slice,Xf=[].splice,wg=[].push,na=Object.prototype.toString,rc=Object.getPrototypeOf,Ba=B("ng"),da=R.angular||(R.angular={}),Sb,mb=0;Ha=U.documentMode;v.$inject=[];Za.$inject=[];var L=Array.isArray,Zd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,
T=function(a){return H(a)?a.trim():a},vd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ca=function(){if(!u(Ca.rules)){var a=U.querySelector("[ng-csp]")||U.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ca.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ca;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ca.rules},
ob=function(){if(u(ob.name_))return ob.name_;var a,b,d=Pa.length,c,e;for(b=0;b<d;++b)if(c=Pa[b],a=U.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return ob.name_=e},be=/:/g,Pa=["ng-","data-ng-","ng:","x-ng-"],ge=/[A-Z]/g,Ac=!1,Rb,Oa=3,ke={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};S.expando="ng339";var fb=S.cache={},Mf=1;S._data=function(a){return this.cache[a[this.expando]]||{}};var Hf=/([\:\-\_]+(.))/g,If=/^moz([A-Z])/,wb={mouseleave:"mouseout",
mouseenter:"mouseover"},Ub=B("jqLite"),Lf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Tb=/<|&#?\w+;/,Jf=/<([\w:-]+)/,Kf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;
ja.th=ja.td;var Rf=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Qa=S.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===U.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),S(R).on("load",b))},toString:function(){var a=[];p(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?D(this[a]):D(this[this.length+a])},length:0,push:wg,sort:[].sort,splice:[].splice},Bb={};p("multiple selected checked disabled readOnly required open".split(" "),
function(a){Bb[M(a)]=a});var Sc={};p("input select option textarea button form details".split(" "),function(a){Sc[a]=!0});var ad={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};p({data:Wb,removeData:ub,hasData:function(a){for(var b in fb[a.ng339])return!0;return!1}},function(a,b){S[b]=a});p({data:Wb,inheritedData:Ab,scope:function(a){return D.data(a,"$scope")||Ab(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return D.data(a,"$isolateScope")||
D.data(a,"$isolateScopeNoTemplate")},controller:Pc,injector:function(a){return Ab(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:xb,css:function(a,b,d){b=eb(b);if(u(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Oa&&2!==c&&8!==c)if(c=M(b),Bb[c])if(u(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||v).specified?c:x;else if(u(d))a.setAttribute(b,d);else if(a.getAttribute)return a=
a.getAttribute(b,2),null===a?x:a},prop:function(a,b,d){if(u(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(r(d)){var c=a.nodeType;return 1===c||c===Oa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===oa(a)){var d=[];p(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;tb(a,!0);a.innerHTML=b},empty:Qc},function(a,b){S.prototype[b]=
function(b,c){var e,f,g=this.length;if(a!==Qc&&r(2==a.length&&a!==xb&&a!==Pc?b:c)){if(K(b)){for(e=0;e<g;e++)if(a===Wb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=r(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});p({removeData:ub,on:function(a,b,d,c){if(u(c))throw Ub("onargs");if(Kc(a)){c=vb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Of(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,
h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],wb[b]?(h(wb[b],Qf),h(b,x,!0)):h(b)}},off:Oc,one:function(a,b,d){a=D(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;tb(a);p(new S(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];p(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||
a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new S(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;p(new S(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Mc(a,D(b).eq(0).clone()[0])},remove:Xb,detach:function(a){Xb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new S(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:zb,removeClass:yb,toggleClass:function(a,
b,d){b&&p(b.split(" "),function(b){var e=d;r(e)&&(e=!xb(a,b));(e?zb:yb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Vb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=vb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=
!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:v,type:f,target:a},b.type&&(c=N(c,b)),b=fa(g),e=d?[c].concat(d):[c],p(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){S.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)r(f)?(f=a(this[g],b,c,e),u(f)&&(f=D(f))):Nc(f,a(this[g],b,c,e));return u(f)?f:this};S.prototype.bind=S.prototype.on;S.prototype.unbind=S.prototype.off});Ta.prototype={put:function(a,
b){this[Da(a,this.nextUid)]=b},get:function(a){return this[Da(a,this.nextUid)]},remove:function(a){var b=this[a=Da(a,this.nextUid)];delete this[a];return b}};var Ff=[function(){this.$get=[function(){return Ta}]}],Uc=/^[^\(]*\(\s*([^\)]*)\)/m,xg=/,/,yg=/^\s*(_?)(\S+?)\1\s*$/,Tc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ea=B("$injector");db.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw H(d)&&d||(d=a.name||Sf(a)),Ea("strictdi",d);b=a.toString().replace(Tc,
"");b=b.match(Uc);p(b[1].split(xg),function(a){a.replace(yg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?(b=a.length-1,Ra(a[b],"fn"),c=a.slice(0,b)):Ra(a,"fn",!0);return c};var Qd=B("$animate"),Ye=function(){this.$get=function(){}},Ze=function(){var a=new Ta,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=H(b)?b.split(" "):L(b)?b:[],p(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){p(b,function(b){var c=a.get(b);if(c){var d=Tf(b.attr("class")),
e="",f="";p(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});p(b,function(a){e&&zb(a,e);f&&yb(a,f)});a.remove(b)}});b.length=0}return{enabled:v,on:v,off:v,pin:v,push:function(g,h,k,m){m&&m();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,m=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),m=e(k,m,!1),h||m)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},We=["$provide",function(a){var b=this;
this.$$registeredAnimations=Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Qd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Qd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;
a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&D(f);g=g&&D(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Fa(h))},move:function(e,f,g,h){f=f&&D(f);g=g&&D(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Fa(h))},leave:function(b,c){return a.push(b,"leave",Fa(c),function(){b.remove()})},
addClass:function(b,c,g){g=Fa(g);g.addClass=gb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,c,g){g=Fa(g);g.removeClass=gb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Fa(h);h.addClass=gb(h.addClass,c);h.removeClass=gb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Fa(k);k.from=k.from?N(k.from,c):c;k.to=k.to?N(k.to,g):g;k.tempClasses=gb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],af=
function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},$e=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===
a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;p(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:v,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},
"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(p(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=
0,this._state=2)}};return f}]},Xe=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=Na(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ga=B("$compile");Cc.$inject=
["$provide","$$sanitizeUriProvider"];var Wc=/^((?:x|data)[\:\-_])/i,Yf=B("$controller"),Zc=/^(\S+)(\s+as\s+([\w$]+))?$/,gf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof D&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},bd="application/json",ac={"Content-Type":bd+";charset=utf-8"},$f=/^\[|^\{(?!\{)/,ag={"[":/]$/,"{":/}$/},Zf=/^\)\]\}',?\n/,zg=B("$http"),fd=function(a){return function(){throw zg("legacy",a);}},Ia=da.$interpolateMinErr=B("$interpolate");
Ia.throwNoconcat=function(a){throw Ia("noconcat",a);};Ia.interr=function(a,b){return Ia("interr",a,b.toString())};var Ag=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,cg={http:80,https:443,ftp:21},Cb=B("$location"),Bg={$$html5:!1,$$replace:!1,absUrl:Db("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=Ag.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Db("$$protocol"),host:Db("$$host"),port:Db("$$port"),
path:kd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(H(a)||P(a))a=a.toString(),this.$$search=xc(a);else if(K(a))a=Na(a,{}),p(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Cb("isrcharg");break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:kd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=
!0;return this}};p([jd,dc,cc],function(a){a.prototype=Object.create(Bg);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==cc||!this.$$html5)throw Cb("nostate");this.$$state=r(b)?null:b;return this}});var aa=B("$parse"),dg=Function.prototype.call,eg=Function.prototype.apply,fg=Function.prototype.bind,Lb=Z();p("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Lb[a]=!0});var Cg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},fc=function(a){this.options=
a};fc.prototype={constructor:fc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Lb[b],e=Lb[d];
Lb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=
a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw aa("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=M(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&
c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=
this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Cg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=
function(a,b){this.lexer=a;this.options=b};s.Program="Program";s.ExpressionStatement="ExpressionStatement";s.AssignmentExpression="AssignmentExpression";s.ConditionalExpression="ConditionalExpression";s.LogicalExpression="LogicalExpression";s.BinaryExpression="BinaryExpression";s.UnaryExpression="UnaryExpression";s.CallExpression="CallExpression";s.MemberExpression="MemberExpression";s.Identifier="Identifier";s.Literal="Literal";s.ArrayExpression="ArrayExpression";s.Property="Property";s.ObjectExpression=
"ObjectExpression";s.ThisExpression="ThisExpression";s.NGValueParameter="NGValueParameter";s.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,
expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,
consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=
this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+",
"-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=Na(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(",
"[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},
parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");
return{type:s.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:s.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))}this.consume("}");return{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw aa("syntax",b.text,a,b.index+1,this.text,
this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw aa("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw aa("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},
expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},constants:{"true":{type:s.Literal,value:!0},"false":{type:s.Literal,value:!1},"null":{type:s.Literal,value:null},undefined:{type:s.Literal,value:x},"this":{type:s.ThisExpression}}};sd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};X(c,d.$filter);var e="",f;this.stage="assign";
if(f=qd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l");f=od(c.body);d.stage="inputs";p(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+
e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Wa,ya,md,ld,Eb,gg,nd,a);this.state=this.stage=x;e.literal=rd(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;p(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},
generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;p(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,m,l;c=c||v;if(!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",
this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:p(a.body,function(b,c){k.recurse(b.expression,x,x,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:l=this.escape(a.value);this.assign(b,l);c(l);break;case s.UnaryExpression:this.recurse(a.argument,x,x,function(a){h=a});l=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,l);c(l);break;case s.BinaryExpression:this.recurse(a.left,
x,x,function(a){g=a});this.recurse(a.right,x,x,function(a){h=a});l="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,l);c(l);break;case s.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case s.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);
break;case s.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Wa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",
a.name)));(k.state.expensiveChecks||Fb(a.name))&&k.addEnsureSafeObject(b);c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,x,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),l=k.ensureSafeObject(k.computedMember(g,
h)),k.assign(b,l),d&&(d.computed=!0,d.name=h);else{Wa(a.property.name);e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));l=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Fb(a.property.name))l=k.ensureSafeObject(l);k.assign(b,l);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case s.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),m=[],p(a.arguments,
function(a){var b=k.nextId();k.recurse(a,b);m.push(b)}),l=h+"("+m.join(",")+")",k.assign(b,l),c(b)):(h=k.nextId(),g={},m=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);p(a.arguments,function(a){k.recurse(a,k.nextId(),x,function(a){m.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),l=k.member(g.context,g.name,g.computed)+"("+m.join(",")+")"):l=h+"("+m.join(",")+")";l=k.ensureSafeObject(l);k.assign(b,l)},
function(){k.assign(b,"undefined")});c(b)}));break;case s.AssignmentExpression:h=this.nextId();g={};if(!pd(a.left))throw aa("lval");this.recurse(a.left,x,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);l=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,l);c(b||l)})},1);break;case s.ArrayExpression:m=[];p(a.elements,function(a){k.recurse(a,k.nextId(),x,function(a){m.push(a)})});
l="["+m.join(",")+"]";this.assign(b,l);c(l);break;case s.ObjectExpression:m=[];p(a.properties,function(a){k.recurse(a.value,k.nextId(),x,function(b){m.push(k.escape(a.key.type===s.Identifier?a.key.name:""+a.key.value)+":"+b)})});l="{"+m.join(",")+"}";this.assign(b,l);c(l);break;case s.ThisExpression:this.assign(b,"s");c("s");break;case s.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+
this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,
"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},
addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+",text)")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+
a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(H(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(P(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===
typeof a)return"undefined";throw aa("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};td.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;X(c,d.$filter);var e,f;if(e=qd(c))f=this.recurse(e);e=od(c.body);var g;e&&(g=[],p(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];p(c.body,function(a){h.push(d.recurse(a.expression))});
e=0===c.body.length?function(){}:1===c.body.length?h[0]:function(a,b){var c;p(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=rd(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),
e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return Wa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Fb(a.name),b,d,f.expression);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Wa(a.property.name,
f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case s.CallExpression:return g=[],p(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(x,n,f);return b?{context:x,name:x,value:a}:a}:function(a,
c,d,l){var n=e(a,c,d,l),p;if(null!=n.value){ya(n.context,f.expression);md(n.value,f.expression);p=[];for(var r=0;r<g.length;++r)p.push(ya(g[r](a,c,d,l),f.expression));p=ya(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,l){var n=c(a,d,g,l);a=e(a,d,g,l);ya(n.value,f.expression);Eb(n.context);n.context[n.name]=a;return b?{value:a}:a};case s.ArrayExpression:return g=[],p(a.elements,function(a){g.push(f.recurse(a))}),
function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],p(a.properties,function(a){g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,
b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=nd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(u(h)?h:0)-(u(c)?c:0);return d?{value:h}:h}},"binary*":function(a,
b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,
d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,
e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:x,name:x,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=
g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:x;b&&ya(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var m=a(f,g,h,k),l,n;null!=m&&(l=b(f,g,h,k),l=ld(l),Wa(l,e),c&&1!==c&&(Eb(m),m&&!m[l]&&(m[l]={})),n=m[l],ya(n,e));return d?{context:m,name:l,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,m){g=a(g,h,k,m);e&&1!==e&&(Eb(g),g&&!g[b]&&(g[b]={}));h=null!=g?g[b]:x;(d||Fb(b))&&ya(h,f);return c?{context:g,name:b,value:h}:
h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var gc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new s(this.lexer);this.astCompiler=d.csp?new td(this.ast,b):new sd(this.ast,b)};gc.prototype={constructor:gc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var hg=Object.prototype.valueOf,za=B("$sce"),ka={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ga=B("$compile"),Y=U.createElement("a"),
xd=xa(R.location.href);yd.$inject=["$document"];Jc.$inject=["$provide"];var Fd=22,Ed=".",ic="0";zd.$inject=["$locale"];Bd.$inject=["$locale"];var tg={yyyy:ba("FullYear",4),yy:ba("FullYear",2,0,!0),y:ba("FullYear",1),MMMM:Hb("Month"),MMM:Hb("Month",!0),MM:ba("Month",2,1),M:ba("Month",1,1),dd:ba("Date",2),d:ba("Date",1),HH:ba("Hours",2),H:ba("Hours",1),hh:ba("Hours",2,-12),h:ba("Hours",1,-12),mm:ba("Minutes",2),m:ba("Minutes",1),ss:ba("Seconds",2),s:ba("Seconds",1),sss:ba("Milliseconds",3),EEEE:Hb("Day"),
EEE:Hb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Gb(Math[0<a?"floor":"ceil"](a/60),2)+Gb(Math.abs(a%60),2))},ww:Hd(2),w:Hd(1),G:jc,GG:jc,GGG:jc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},sg=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,rg=/^\-?\d+$/;Ad.$inject=["$locale"];var mg=ma(M),ng=ma(rb);Cd.$inject=["$parse"];var me=ma({restrict:"E",compile:function(a,
b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===na.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),sb={};p(Bb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=va("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});sb[c]=function(){return{restrict:"A",priority:100,link:e}}}});p(ad,function(a,b){sb[b]=
function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(vg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});p(["src","srcset","href"],function(a){var b=va("ng-"+a);sb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===na.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),
Ha&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Ib={$addControl:v,$$renameControl:function(a,b){a.$name=b},$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v,$setSubmitted:v};Id.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Rd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||v}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Id,compile:function(d,f){d.addClass(Xa).addClass(lb);
var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var r=g?c(n.$name):v;g&&(r(a,n),e.$observe(g,function(b){n.$name!==b&&(r(a,x),n.$$parentForm.$$renameControl(n,b),r=c(n.$name),r(a,n))}));
d.on("$destroy",function(){n.$$parentForm.$removeControl(n);r(a,x);N(n,Ib)})}}}}}]},ne=Rd(),Ae=Rd(!0),ug=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Dg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Eg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Fg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Sd=/^(\d{4})-(\d{2})-(\d{2})$/,Td=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
mc=/^(\d{4})-W(\d\d)$/,Ud=/^(\d{4})-(\d\d)$/,Vd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Kd=Z();p(["date","datetime-local","month","time","week"],function(a){Kd[a]=!0});var Wd={text:function(a,b,d,c,e,f){ib(a,b,d,c,e,f);kc(c)},date:jb("date",Sd,Kb(Sd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jb("datetimelocal",Td,Kb(Td,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:jb("time",Vd,Kb(Vd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jb("week",mc,function(a,b){if(ea(a))return a;
if(H(a)){mc.lastIndex=0;var d=mc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Gd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:jb("month",Ud,Kb(Ud,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Ld(a,b,d,c);ib(a,b,d,c,e,f);c.$$parserName="number";c.$parsers.push(function(a){return c.$isEmpty(a)?null:Fg.test(a)?parseFloat(a):x});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!P(a))throw kb("numfmt",
a);a=a.toString()}return a});if(u(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||r(g)||a>=g};d.$observe("min",function(a){u(a)&&!P(a)&&(a=parseFloat(a,10));g=P(a)&&!isNaN(a)?a:x;c.$validate()})}if(u(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||r(h)||a<=h};d.$observe("max",function(a){u(a)&&!P(a)&&(a=parseFloat(a,10));h=P(a)&&!isNaN(a)?a:x;c.$validate()})}},url:function(a,b,d,c,e,f){ib(a,b,d,c,e,f);kc(c);c.$$parserName="url";c.$validators.url=
function(a,b){var d=a||b;return c.$isEmpty(d)||Dg.test(d)}},email:function(a,b,d,c,e,f){ib(a,b,d,c,e,f);kc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Eg.test(d)}},radio:function(a,b,d,c){r(d.name)&&b.attr("name",++mb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value==c.$viewValue};d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Md(h,a,"ngTrueValue",d.ngTrueValue,
!0),m=Md(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return la(a,k)});c.$parsers.push(function(a){return a?k:m})},hidden:v,button:v,submit:v,reset:v,file:v},Dc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Wd[M(g.type)]||Wd.text)(e,f,
g,h[0],b,a,d,c)}}}}],Gg=/^(true|false|\d+)$/,Se=function(){return{restrict:"A",priority:100,compile:function(a,b){return Gg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},se=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],ue=["$interpolate","$compile",
function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],te=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=
f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Re=ma({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),ve=lc("",!0),xe=lc("Odd",0),we=lc("Even",1),ye=Ka({compile:function(a,b){b.$set("ngCloak",x);a.removeClass("ng-cloak")}}),ze=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ic={},Hg={blur:!0,focus:!0};p("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=va("ng-"+a);Ic[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Hg[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ce=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,d,c,e,f){var g,h,k;b.$watch(c.ngIf,function(b){b?h||f(function(b,e){h=e;b[b.length++]=U.createComment(" end ngIf: "+
c.ngIf+" ");g={clone:b};a.enter(b,d.parent(),d)}):(k&&(k.remove(),k=null),h&&(h.$destroy(),h=null),g&&(k=qb(g.clone),a.leave(k).then(function(){k=null}),g=null))})}}}],De=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:da.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,l,n,p){var r=0,t,s,q,y=function(){s&&(s.remove(),s=null);t&&(t.$destroy(),t=null);q&&
(d.leave(q).then(function(){s=null}),s=q,q=null)};c.$watch(f,function(f){var l=function(){!u(h)||h&&!c.$eval(h)||b()},s=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&s===r){var b=c.$new();n.template=a;a=p(b,function(a){y();d.enter(a,null,e).then(l)});t=b;q=a;t.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||s!==r||(y(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(y(),n.template=null)})}}}}],Ue=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){/SVG/.test(d[0].toString())?(d.empty(),a(Lc(e.template,U).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ee=Ka({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Qe=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?T(e):e;c.$parsers.push(function(a){if(!r(a)){var b=
[];a&&p(a.split(g),function(a){a&&b.push(f?T(a):a)});return b}});c.$formatters.push(function(a){return L(a)?a.join(e):x});c.$isEmpty=function(a){return!a||!a.length}}}},lb="ng-valid",Nd="ng-invalid",Xa="ng-pristine",Jb="ng-dirty",Pd="ng-pending",kb=B("ngModel"),Ig=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,m){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=x;this.$validators={};this.$asyncValidators=
{};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=x;this.$name=m(d.name||"",!1)(a);this.$$parentForm=Ib;var l=e(d.ngModel),n=l.assign,s=l,z=n,t=null,A,q=this;this.$$setOptions=function(a){if((q.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");s=function(a){var c=l(a);G(c)&&(c=b(a));return c};z=function(a,
b){G(l(a))?f(a,{$$$p:q.$modelValue}):n(a,q.$modelValue)}}else if(!l.assign)throw kb("nonassign",d.ngModel,ua(c));};this.$render=v;this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var y=0;Jd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){q.$dirty=!1;q.$pristine=!0;f.removeClass(c,Jb);f.addClass(c,Xa)};this.$setDirty=function(){q.$dirty=!0;q.$pristine=!1;f.removeClass(c,Xa);f.addClass(c,Jb);q.$$parentForm.$setDirty()};
this.$setUntouched=function(){q.$touched=!1;q.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){q.$touched=!0;q.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(t);q.$viewValue=q.$$lastCommittedViewValue;q.$render()};this.$validate=function(){if(!P(q.$modelValue)||!isNaN(q.$modelValue)){var a=q.$$rawModelValue,b=q.$valid,c=q.$modelValue,d=q.$options&&q.$options.allowInvalid;q.$$runValidators(a,q.$$lastCommittedViewValue,
function(e){d||b===e||(q.$modelValue=e?a:x,q.$modelValue!==c&&q.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;p(q.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(p(q.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;p(q.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!G(h.then))throw kb("nopromise",h);f(g,x);c.push(h.then(function(){f(g,!0)},function(a){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},
v):g(!0)}function f(a,b){h===y&&q.$setValidity(a,b)}function g(a){h===y&&c(a)}y++;var h=y;(function(){var a=q.$$parserName||"parse";if(r(A))f(a,null);else return A||(p(q.$validators,function(a,b){f(b,null)}),p(q.$asyncValidators,function(a,b){f(b,null)})),f(a,A),A;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=q.$viewValue;g.cancel(t);if(q.$$lastCommittedViewValue!==a||""===a&&q.$$hasNativeValidators)q.$$lastCommittedViewValue=a,q.$pristine&&this.$setDirty(),this.$$parseAndValidate()};
this.$$parseAndValidate=function(){var b=q.$$lastCommittedViewValue;if(A=r(b)?x:!0)for(var c=0;c<q.$parsers.length;c++)if(b=q.$parsers[c](b),r(b)){A=!1;break}P(q.$modelValue)&&isNaN(q.$modelValue)&&(q.$modelValue=s(a));var d=q.$modelValue,e=q.$options&&q.$options.allowInvalid;q.$$rawModelValue=b;e&&(q.$modelValue=b,q.$modelValue!==d&&q.$$writeModelToScope());q.$$runValidators(b,q.$$lastCommittedViewValue,function(a){e||(q.$modelValue=a?b:x,q.$modelValue!==d&&q.$$writeModelToScope())})};this.$$writeModelToScope=
function(){z(a,q.$modelValue);p(q.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){q.$viewValue=a;q.$options&&!q.$options.updateOnDefault||q.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=q.$options;d&&u(d.debounce)&&(d=d.debounce,P(d)?c=d:P(d[b])?c=d[b]:P(d["default"])&&(c=d["default"]));g.cancel(t);c?t=g(function(){q.$commitViewValue()},c):h.$$phase?q.$commitViewValue():a.$apply(function(){q.$commitViewValue()})};a.$watch(function(){var b=
s(a);if(b!==q.$modelValue&&(q.$modelValue===q.$modelValue||b===b)){q.$modelValue=q.$$rawModelValue=b;A=x;for(var c=q.$formatters,d=c.length,e=b;d--;)e=c[d](e);q.$viewValue!==e&&(q.$viewValue=q.$$lastCommittedViewValue=e,q.$render(),q.$$runValidators(b,e,v))}return b})}],Pe=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ig,priority:1,compile:function(b){b.addClass(Xa).addClass("ng-untouched").addClass(lb);return{pre:function(a,b,e,f){var g=
f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(c){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Jg=/(\s+|^)default(\s+|$)/,
Te=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=Na(a.$eval(b.ngModelOptions));u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=T(this.$options.updateOn.replace(Jg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},Fe=Ka({terminal:!0,priority:1E3}),Kg=B("ngOptions"),Lg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
Ne=["$compile","$parse",function(a,b){function d(a,c,d){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function m(a){var b;if(!p&&Aa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var l=a.match(Lg);if(!l)throw Kg("iexp",a,ua(c));var n=l[5]||l[7],p=l[6];a=/ as /.test(l[0])&&l[1];var r=l[9];c=b(l[2]?l[1]:n);var t=a&&b(a)||c,s=r&&b(r),q=r?function(a,b){return s(d,b)}:function(a){return Da(a)},y=function(a,
b){return q(a,C(a,b))},w=b(l[2]||l[1]),x=b(l[3]||""),F=b(l[4]||""),u=b(l[8]),v={},C=p?function(a,b){v[p]=b;v[n]=a;return v}:function(a){v[n]=a;return v};return{trackBy:r,getTrackByValue:y,getWatchables:b(u,function(a){var b=[];a=a||[];for(var c=m(a),e=c.length,f=0;f<e;f++){var g=a===c?f:c[f],k=C(a[g],g),g=q(a[g],k);b.push(g);if(l[2]||l[1])g=w(d,k),b.push(g);l[4]&&(k=F(d,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},c=u(d)||[],f=m(c),g=f.length,l=0;l<g;l++){var n=c===f?l:f[l],p=
C(c[n],n),s=t(d,p),n=q(s,p),v=w(d,p),A=x(d,p),p=F(d,p),s=new e(n,s,v,A,p);a.push(s);b[n]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[y(a)]},getViewValueFromOption:function(a){return r?da.copy(a.viewValue):a.viewValue}}}}}var c=U.createElement("option"),e=U.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=v},post:function(b,g,h,k){function m(a,b){a.element=b;b.disabled=a.disabled;
a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function l(a,b,c,d){b&&M(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c));return c}function n(a){for(var b;a;)b=a.nextSibling,Xb(a),a=b}function r(a){var b=y&&y[0],c=u&&u[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===oa(a)&&""===a.value);)a=a.nextSibling;return a}function s(){var a=E&&x.readValue();E=C.getOptions();var b={},d=g[0].firstChild;F&&g.prepend(y);
d=r(d);E.items.forEach(function(a){var f,h;a.group?(f=b[a.group],f||(f=l(g[0],d,"optgroup",e),d=f.nextSibling,f.label=a.group,f=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),h=l(f.groupElement,f.currentOptionElement,"option",c),m(a,h),f.currentOptionElement=h.nextSibling):(h=l(g[0],d,"option",c),m(a,h),d=h.nextSibling)});Object.keys(b).forEach(function(a){n(b[a].currentOptionElement)});n(d);t.$render();if(!t.$isEmpty(a)){var f=x.readValue();(C.trackBy||q?la(a,f):a===f)||(t.$setViewValue(f),
t.$render())}}var t=k[1];if(t){var x=k[0],q=h.multiple,y;k=0;for(var w=g.children(),v=w.length;k<v;k++)if(""===w[k].value){y=w.eq(k);break}var F=!!y,u=D(c.cloneNode(!1));u.val("?");var E,C=d(h.ngOptions,g,b);q?(t.$isEmpty=function(a){return!a||0===a.length},x.writeValue=function(a){E.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=E.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},x.readValue=function(){var a=g.val()||[],b=[];p(a,function(a){(a=E.selectValueMap[a])&&
!a.disabled&&b.push(E.getViewValueFromOption(a))});return b},C.trackBy&&b.$watchCollection(function(){if(L(t.$viewValue))return t.$viewValue.map(function(a){return C.getTrackByValue(a)})},function(){t.$render()})):(x.writeValue=function(a){var b=E.getOptionFromViewValue(a);b&&!b.disabled?(g[0].value!==b.selectValue&&(u.remove(),F||y.remove(),g[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||F?(u.remove(),F||g.prepend(y),g.val(""),y.prop("selected",
!0),y.attr("selected",!0)):(F||y.remove(),g.prepend(u),g.val("?"),u.prop("selected",!0),u.attr("selected",!0))},x.readValue=function(){var a=E.selectValueMap[g.val()];return a&&!a.disabled?(F||y.remove(),u.remove(),E.getViewValueFromOption(a)):null},C.trackBy&&b.$watch(function(){return C.getTrackByValue(t.$viewValue)},function(){t.$render()}));F?(y.remove(),a(y)(b),y.removeClass("ng-scope")):y=D(c.cloneNode(!1));s();b.$watchCollection(C.getWatchables,s)}}}}}],Ge=["$locale","$interpolate","$log",
function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var m=h.count,l=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,s=f.$eval(l)||{},x={},t=b.startSymbol(),u=b.endSymbol(),q=t+m+"-"+n+u,y=da.noop,w;p(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+M(c[2]),s[c]=g.attr(h.$attr[b]))});p(s,function(a,d){x[d]=b(a.replace(c,q))});f.$watch(m,function(b){var c=parseFloat(b),e=isNaN(c);e||c in s||(c=a.pluralCat(c-n));c===w||e&&P(w)&&isNaN(w)||(y(),
e=x[c],r(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+l),y=v,k()):y=f.$watch(e,k),w=c)})}}}],He=["$parse","$animate",function(a,b){var d=B("ngRepeat"),c=function(a,b,c,d,k,m,l){a[c]=d;k&&(a[k]=m);a.$index=b;a.$first=0===b;a.$last=b===l-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(e,f){var g=f.ngRepeat,h=U.createComment(" end ngRepeat: "+g+" "),k=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!k)throw d("iexp",g);var m=k[1],l=k[2],n=k[3],r=k[4],k=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",m);var s=k[3]||k[1],t=k[2];if(n&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(n)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(n)))throw d("badident",n);var u,q,y,w,v={$id:Da};r?u=a(r):(y=function(a,b){return Da(b)},w=function(a){return a});return function(a,e,f,k,m){u&&(q=function(b,c,d){t&&(v[t]=b);v[s]=c;v.$index=
d;return u(a,v)});var r=Z();a.$watchCollection(l,function(f){var k,l,u=e[0],v,A=Z(),C,D,J,E,G,B,H;n&&(a[n]=f);if(Aa(f))G=f,l=q||y;else for(H in l=q||w,G=[],f)sa.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);C=G.length;H=Array(C);for(k=0;k<C;k++)if(D=f===G?k:G[k],J=f[D],E=l(D,J,k),r[E])B=r[E],delete r[E],A[E]=B,H[k]=B;else{if(A[E])throw p(H,function(a){a&&a.scope&&(r[a.id]=a)}),d("dupes",g,E,J);H[k]={id:E,scope:x,clone:x};A[E]=!0}for(v in r){B=r[v];E=qb(B.clone);b.leave(E);if(E[0].parentNode)for(k=0,l=E.length;k<
l;k++)E[k].$$NG_REMOVED=!0;B.scope.$destroy()}for(k=0;k<C;k++)if(D=f===G?k:G[k],J=f[D],B=H[k],B.scope){v=u;do v=v.nextSibling;while(v&&v.$$NG_REMOVED);B.clone[0]!=v&&b.move(qb(B.clone),null,u);u=B.clone[B.clone.length-1];c(B.scope,k,s,J,t,D,C)}else m(function(a,d){B.scope=d;var e=h.cloneNode(!1);a[a.length++]=e;b.enter(a,null,u);u=e;B.clone=a;A[B.id]=B;c(B.scope,k,s,J,t,D,C)});r=A})}}}}],Ie=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?
"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Be=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Je=Ka(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&p(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Ke=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,
d,c,e){var f=[],g=[],h=[],k=[],m=function(a,b){return function(){a.splice(b,1)}};b.$watch(c.ngSwitch||c.on,function(b){var c,d;c=0;for(d=h.length;c<d;++c)a.cancel(h[c]);c=h.length=0;for(d=k.length;c<d;++c){var r=qb(g[c].clone);k[c].$destroy();(h[c]=a.leave(r)).then(m(h,c))}g.length=0;k.length=0;(f=e.cases["!"+b]||e.cases["?"])&&p(f,function(b){b.transclude(function(c,d){k.push(d);var e=b.element;c[c.length++]=U.createComment(" end ngSwitchWhen: ");g.push({clone:c});a.enter(c,e.parent(),e)})})})}}}],
Le=Ka({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Me=Ka({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Oe=Ka({restrict:"EAC",link:function(a,b,d,c,e){if(!e)throw B("ngTransclude")("orphan",ua(b));e(function(a){b.empty();
b.append(a)})}}),oe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Mg={$setViewValue:v,$render:v},Ng=["$element","$scope","$attrs",function(a,b,d){var c=this,e=new Ta;c.ngModelCtrl=Mg;c.unknownOption=D(U.createElement("option"));c.renderUnknownOption=function(b){b="? "+Da(b)+" ?";c.unknownOption.val(b);a.prepend(c.unknownOption);a.val(b)};b.$on("$destroy",function(){c.renderUnknownOption=v});c.removeUnknownOption=
function(){c.unknownOption.parent()&&c.unknownOption.remove()};c.readValue=function(){c.removeUnknownOption();return a.val()};c.writeValue=function(b){c.hasOption(b)?(c.removeUnknownOption(),a.val(b),""===b&&c.emptyOption.prop("selected",!0)):null==b&&c.emptyOption?(c.removeUnknownOption(),a.val("")):c.renderUnknownOption(b)};c.addOption=function(a,b){if(8!==b[0].nodeType){Sa(a,'"option value"');""===a&&(c.emptyOption=b);var d=e.get(a)||0;e.put(a,d+1);c.ngModelCtrl.$render();b[0].hasAttribute("selected")&&
(b[0].selected=!0)}};c.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(c.emptyOption=x)):e.put(a,b-1))};c.hasOption=function(a){return!!e.get(a)};c.registerOption=function(a,b,d,e,m){if(e){var l;d.$observe("value",function(a){u(l)&&c.removeOption(l);l=a;c.addOption(a,b)})}else m?a.$watch(m,function(a,e){d.$set("value",a);e!==a&&c.removeOption(e);c.addOption(a,b)}):c.addOption(d.value,b);b.on("$destroy",function(){c.removeOption(d.value);c.ngModelCtrl.$render()})}}],pe=function(){return{restrict:"E",
require:["select","?ngModel"],controller:Ng,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];p(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ta(a);p(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||la(g,e.$viewValue)||(g=
fa(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},re=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(u(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,
b,d,c,e)}}}}],qe=ma({restrict:"E",terminal:!1}),Fc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Ec=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){H(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw B("ngPattern")("noregexp",
f,a,ua(b));e=a||x;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||r(e)||e.test(b)}}}}},Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=ca(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=ca(a)||0;c.$validate()});
c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};R.angular.bootstrap?R.console&&console.log("WARNING: Tried to load angular more than once."):(he(),je(da),da.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,
MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",
shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;x===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),D(U).ready(function(){de(U,yc)}))})(window,document);
!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map
;
define("angular", (function (global) {
    return function () {
        var ret, fn;
        return ret || global.angular;
    };
}(this)));

/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map;
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){
this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
define("bootstrap", ["jquery"], function(){});

/*!
 * jPushMenu.js
 * 1.1.1
 * @author: takien
 * http://takien.com
 * Original version (pure JS) is created by Mary Lou http://tympanus.net/
 */

(function($) {

    $.fn.jPushMenu = function(customOptions) {
        var o = $.extend({}, $.fn.jPushMenu.defaultOptions, customOptions);

        /* add class to the body.*/

        $('body').addClass(o.bodyClass);
        $(this).addClass('jPushMenuBtn');
        $(this).click(function() {
            var target         = '',
                push_direction     = '';


            if($(this).is('.'+o.showLeftClass)) {
                target         = '.cbp-spmenu-left';
                push_direction = 'toright';
            }
            else if($(this).is('.'+o.showRightClass)) {
                target         = '.cbp-spmenu-right';
                push_direction = 'toleft';
            }
            else if($(this).is('.'+o.showTopClass)) {
                target         = '.cbp-spmenu-top';
            }
            else if($(this).is('.'+o.showBottomClass)) {
                target         = '.cbp-spmenu-bottom';
            }


            $(this).toggleClass(o.activeClass);
            $(target).toggleClass(o.menuOpenClass);

            if($(this).is('.'+o.pushBodyClass)) {
                $('body').toggleClass( 'cbp-spmenu-push-'+push_direction );
            }

            /* disable all other button*/
            $('.jPushMenuBtn').not($(this)).toggleClass('disabled');

            return false;
        });
        var jPushMenu = {
            close: function (o) {
                $('.jPushMenuBtn,body,.cbp-spmenu').removeClass('disabled active cbp-spmenu-open cbp-spmenu-push-toleft cbp-spmenu-push-toright');
            }
        }

        if(o.closeOnClickOutside) {
            $(document).click(function() {
                jPushMenu.close();
            });

            $('.cbp-spmenu,.toggle-menu').click(function(e){
                e.stopPropagation();
            });
        }
    };

    /* in case you want to customize class name,
     *  do not directly edit here, use function parameter when call jPushMenu.
     */
    $.fn.jPushMenu.defaultOptions = {
        bodyClass       : 'cbp-spmenu-push',
        activeClass     : 'menu-active',
        showLeftClass   : 'menu-left',
        showRightClass  : 'menu-right',
        showTopClass    : 'menu-top',
        showBottomClass : 'menu-bottom',
        menuOpenClass   : 'cbp-spmenu-open',
        pushBodyClass   : 'push-body',
        closeOnClickOutside: true
    };
})(jQuery);
define("jPushMenu", ["jquery"], function(){});

/**
 * Created by kubany on 10/13/2015.
 */

define('app/configuration/appConfig',[], function () {

    function config($translateProvider, $stateProvider, $urlRouterProvider/*, $locationProvider*/) {

        $translateProvider.useSanitizeValueStrategy('escapeParameters');

        $translateProvider.translations('en', english);

        $urlRouterProvider.otherwise("/#");

        //$locationProvider.html5Mode(true).hashPrefix("#");

        $translateProvider.preferredLanguage('en');

        $stateProvider.state('default', {
                url: '/',
                templateUrl: 'app/views/home-page.html',
                controller: 'categoriesCtrl',
                resolve: {

                    resolveParams: function (userService, categoryService, dealService, $q) {
                        var defer = $q.defer();

                        userService.haveConfiguration().then(function(){
                            categoryService.getCategories().then(function (categories) {
                                dealService.getDealOfTheDay().then(function (deal) {
                                    categoryService.getPopularProducts().then(function (popularProducts) {
                                        categoryService.nvHandler().then(function () {
                                            var paramsToReturn = {
                                                categories: categories,
                                                specialOffer: deal,
                                                popularProducts: popularProducts,
                                            }
                                            defer.resolve(paramsToReturn)
                                        })
                                        });
                                    });
                            });
                        });
                        return defer.promise;
                    }
                }
            })
            /*
            .state('downloads', {
                url: '/downloads',
                templateUrl: 'app/views/downloads.html',
                controller: 'downloadsCtrl',
                resolve: {}
            })*/
            .state('register', {
                url: '/register',
                templateUrl: 'app/user/views/register-page.html',
                controller: 'registerCtrl',
                resolve: {}
            })
            .state('about', {
                url: '/about',
                templateUrl: 'app/user/views/about-page.html',
                controller: 'aboutCtrl',
                resolve: {}
            })
            .state('version', {
                url: '/version',
                templateUrl: 'app/user/views/version-page.html',
                controller: 'versionCtrl',
                resolve: {}
            })
            .state('support', {
                url: '/support',
                templateUrl: 'app/views/support-page.html',
                controller: 'supportCtrl',
                controllerAs: 'suppCtrl',
                resolve: {
                    paramsToResorve: function (categoryService, $q) {
                        var defer = $q.defer()
                        categoryService.getCategories().then(function (categories) {
                            defer.resolve({
                                categories: categories,
                            });
                        });
                        return defer.promise;
                    }
                }
            })
            .state('shoppingCart', {
                url: '/shoppingCart',
                templateUrl: 'app/views/shoppingCart.html',
                controller: 'shoppingCartCtrl',
                resolve: {
                    category: function (productsCartService, $stateParams) {
                        return productsCartService.loadCartProducts();
                    }
                }
            })
            .state('category', {
                url: '/category/:name/:id?viewAll',
                templateUrl: 'app/views/category-page.html',
                controller: 'categoryCtrl',
                resolve: {
                    category: function (categoryService, productService,
                                        $stateParams, $q, userService) {
                        var defer = $q.defer();
                        categoryService.getCategoryById($stateParams.id, $stateParams.name).
                        then(function (category) {
                            productService.getAllCategoriesAttributes()
                                .then(function (attributes) {

                                    if(userService.nv_slowPage()){
                                        categoryService.getCategories()
                                            .then(function(){
                                            categoryService.nv_loadUnuseScripts()
                                                .then(function(){
                                                    defer.resolve({
                                                        attributes: attributes,
                                                        searchResult: [category],
                                                        categoryName: category.categoryName
                                                    });
                                                });
                                        });
                                    }
                                    else{
                                        defer.resolve({
                                            attributes: attributes,
                                            searchResult: [category],
                                            categoryName: category.categoryName
                                        });
                                    }

                            });
                        }, function(err){
                            alert('An error occurred, please try again')
                            Loger.Received(err);
                            Helper.disableLoader(0);
                            response.reject('error in load category');
                        });
                        return defer.promise;
                    },
                }
            })
            .state('search', {
                url: '/search/:id?viewAll',
                templateUrl: 'app/views/search-page.html',
                controller: 'searchCtrl',
                resolve: {
                    category: function (categoryService, productService, $stateParams, $q, $filter) {
                        var defer = $q.defer();
                        productService.getProductsBySearch($stateParams.viewAll, -1).then(function (result) {
                            var categoriesFilter = $filter("getCategoriesInArray")([], result, $stateParams.id)
                            var paramsToReturn = {
                                searchResult: result,
                                viewAll: true,
                                categoryId: 1,
                                searchKey: $stateParams.viewAll,
                                categoriesFilter: categoriesFilter,
                                attributes: [],
                            }
                            defer.resolve(paramsToReturn);
                        });
                        return defer.promise;
                    },
                }
            })
            //.state('product', {
            //    url: '/product/:id?color&quantity&pageState',
            //    templateUrl: 'app/views/product-page.html',
            //    controller: 'productCtrl',
            //    resolve: {
            //        resolveParams: function (productService, categoryService, $stateParams, $q) {
            //            var defer = $q.defer();
            //            productService.getProductById($stateParams.id).then(function (product) {
            //
            //                $q.all([categoryService.getCategoryById(product.categoryId),
            //                        categoryService.haveInternet(product.categoryId),
            //                        categoryService.getMostPopularComments(product.categoryId),
            //                ])
            //                    .then(function (res) {
            //
            //                    var category = res[0];
            //                    var haveInternet = res[1];
            //                    var mostPopularComments = res[2];
            //
            //                    var paramsToReturn = {
            //                        selectedColor: $stateParams.color,
            //                        quantity: $stateParams.quantity,
            //                        pageState: $stateParams.pageState,
            //                        categoryName: category.categoryName,
            //                        product: product,
            //                        haveInternet: haveInternet,
            //                        mostPopularComments: mostPopularComments
            //                    }
            //                    defer.resolve(paramsToReturn)
            //                });
            //            });
            //            return defer.promise;
            //        }
            //    }
            //}).

            .state('product', {
                url: '/product/:id?color&quantity&pageState',
                templateUrl: 'app/views/product-page.html',
                controller: 'productCtrl',
                resolve: {
                    resolveParams: function (productService, categoryService, $stateParams, $q) {
                        var defer = $q.defer();
                        productService.getProductById($stateParams.id).then(function (product) {

                            $q.all([categoryService.getCategoryById(product.categoryId),
                                    categoryService.haveInternet(product.categoryId),
                            ])
                                .then(function (res) {

                                var category = res[0];
                                var haveInternet = res[1];
                                product.colors = product.colors.filter(function(col){return col.inStock > 0});

                                    var paramsToReturn = {
                                        selectedColor: $stateParams.color,
                                        quantity: $stateParams.quantity,
                                        pageState: $stateParams.pageState,
                                        categoryName: category.categoryName,
                                        product: product,
                                        haveInternet: haveInternet,
                                    }
                                    defer.resolve(paramsToReturn)
                                });
                        }, function(err){
                            alert('An error occurred, please try again')
                            Loger.Received(err);
                            Helper.disableLoader(0);
                            response.reject('error in load product');
                        });
                        return defer.promise;
                    }
                }
            }).
        state('404', {
            url: '/404',
            templateUrl: 'app/views/404.html',
        });
    }

    config.$inject = ['$translateProvider', '$stateProvider', '$urlRouterProvider'];
    return config;

});


/**
 * Created by kubany on 11/16/2015.
 */

define('app/user/userConfig',[],function(){
    function config($translateProvider, $httpProvider, $stateProvider) {

    }
    config.$inject=['$translateProvider', '$httpProvider', '$stateProvider'];
    return config;
});
/**
 * Created by correnti on 31/12/2015.
 */

define('app/order/orderConfig',[], function () {

    function config($stateProvider) {

        $stateProvider.
        state('orderPayment', {
            url: '/orderPayment',
            templateUrl: 'app/order/views/orderPayment-page.html',
            controller: 'orderPaymentCtrl',
            controllerAs: 'opCtrl',
            data: {
                //requireLogin: true,  // this property will apply to all children of 'app'
                breadcrumbName: "orderPayment",
            },
            resolve: {
                resolveParams: function ($q, orderService, accountService) {
                    var defer = $q.defer();

                    orderService.getAccountById().
                    then(function (user) {
                        if (user) {

                                accountService.getAccountDetails().then(
                                    function (accountDetails) {

                                        orderService.getShippingCost(user).
                                        then(function (shippingCost) {

                                            accountService.getAccountPaymentPreferences().
                                            then(function (paymentPreferences) {
                                                defer.resolve({
                                                    paymentPreferences: paymentPreferences,
                                                    shippingCost: shippingCost,
                                                    user: user,
                                                    accountDetails: accountDetails,
                                                });
                                            });
                                        });
                                    });
                        }
                        else {
                            defer.resolve({
                                shippingCost: null,
                                user: null
                            });
                        }
                    });
                    return defer.promise;
                }
            }
        }).
        state('login', {
            url: '/login',
            templateUrl: 'app/order/views/user-not-login-page.html',
            controller: 'userNotLoginCtrl',
        });
    }

    return ['$stateProvider', config];

});


/**
 * Created by correnti on 31/12/2015.
 */

define('app/account/accountConfig',[], function () {

    function config($stateProvider) {

        $stateProvider.
        state('myAccount', {
            url: '/myAccount',
            templateUrl: 'app/account/views/myAccount-page.html',
            controller: 'myAccountCtrl',
            controllerAs: 'maCtrl',
            resolve: {
                resolveParams: function ($q, accountService) {
                    var defer = $q.defer();
                    accountService.getAccountDetails().then(
                        function (accountDetails) {
                            accountService.getShippingDetails(accountDetails).then(
                                function (shippingDetails) {
                                    accountService.getAccountPaymentPreferences().then(
                                        function (paymentPreferences) {
                                            defer.resolve({
                                                accountDetails: accountDetails,
                                                shippingDetails: shippingDetails,
                                                paymentPreferences: paymentPreferences,
                                            });
                                        });
                                });
                        });
                    return defer.promise;
                }
            }
        }).
        state('accountDetails', {
            url: '/accountDetails',
            templateUrl: 'app/account/views/accountDetails-page.html',
            controller: 'accountDetailsCtrl',
            controllerAs: 'adCtrl',
            resolve: {
                resolveParams: function ($q, accountService) {
                    var defer = $q.defer()
                    accountService.getAccountDetails().then(
                        function (accountDetails) {
                            defer.resolve({
                                accountDetails: accountDetails,
                            });
                        });
                    return defer.promise;
                }
            }
        }).
        state('accountPaymentEdit', {
            url: '/accountPaymentEdit',
            templateUrl: 'app/account/views/accountPaymentEdit-page.html',
            controller: 'accountPaymentEditCtrl',
            controllerAs: 'apeCtrl',
            resolve: {
                resolveParams: function ($q, accountService) {
                    var defer = $q.defer()
                    accountService.getAccountDetails().then(
                        function (accountDetails) {
                            accountService.getAccountPaymentPreferences().then(
                                function (paymentPreferences) {
                                    defer.resolve({
                                        paymentPreferences: paymentPreferences,
                                        accountDetails: accountDetails,
                                    });
                                });
                        });
                    return defer.promise;
                }
            }
        }).
        state('MyOrders', {
            url: '/MyOrders',
            templateUrl: 'app/account/views/MyOrders-page.html',
            controller: 'myOrdersCtrl',
            controllerAs: 'myOrdersCtrl',
            resolve: {
                resolveParams: function ($q, accountService) {
                    var defer = $q.defer()
                    accountService.getAccountOrder().then(
                        function (orders) {
                            defer.resolve({
                                orders: orders,
                            });
                        }, function (error) {
                            defer.reject(error);
                        });
                    return defer.promise;
                }
            }
        });
    }

    return ['$stateProvider', config];

});


//var defer = $q.defer();
//orderService.getAccountById().
//then(function (user) {
//    if(user)
//    {
//        orderService.getShippingCost(user).
//        then(function (shippingCost) {
//
//            defer.resolve({
//                shippingCost : shippingCost,
//                user : user,
//                noCards: true,
//                CardNumber: [],
//            });
//        });
//    }
//    else {
//        defer.resolve({
//            shippingCost : null,
//            user : null
//        });
//    }
//});
//return defer.promise;





/**
 * Created by kubany on 7/25/2017.
 */
define('app/configuration/commonConfig',[], function () {

    function config(AnalyticsProvider) {
        AnalyticsProvider.setAccount('UA-81334227-1');
        AnalyticsProvider.trackUrlParams(true);
        AnalyticsProvider.trackPages(true);
        AnalyticsProvider.setPageEvent('$stateChangeSuccess');
    }

    return ['AnalyticsProvider', config];

});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/controllers/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.controllers', []);
});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/controllers/mainCtrl',['./module'], function (controllers) {


    'use strict';
    controllers.controller('mainCtrl', ['$scope', '$q', 'productService', 'smoothScroll', 'userService', 'orderService',
        '$location', 'ipCookie', '$rootScope', 'productsCartService', '$filter', '$state', '$timeout', 'categoryService',
        'Analytics',
        function ($scope, $q, productService, smoothScroll, userService, orderService, $location, $cookie, $rootScope,
                  productsCartService, $filter, $state, $timeout, categoryService, Analytics) {

            var ctrl = this;
            ctrl.config = {};
            $scope.cart;
            $scope.autoCompleteValue = '';
            $scope.autoCompleteResult = {};


            var EnterInFocus = {
                login: 'login',
                search: 'search'
            };
            var enterInFocus = "";

            categoryService.loadServer().then(function () {

                $(document).on({
                    keydown: function (event) {
                        var code = event.keyCode || event.which;
                        if (code === 13) {
                            switch (enterInFocus) {
                                case EnterInFocus.login:
                                    if ($scope.loginUser.loginPassword != "" && $scope.loginUser.loginUser != "") {
                                        if ($scope.loginUser.email == "" && ctrl.config.emailAddressInLogin) {
                                        } else {
                                            $scope.signIn($scope.loginUser, ctrl.rememberMe);
                                        }
                                    }
                                    break;
                                case EnterInFocus.search:

                                    break;
                            }
                        }
                    }
                });

                /* Get all products data */
                //categoryService.getAllData();
                /*===========================  end Get all products data ============================*/


                /* Get configuration */
                //BUG: #161001 - Remove duplicate requests
                $scope.$on('configurationLoaded', function (event, data) {
                    ctrl.config = data.response;
                    $scope.refreshTimeOut();
                });
                // userService.getConfiguration().then(function (response) {
                //     ctrl.config = response;
                //     $scope.refreshTimeOut();
                // });
                /*===========================  end Get configuration ============================*/

                /* loading Cart section  */

                productsCartService.loadCartProducts().then(function (cart) {
                    $scope.cart = cart;
                    $timeout(function () {
                        productsCartService.checkOutOfStockProductsInCart().then(function (_cart) {
                            $scope.cart = _cart;
                        });
                    })
                });
                /* end loading Cart section  */


                $scope.go_up = function () {
                    $('body, html').animate({scrollTop: 0}, 10, function () {
                        if ($(".autoCompleteCover").width() < 100) {
                            $("nav .navLinks").css("display", "block");
                        }
                    });
                };

                /* About section */

                $scope.help = function (miniTitleId) {
                    $("#loginMiniTitle").fadeOut(300);
                    $("#loginMobileMiniTitle").fadeOut(300);
                    $("#" + miniTitleId).fadeToggle(300);
                };


                /* User section */


                $scope.login = function (miniTitleId) {
                    $("#helpMiniTitle").fadeOut(300);

                    if ($rootScope.userCookie) {
                        $("#helpMobileMiniTitle").fadeOut(300);
                        $("#" + miniTitleId).fadeToggle(300);
                        return;
                    }

                    enterInFocus = EnterInFocus.login;
                    var userInfo = localStorage.getItem('rememberMe');
                    if (userInfo) {
                        var parsedUserInfo = JSON.parse(userInfo);
                        $scope.loginUser.loginUser = parsedUserInfo.name;
                        $scope.loginUser.loginPassword = parsedUserInfo.userPassword;
                        $scope.mainCtrl.rememberMe = true;
                    }

                    Helper.mobileSectionClose();
                    $('#toolTipCart').css('display', 'none');
                    var windowsWidth = $(window).width();
                    var top = "5%";
                    if (windowsWidth < 480) {
                        top = "0";
                    } else if (windowsWidth < 700) {
                        top = "18%";
                    }

                    $(".PopUp").fadeIn(100, function () {
                        $(".PopUp > div:nth-child(1)").animate({"top": top}, 600);
                        $("body").css({"left": "0px"})
                    });
                    document.getElementsByName("username")[0].focus();
                };

                $(".PopUp, .closeBtn.loginPopUpCloseBtn").click(function () {

                    setEnterInFocusHandler();

                    $(".PopUp > div:nth-child(1)").animate({
                        "top": "-150%"
                    }, 600, function () {
                        $(".PopUp").fadeOut(100, function () {
                            $("body").css("overflow-y", "scroll");
                        });
                    });
                });


                function setEnterInFocusHandler() {
                    if (document.location.hash.indexOf("#/search") != -1) {
                        enterInFocus = enterInFocus.search;
                    } else {
                        enterInFocus = "";
                    }
                }


                $(".PopUp > div").click(function (e) {
                    e.stopPropagation();
                });

                /* END User section */


                /* Application helper section */


                $scope.redirect = function (path) {
                    Helper.mobileSectionClose();
                    $location.path(path);
                };

                $scope.mobileRedirect = function (path) {
                    Helper.mobileSectionClose();
                    $state.go(path)
                };

                $scope.mobileRedirectHelp = function (path) {

                    Helper.mobileSectionClose();
                    $state.go(path)
                };

                //setTimeout(function(){
                //    $scope.gotoElement("contact_us")
                //}, 1500)

                $scope.gotoElement = function (id) {
                    var element = $("#" + id);
                    if (element.length > 0) {
                        $("body, html").animate({
                            scrollTop: (element.offset().top - 65) + "px"
                        }, 1000)
                    }
                };


                var _____autoLogOut;
                $scope.refreshTimeOut = function () {

                    if (ctrl.config == null) {
                        return;
                    }
                    if (JSON.stringify(ctrl.config) == JSON.stringify({})) {
                        return;
                    }

                    if (orderService.userIsLogin()) {

                        $timeout.cancel(_____autoLogOut);
                        _____autoLogOut = $timeout(function () {
                            $scope.signOut()
                        }, ctrl.config.userLoginTimeOut == 0 ? (60 * 60000)
                            : (ctrl.config.userLoginTimeOut * 60000));

                    }
                };

                /* END Application helper section */


                $rootScope.$on('clearCartEvent', function (event, args) {
                    productsCartService.clearCart().then(function (cart) {
                        $scope.cart = cart;
                    });
                });


                $rootScope.$on('$locationChangeStart', function (event, current, previous) {
                    //$("html, body").css({opacity: 0});
                    //$(".waitBackground").css({opacity: 1, display: "block",});
                    //$("div.loader").css({opacity: 1, display: "block",});
                });

                $rootScope.$on('$locationChangeSuccess', function (event, current, previous) {

                    $scope.welcome = $location.path().indexOf('/welcome') <= -1 && $location.path().indexOf('/404') <= -1;
                    $scope.showCategoryHeader = $location.path().indexOf('/search') <= -1;

                    //$("#searchSection #output").css("opacity", $location.path().indexOf('/search') == -1 ? 1 : 0);

                    Helper.UpdatePageFixed();

                    if ($location.path().indexOf('/search') == -1 && $scope.closeSearchForce + "" != "undefined") {
                        $scope.closeSearchForce();
                    }
                    Helper.mobileSectionClose();

                    $timeout(function () {
                        if ($location.path() == '/') {
                            if ($(".autoCompleteCover").width() < 100) {
                                $("nav .navLinks").css("display", "block");
                            }
                        } else {
                            $("nav .navLinks").css("display", "none");
                        }
                    }, 1050);
                    $scope.refreshTimeOut();
                    $scope.miniTitleOut();
                });

                $("#mobile-section").css("left", "-" + $("#mobile-section").css("width"));
                Helper.mobile_section_moved = $("#mobile-section").width();

                $scope.openMobileSection = function () {
                    Helper.mobileSectionHandler();
                };

                $scope.$on('$viewContentLoaded', function (event) {
                    Helper.forAllPage();
                });

            });

            $scope.loginUser = {email: '', loginPassword: '', loginUser: ''};
            this.rememberMe = false;

            $scope.checkCart = function () {

                if ($scope.cart + "" == "undefined" || $scope.cart.productsInCart.length == 0) {
                    switch ($location.$$path) {
                        case '/login':
                        case '/MyOrders':
                        case '/orderPayment':
                            $state.go("default");
                            break;
                    }
                }
            };

            $scope.checkLogin = function () {
                var user = $rootScope.userCookie;
                if (!(user && user.response && user.response.userId != -1 && user.response.t_authorization)) {
                    $state.go("default");
                }
            };


            var _setUser = 0;
            $scope.setUser = function () {
                if (_setUser > 0) {
                    $scope.signIn({email: "", loginPassword: "Aa123", loginUser: "sergio"}, true);
                }
                _setUser++;
                setTimeout(function () {
                    _setUser = 0;
                }, 1000);
            };


            $scope.accountSection = function () {
                $state.go('myAccount');
            };

            $scope.openAdminClient = function(){
                Analytics.trackEvent('Management Console', 'Navigate');
                window.open('/admin');
            };

            $scope.signOut = function (even) {

                if (even) {
                    even.stopPropagation();
                }
                userService.singOut().then(function () {
                    $cookie.remove(userCookie.getKey($rootScope.userCookie).replace(/[^a-zA-Z ]/g, ""));
                    $cookie.remove('lastLogin');
                    $rootScope.userCookie = undefined;
                    $scope.loginUser = {email: '', loginPassword: '', loginUser: ''};

                    productsCartService.loadCartProducts().then(function (cart) {
                        $scope.cart = cart;
                        $scope.checkCart();
                    });
                    $(".mini-title").css("display", "none");
                    $(".mini-title-help").css("display", "none");
                });
            };

            $scope.miniTitleIn = function (miniTitleId) {
                if ($rootScope.userCookie) {
                    $("#" + miniTitleId).stop().delay(500).fadeIn(300);
                }
            };

            $scope.miniTitleOut = function (miniTitleId) {
                if ($rootScope.userCookie) {
                    $("#" + miniTitleId).stop().delay(500).fadeOut(300);
                }
            };

            var ____loginInterval;
            $scope.miniTitleIn = function () {
                if (____loginInterval) {
                    $timeout.cancel(____loginInterval);
                }
            };

            $scope.miniTitleOut = function (miniTitleId) {
                if ($("#" + miniTitleId).css('display') != 'none') {
                    ____loginInterval = $timeout(function () {
                        $("#" + miniTitleId).fadeOut(300);
                    }, 2000);
                }
            };

            /* Cart section  */

            $scope.removeProduct = function (index, event) {

                if (event) {
                    event.stopPropagation();
                }
                productsCartService.removeProduct(index).then(function (cart) {
                    $scope.cart = cart;
                    $scope.checkCart();
                    fixToolTipCartHeight();

                    if ($(window).width() < 480) {
                        $("#toast a").html($filter("translate")("Product_removed"));
                        $("#toast").stop().fadeIn(500);
                        setTimeout(function () {
                            $("#toast").stop().fadeOut(1500);
                        }, 1500)
                    }

                });
            };

            $scope.addProduct = function (product, quantity, hasWarranty, toastMessage) {
                clearInterval(Helper.____closeTooTipCart);
                var defer = $q.defer();
                productsCartService.addProduct(product, quantity, hasWarranty).then(function (cart) {
                    $scope.cart = cart;
                    animateToolTipCart(toastMessage);
                    fixToolTipCartHeight();
                    defer.resolve(cart);
                }, function(err){
                    defer.reject(err)
                });
                return defer.promise;
            };

            $scope.updateProduct = function (product, color, quantity, oldColor, toastMessage) {
                var defer = $q.defer();
                productsCartService.updateProduct(product, color, quantity, oldColor)
                    .then(function (cart) {
                        $scope.cart = cart;
                        animateToolTipCart(toastMessage);
                        defer.resolve(cart);
                    });
                return defer.promise;
            };

            function animateToolTipCart(toastMessage) {
                clearInterval(Helper.____closeTooTipCart);

                if ($(window).width() < 480) {
                    $("#toast a").html(toastMessage);
                    $("#toast").stop().fadeIn(200);
                    setTimeout(function () {
                        $("#toast").stop().fadeOut(600);
                    }, 1500)
                }

                $('#toolTipCart').delay(100).slideDown(function () {
                    $('#toolTipCart tbody').stop().animate({
                        scrollTop: 0 + 'px'
                    }, 500, function () {
                        Helper.____closeTooTipCart = setTimeout(function () {
                            $('#toolTipCart').stop().slideUp();
                        }, 4000)
                    });
                });
            }

            var _____enterCart;
            var enterInCart = false;
            $scope.enterCart = function () {
                clearInterval(Helper.____closeTooTipCart); // defined in categoryTypeProductsDrtv -> addProduct
                enterInCart = true;
                _____enterCart = setTimeout(function () {
                    $('#toolTipCart').stop().slideDown();
                    fixToolTipCartHeight();
                }, 500);
            };

            $scope.leaveCart = function () {
                enterInCart = false;
                clearInterval(_____enterCart);
                closeToolTipCart();
            };


            function closeToolTipCart() {

                var toolTipCart = $('#toolTipCart');
                if (toolTipCart.length > 0) {
                    setTimeout(function () {
                        if (!enterInCart) {
                            toolTipCart.stop().slideUp(function () {
                                $('#toolTipCart tbody').animate({scrollTop: 0}, 500);
                            });
                        }
                    }, 3000);
                }
            }

            function fixToolTipCartHeight() {
                var winHeight = $(window).height() - 200;
                var prodsHeight = ($scope.cart.productsInCart.length * 104);
                var heightToAsign = (Math.round(winHeight / 104) * 104);
                if (winHeight < prodsHeight) {
                    $("#toolTipCart tbody").css({
                        "height": heightToAsign + "px",
                        "overflow-y": "auto"
                    });
                }
                else {
                    $("#toolTipCart tbody").css({
                        "height": prodsHeight + "px",
                        "overflow-y": "hidden"
                    });
                }
            }

            /* END Cart section */


            this.getRequire = function (nameRequire) {
                return JSON.stringify({
                    error: $filter("translate")(nameRequire) + " " + $filter("translate")("field_is_required")
                });
            };


            this.getCompare = function (name, model) {
                var nameAfterTranslate = $filter("translate")(name);
                return JSON.stringify({
                    error: nameAfterTranslate + $filter("translate")('This_field_not_match_with'),
                    info: "- " + $filter("translate")("Same_as") + " " + nameAfterTranslate,
                    model: model
                });
            };

            this.getCardNumber = function (exactlyNum) {
                return JSON.stringify({
                    error: $filter("translate")('Invalid_Card_number'),
                    info: "- " + $filter("translate")("Use_exactly") + " " + exactlyNum + " " + $filter("translate")('numbers'),
                    exactly: exactlyNum,
                    regex: "^[0-9]*$"
                });
            };

            this.getPattern = function (data) {

                if (typeof data === 'string') {
                    switch (data) {
                        case 'Username':
                            data = [
                                ['letters_number_symbols_only', 'letters_number_symbols_only',
                                    '^[A-Za-z0-9_.-]{0,999}$']];
                            break;
                        case 'Email':
                            data = [['email_no_formatted_correctly', '',
                                '^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,100})$']];
                            break;
                        case 'Password':
                            data = [
                                ['one_lower_letter_required', 'Including_one_lower_letter', '(?=.*[a-z])'],
                                ['one_upper_letter_required', 'Including_one_upper_letter', '(?=.*[A-Z])'],
                                ['one_number_required', 'Including_one_number', '(?=.*[0-9])']
                            ];
                            break;
                        case 'Compare':
                            data = [
                                ['letters_number_symbols_only', 'letters_number_symbols_only',
                                    '^[A-Za-z0-9_.-]{0,999}$']];
                            break;
                        case 'CCV_Number':
                            data = [
                                ['Invalid_CCV_number', 'Valid_CCV_number_required', '^[0-9]{3,3}$']];
                            break;
                        default:
                            throw "type of pattern not match (this.getPattern('" + data + "');"
                    }
                }
                var arr = [];
                for (var i = 0; i < data.length; i++) {
                    var info = $filter("translate")(data[i][1]);
                    arr.push({
                        error: $filter("translate")(data[i][0]),
                        info: info != '' ? "- " + info : '',
                        regex: data[i][2]
                    });
                }
                return JSON.stringify({
                    regexes: arr
                });
            };

            this.getMin = function (min) {
                return JSON.stringify({
                    error: $filter("translate")("Use_up_of") + " " + min + " " + $filter("translate")("character_or_longer"),
                    info: "- " + $filter("translate")("Use_up_of") + " " + min + " " + $filter("translate")("character_or_longer"),
                    min: min
                });
            };


            this.getMax = function (max) {
                return JSON.stringify({
                    error: $filter("translate")("Use_maximum") + " " + max + " " + $filter("translate")("character"),
                    info: "- " + $filter("translate")("Use_maximum") + " " + max + " " + $filter("translate")("character"),
                    max: max
                });
            };

            this.getAgreeAgreementRequire = function () {
                return JSON.stringify({
                    error: $filter("translate")("AgreeAgreementRequire"),
                    info: $filter("translate")("AgreeAgreementRequire")
                });
            };

            this.getNoticeInfo = function () {
                return JSON.stringify([
                    $filter("translate")("This_is_a_demo"),
                    $filter("translate")("Please_enter_a_fake_data")
                ]);
            };

            this.closeImgTeam = function () {
                $("#teamIdToAnimate").addClass("hinge");
                setTimeout(function () {
                    $("#team").fadeOut(1000);
                    setTimeout(function () {
                        $("#teamIdToAnimate").removeClass("hinge");
                        $("#teamIdToAnimate").css({
                            display: "none"
                        });
                    }, 1000)
                }, 2500)
            }
        }
    ]);
});









/**
 * Created by kubany on 10/13/2015.
 */
define('app/controllers/categoriesCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('categoriesCtrl', ['$scope', 'categoryService',
        'dealService', '$location', 'resolveParams', 'supportService', '$timeout',
        'userService',
        function (s, categoryService, dealService, $location, resolveParams,
                  supportService, $timeout, userService) {

            for (var i = 0; i < resolveParams.categories.length; i++) {
                var cate = [];
                for (var index = 0; index < resolveParams.categories[i].categoryName.length; index++) {
                    cate.push(index == 0 ? resolveParams.categories[i].categoryName[index] : resolveParams.categories[i].categoryName[index].toLowerCase());
                }
                resolveParams.categories[i].categoryName = cate.join("");
            }

            s.categories = resolveParams.categories;
            s.specialOffer = resolveParams.specialOffer;
            s.popularProducts = resolveParams.popularProducts;

            /*
            uncomment this line for UFT typo demo
             */
            //s.categories[3].categoryName = "Audio";

            var _nv = userService.nv_slowPage() ? "_nv" : "";
            var imagesBanner = [
                'Banner1' + _nv + '.jpg',
                'Banner2' + _nv + '.jpg',
                'Banner3' + _nv + '.jpg',
            ];
            s.images = [
                {
                    imageName: imagesBanner[0],
                    imageId: 0,
                    message: "ALL YOU WANT FROM A TABLET",
                    categoryId: 2},
                {
                    imageName: imagesBanner[1],
                    imageId: 1,
                    message: "EXPLORE OUR LATEST <br />INNOVATIVE PRODUCTS",
                    categoryId: 3
                },
                {imageName: imagesBanner[2], imageId: 2, message: "START EXPLORING HP NOTEBOOKS", categoryId: 0}
            ];

            /* suport section */

            s.supportSuccess = false;
            s.registerAnswer = {class: "", message: ""}
            s.supportModel = {
                "category": {},
                "email": "",
                "product": {},
                "subject": ""
            }

            s.products;

            s.categoryChange = function (category) {
                s.supportModel.category = category;
                categoryService.getCategoryById(s.supportModel.category.categoryId).
                then(function (category) {
                    s.products = category.products;
                    //s.supportModel.product = category.products[0];
                });
            }

            s.productChange = function (product) {
                s.supportModel.product = product;
            }

            var _____continueShopping;
            s.sendSupportEmail = function () {

                // if (s.supportModel.subject.trim().toLowerCase() == "who are you" ||
                //     s.supportModel.subject.trim().toLowerCase() == "who are you?") {
                //
                //     $("#team").fadeIn(500).css("display", "table");
                //     setTimeout(function () {
                //         $("#teamIdToAnimate").css({
                //             display: "block"
                //         });
                //         $("#teamIdToAnimate").addClass("zoomInDown");
                //         setTimeout(function () {
                //             $("#teamIdToAnimate").removeClass("zoomInDown");
                //         }, 3000);
                //     }, 300);
                //     s.supportModel = {
                //         "category": s.supportModel.category,
                //         "email": "",
                //         "product": s.supportModel.product,
                //         "subject": ""
                //     }
                //     return;
                // }

                supportService.sendSupportEmail(s.supportModel).then(function (res) {

                    s.registerAnswer.class = res.success ? "valid" : "invalid";
                    s.registerAnswer.message = res.reason;
                    s.supportSuccess = res.success;
                    if (!res.success) {
                        _____continueShopping = $timeout(function () {
                            s.registerAnswer = {class: "", message: ""}
                        }, 2000)
                    }
                    if (res.success) {
                        s.supportModel = {
                            "category": {},
                            "email": "",
                            "product": {},
                            "subject": ""
                        }
                        _____continueShopping = $timeout(function () {
                            s.supportSuccess = false;
                            s.registerAnswer = {class: "", message: ""}
                        }, 60000)
                    }

                }, function (err) {

                });


            }

            s.continueShopping = function () {
                if (_____continueShopping) {
                    s.supportSuccess = false;
                    s.registerAnswer = {class: "", message: ""}
                    $timeout.cancel(_____continueShopping)
                }
                s.go_up();
            }

            /* end suport section */


            Slider.AddSliderListener();

            Helper.forAllPage();

            $('#scrollToTop').click(function () {
                $('body, html').animate({scrollTop: 0}, 1000);
            });

            $(document).ready(function () {
                $(window).on({
                    scroll: function () {
                        if ($(window).scrollTop() > 800) {
                            $('#scrollToTop').stop().fadeIn(300);
                            return;
                        }
                        $('#scrollToTop').stop().fadeOut(300);
                    },
                    resize: resize,
                });
                function resize() {
                    turnTheOrderOfImagesInCategoriesGrid()
                }

                setTimeout(resize, 0)
                function turnTheOrderOfImagesInCategoriesGrid() {
                    var elemToMove = $("#SpeakersImg");
                    var indexToFind = "TabletsImg";
                    if ($(window).width() <= 480) {
                        elemToMove = $("#TabletsImg");
                        indexToFind = "SpeakersImg";
                    }
                    if (elemToMove.prev().attr("id") && elemToMove.prev().attr("id").indexOf(indexToFind) != -1) {
                        elemToMove.parent().prepend(elemToMove);
                    }
                }
            });

            s.openChat = function () {
                var path = server.catalog.getKey().replace(window.location.protocol + '//', "").replace("/api/v1", "");
                sessionStorage.setItem("serverKey", path);

                window.open(window.location.protocol + '//' + window.location.host + "/chat.html", "Advantage Online Shopping Chat Windows",
                    "width=650px, height=450px, top=300px, left=300px, scrollbars=no, resizable=no, " +
                    "directories=no, titlebar=no, toolbar=no, location=no, status=no, menubar=0,");
            }


            s.slowPageString = "ytrduhbl;kiygiytg";
            categoryService.nv_loadUnuseScripts().then(function(res){
                s.slowPageString = res;
            });



        }]);
});
/**
 * Created by kubany on 10/18/2015.
 */

define('app/controllers/categoryCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('categoryCtrl', ['$scope', '$stateParams', 'categoryService', 'category',
        function (s, $stateParams, categoryService, paramsToReturn) {

            s.catId = $stateParams.id;

            s.paramsToPass = paramsToReturn;

            s.viewAll = paramsToReturn.viewAll;

            s.categoryData = paramsToReturn.searchResult.length > 0 ? paramsToReturn.searchResult[0] : [];

            s.noProducts = s.categoryData.products == undefined || s.categoryData.products.length == 0;

            s.categoryName = paramsToReturn.categoryName;

            Helper.forAllPage();

    }]);

});




///**
// * Created by correnti on 21/11/2015.
// */
//
//define(['./module'], function (controllers) {
//    'use strict';
//    controllers.controller('productCtrl', ['$scope', 'resolveParams', '$state', '$filter',
//        '$rootScope', '$timeout',
//
//        function (s, resolveParams, $state, $filter, $rootScope, $timeout) {
//
//            s.pageState = resolveParams.pageState;
//            var resolveParams_selectedColor = resolveParams.selectedColor;
//
//            s.message = {};
//            s.quantity = resolveParams.quantity || 1;
//            s.categoryName = resolveParams.categoryName;
//            s.product = resolveParams.product;
//            s.mostPopularComments = resolveParams.mostPopularComments
//
//            s.haveInternet = resolveParams.haveInternet;
//
//            s.showVideo = s.product.productId == 22 || s.product.productId == 15 || s.product.productId == 16;
//            s.imageUrl = angular.copy(s.product.imageUrl);
//
//            s.getFirstImageUrl = function () {
//                s.imagesArray = $filter("getAllImagesByColor")(s.product.images, s.colorSelected, s.product.imageUrl);
//                s.imageUrl = s.imagesArray[0];
//                return s.imagesArray;
//            };
//
//            s.product_attributes = Helper.sortAttributesByName(s.product.attributes);
//
//            if (!resolveParams.selectedColor && s.product.colors.length > 0) {
//                var colors = Helper.sortArrayByColorName(s.product.colors);
//                s.colorSelected = colors[0];
//            }
//            else {
//                for (var i = 0; i < s.product.colors.length; i++) {
//                    if (s.product.colors[i].code == resolveParams.selectedColor) {
//                        s.colorSelected = s.product.colors[i];
//                        break;
//                    }
//                }
//            }
//
//            s.colorSelected = s.colorSelected || s.product.colors[0];
//            s.getFirstImageUrl();
//
//            s.addToCart = function (disable) {
//
//                if (disable) {
//                    return;
//                }
//
//                var productToAdd = angular.copy(s.product);
//                productToAdd.colors = [s.colorSelected];
//
//                if (s.pageState == 'edit') {
//                    s.$parent.updateProduct(productToAdd, s.colorSelected, s.quantity, resolveParams_selectedColor,
//                        $filter("translate")("toast_Product_Updated_Successfully")).then(function(res){
//                        if(res.message){
//                            s.message.text = res.message; //s._class = res.success ? "valid" : "invalid";
//                            if(_____productAdded){
//                                $timeout.cancel(_____productAdded);
//                            }
//                            _____productAdded = $timeout(function(){
//                                s.message.text = "";
//                                s.message._class = "";
//                                $state.go('shoppingCart');
//                            }, 2000);
//                        }
//                        else{
//                            $state.go('shoppingCart');
//                        }
//                    });
//                }
//                else {
//                    var quantity = s.quantity;
//
//                    var user = $rootScope.userCookie;
//                    if (!(user && user.response && user.response.userId != -1)) {
//                        for (var i = 0; i < s.$parent.cart.productsInCart.length; i++) {
//                            var prod = s.$parent.cart.productsInCart[i];
//                            if (prod.productId == productToAdd.productId && prod.color.code == s.colorSelected.code) {
//                                if (prod.quantity + quantity > s.product.colors[0].inStock) {
//                                    quantity = s.product.colors[0].inStock - prod.quantity;
//                                }
//                            }
//                        }
//                    }
//                    if (quantity > 0) {
//                        var request = s.$parent.addProduct(productToAdd, quantity, $filter("translate")("toast_Product_Added_Successfully"));
//                        request.then(function (res) {
//                            if(res.message){
//                                s.message.text = res.message; //s._class = res.success ? "valid" : "invalid";
//                                if(_____productAdded){
//                                    $timeout.cancel(_____productAdded);
//                                }
//                                _____productAdded = $timeout(function(){
//                                    s.message.text = "";
//                                    s.message._class = "";
//                                }, 4000);
//                            }
//                        });
//                    }
//                }
//            };
//            var _____productAdded;
//
//
//            s.changeImage = function (img) {
//                s.imageUrl = img;
//            };
//
//            s.setColor = function (color) {
//                s.imageUrl = s.product.imageUrl;
//                s.colorSelected = color;
//                s.getFirstImageUrl();
//            };
//
//            Helper.forAllPage();
//
//            console.log("resolveParams");
//            console.log(resolveParams);
//
//
//            s.nextReview = function(){
//                if(sliderIndex + 1 >= s.mostPopularComments.length){
//                    return;
//                }
//                sliderIndex++;
//                reviewGo();
//            };
//            s.previousReview = function(){
//                if(sliderIndex == 0){
//                    return;
//                }
//                sliderIndex--;
//                reviewGo();
//            };
//            function reviewGo(){
//                $timeout.cancel(slider_interval);
//                sliderHandler();
//            }
//            function reviewGotoNew(){
//                sliderIndex++;
//                sliderHandler();
//            }
//
//
//            var sliderIndex = 0;
//            var slider_interval;
//            reviewGo();
//            function sliderHandler(){
//
//                var left = sliderIndex < s.mostPopularComments.length ?
//                "-" + ($("#product_2 .reviews").width() * sliderIndex) : 0;
//
//                if(left == 0){ sliderIndex = 0; }
//
//                $("#product_2 .reviews .reviewsCover").css({ left: left + "px" });
//
//                $("#product_2 .reviews .rightArrow img").attr("src","../../css/images/review_right" +
//                    (sliderIndex + 1 < s.mostPopularComments.length ? "" : "_disabled") +".png")
//
//                $("#product_2 .reviews .leftArrow img").attr("src", "../../css/images/review_Left"
//                    + (sliderIndex == 0 ? "_disabled" : "") +".png")
//
//                if(document.location.hash.indexOf("/product/") != -1){
//                    slider_interval = $timeout(reviewGotoNew, 12000);
//                }
//            }
//        }]);
//});
//
//
//
//
//
///**
// * Created by correnti on 21/11/2015.
// */
//
//
//
///*
// var img = $("#imgToBuy").clone();
// var imgPoss = $("#imgToBuy").offset();
// var mainCartPossition = $("#mainCart").offset();
//
// img.css({
// "position" : "absolute",
// "top": imgPoss.top + "px",
// "left": imgPoss.left + "px",
// "display" : "none",
// })
// img.appendTo("#product-image");
// img.fadeIn(1000, function(){
// img.animate({
// top : mainCartPossition.top + 5,
// left : mainCartPossition.left + 10,
// width: 10,
// height: 10,
// opacity: 0.3
// }, 1000, function(){
// img.remove();
// //$rootScope.user.cart.laptops.push($scope.product) = get user
// });
// })
// */
/**
 * Created by correnti on 21/11/2015.
 */

define('app/controllers/productCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('productCtrl', ['$scope', 'resolveParams', '$state', '$filter',
        '$rootScope', '$timeout', 'categoryService', '$sce', '$document', '$window', 'userService',

        function (s, resolveParams, $state, $filter, $rootScope, $timeout, categoryService, $sce, document, $window, userService) {

            s.pageState = resolveParams.pageState;
            var resolveParams_selectedColor = resolveParams.selectedColor;

            s.message = {};
            s.quantity = resolveParams.quantity || 1;
            s.categoryName = resolveParams.categoryName;
            s.product = resolveParams.product;
            s.mostPopularComments = [];
            s.warrantyPrice = 100;
            s.haveInternet = resolveParams.haveInternet;
            s.warrantyProperties = {enableWarranty : false}
            userService.haveConfiguration().then(function(res){
                    s.warrantyProperties = userService.getWarrantyProperties();
                },
                function(err){

                });

            s.warrantyCheckbox = false;
            s.breadCrumbCategoryName = s.categoryName.substring(0,1) + s.categoryName.substring(1, s.categoryName.length-1).toLowerCase()
            if(s.product.productId == 22 || s.product.productId == 15 || s.product.productId == 16){
                s.srcV1 = $sce.trustAsHtml("<video controls ><source src='../../css/videos/13543361_299823923688824_1410005144_n.mp4'></video>");
                s.showVideo = true;
            }
            else{
                s.showVideo = false;
                s.srcV1 = "";}

            s.imageUrl = angular.copy(s.product.imageUrl);

            s.getFirstImageUrl = function () {
                s.imagesArray = $filter("getAllImagesByColor")(s.product.images, s.colorSelected, s.product.imageUrl);
                s.imageUrl = s.imagesArray[0];
                return s.imagesArray;
            };

            s.product_attributes = Helper.sortAttributesByName(s.product.attributes);

            if (!resolveParams.selectedColor && s.product.colors.length > 0) {
                var colors = Helper.sortArrayByColorName(s.product.colors);
                //From here to line 267 we organize the color array to start with the color in the
                //category section.
                // var imageUrlInProductImages = s.product.images.find(function(image) {
                //     return image.substring(8)== s.imageUrl;
                // });
                var imageUrlInProductImages = altFind(s.product.images, function(image) {
                    return image.substring(8)== s.imageUrl;
                });
                // s.firstImageToShow = colors.find(function (color) {
                //     return color.code == imageUrlInProductImages.substring(0, 6);
                // });
                s.firstImageToShow = altFind(colors, function(color) {
                    return color.code == imageUrlInProductImages.substring(0, 6);
                });
                //Damaged images products.
                if (!s.firstImageToShow){
                    s.colorSelected = colors[0];
                    //Testing issue over here. Since there are two identical elements here  'leanFT ' gets confused, this is the reason for this classes.
                    angular.element(document).ready(function () {
                        $timeout(function () {
                            var someVar = document[0].getElementById('rabbit');
                            angular.element(someVar).removeClass('rabbit');
                        }, 2000);

                    });

                }else {
                    //Sorting the image from category page to be the be image to show and first in 'colors'.
                    colors = $filter('filter')(colors, function (color) {
                        return color.name != s.firstImageToShow.name;
                    })
                    colors.unshift(s.firstImageToShow);
                    s.colorSelected = colors[0];
                    s.colors = colors;
                    //Testing issue over here. Since there are two identical elements here  'leanFT ' gets confused, this is the reason for this classes.
                    angular.element(document).ready(function () {
                        $timeout(function () {
                            var someVar = document[0].getElementById('bunny');
                            angular.element(someVar).removeClass('bunny');
                        }, 2000);
                    });
                }

            }
            else {
                for (var i = 0; i < s.product.colors.length; i++) {
                    if (s.product.colors[i].code == resolveParams.selectedColor) {
                        s.colorSelected = s.product.colors[i];
                        break;
                    }
                }
            }


            function altFind(list, callback) {
                for (var i = 0; i < list.length; i++) {
                    var match = callback(list[i]);
                    if (match) {
                        return list[i];
                    }
                }
            }

            s.colorSelected = s.colorSelected || s.product.colors[0];
            s.getFirstImageUrl();

            s.addToCart = function (disable) {

                if (disable) {
                    return;
                }

                var productToAdd = angular.copy(s.product);
                productToAdd.colors = [s.colorSelected];

                if (s.pageState == 'edit') {
                    s.$parent.updateProduct(productToAdd, s.colorSelected, s.quantity, resolveParams_selectedColor,
                        $filter("translate")("toast_Product_Updated_Successfully")).then(function(res){
                        if(res.message){
                            s.message.text = res.message; //s._class = res.success ? "valid" : "invalid";
                            if(_____productAdded){
                                $timeout.cancel(_____productAdded);
                            }
                            _____productAdded = $timeout(function(){
                                s.message.text = "";
                                s.message._class = "";
                                $state.go('shoppingCart');
                            }, 2000);
                        }
                        else{
                            $state.go('shoppingCart');
                        }
                    });
                }
                else {
                    var quantity = s.quantity;
                    var user = $rootScope.userCookie;
                    if (!(user && user.response && user.response.userId != -1)) {
                        if(s.product.colors[0] == null || quantity > s.product.colors[0].inStock){
                            s.message.text = $filter("translate")('PRODUCT_QUANTITY_ERROR_MESSAGE').format(s.product.colors[0] == null ? 0 : s.product.colors[0].inStock); //s._class = res.success ? "valid" : "invalid";
                            if(_____productAdded){
                                $timeout.cancel(_____productAdded);
                            }
                            _____productAdded = $timeout(function(){
                                s.message.text = "";
                                s.message._class = "";
                            }, 4000);
                            quantity = s.product.colors[0].inStock;
                        }

                        for (var i = 0; i < s.$parent.cart.productsInCart.length; i++) {
                            var prod = s.$parent.cart.productsInCart[i];
                            if (prod.productId == productToAdd.productId && prod.color.code == s.colorSelected.code) {
                                if (prod.quantity + quantity > s.product.colors[0].inStock) {
                                    quantity = s.product.colors[0].inStock - prod.quantity;
                                }
                            }
                        }
                    }
                    if (quantity > 0) {

                        var request = s.$parent.addProduct(productToAdd, quantity, s.warrantyCheckbox, $filter("translate")("toast_Product_Added_Successfully"));
                        request.then(function (res) {
                            if(res.message){
                                s.message.text = res.message; //s._class = res.success ? "valid" : "invalid";
                                if(_____productAdded){
                                    $timeout.cancel(_____productAdded);
                                }
                                _____productAdded = $timeout(function(){
                                    s.message.text = "";
                                    s.message._class = "";
                                }, 4000);
                            }
                        }, function(err){

                        });
                    }
                }
            };
            var _____productAdded;


            s.changeImage = function (img) {
                s.imageUrl = img;
            };

            s.setColor = function (color, e) {
                s.imageUrl = s.product.imageUrl;
                s.colorSelected = color;
                s.getFirstImageUrl();
            };

            Helper.forAllPage();

            s.nextReview = function(){
                if(sliderIndex + 1 >= s.mostPopularComments.length){
                    return;
                }
                sliderIndex++;
                reviewGo();
            };

            s.previousReview = function(){
                if(sliderIndex == 0){
                    return;
                }
                sliderIndex--;
                reviewGo();
            };

            function reviewGo(){
                $timeout.cancel(slider_interval);
                sliderHandler();
            }

            function reviewGotoNew(){
                sliderIndex++;
                sliderHandler();
            }


            var sliderIndex = 0;
            var slider_interval;

            function sliderHandler(){

                var left = sliderIndex < s.mostPopularComments.length ?
                "-" + ($("#product_2 .reviews").width() * sliderIndex) : 0;

                if(left == 0){ sliderIndex = 0; }

                $("#product_2 .reviews .reviewsCover").css({ left: left + "px" });

                $("#product_2 .reviews .rightArrow img").attr("src","../../css/images/review_right" +
                    (sliderIndex + 1 < s.mostPopularComments.length ? "" : "_disabled") +".png")

                $("#product_2 .reviews .leftArrow img").attr("src", "../../css/images/review_Left"
                    + (sliderIndex == 0 ? "_disabled" : "") +".png")

                if(document.location.hash.indexOf("/product/") != -1){
                    slider_interval = $timeout(reviewGotoNew, 12000);
                }
            }

            if(s.product.categoryId == 2)
                categoryService.getMostPopularComments(s.product.categoryId).then(function(res){
                    s.mostPopularComments = res;
                    reviewGo();
                });


            s.addWarrenty = function(){
                if(s.warrantyCheckbox){
                    s.product.price += s.warrantyPrice;
                }
                else{
                    s.product.price -= s.warrantyPrice;
                }

            }


        }]);





});




/**
 * Created by correnti on 18/02/2016.
 */

define('app/controllers/supportCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('supportCtrl', ['$scope', 'registerService',

        function (s, registerService) {

            s.hola_mundo = "hola_mundohola_mundohola_mundohola_mundo"

            //s.model = "";
            s.model2 = "t@y.sec";
            s.model3 = "e@e.sec";
            s.model4 = "r@r.sec";

            s.model30 = null;

            s.isSended = function (sended) {
                alert(sended);
            }

            //s.isSended = function (valid) {
            //    console.log(valid);
            //}

            //ng-options="country.name for country in countries track by country.id"


            s.countries;
            registerService.getAllCountries().then(function (countries) {
                s.countries = countries;
            });

            s.sec_select_order = {
                showBy : 'name',
            }

            //option.name for option in data.availableOptions track by option.id



            s.require = {
                error: 'this field is required ',
                info: '- this field have to have value',
            }

            s.checkboxRequire = {
                error: ' You must agree to the www.AdvantageOnlineShopping.com Conditions of Use and Privacy Notice. ',
                info: 'I agree to the www.AdvantageOnlineShopping.com Conditions of Use and Privacy Notice',
            }


            s.minLength = {
                error: 'Use up of 4 character',
                info: '- Use up of 4 character',
                min: 4,
            }

            s.maxLength = {
                error: 'Use maximum 8 character',
                info: '- Use maximum 8 character',
                max: 8,
            }

            s.email = {
                error : "Your email address isn’t formatted correctly",
                info: "- A valid email required",
                regex : "^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"
            }

            s.compareTo = {
                error : "Same as Username",
                info: "- A param have to be exactly like UserName",
                model : s.model
            }
        }]);
});













































//l(paramsToResorve.categories)


//s.supportSuccess = false;
//s.registerAnswer = { class: "", message: "" }
//s.supportModel = {
//    "category": {},
//    "email": "",
//    "product": {},
//    "subject": ""
//}
//
//s.categories = paramsToResorve.categories;
//s.products;
//
//s.categoryChange = function() {
//    categoryService.getCategoryById(s.supportModel.category.categoryId).
//    then(function (category) {
//        l(category.products)
//        s.products = category.products;
//        s.supportModel.product = category.products[0];
//    });
//}
//
//s.productChange = function() {
//    l("s.supportModel.================")
//    l(s.supportModel.product);
//    l(s.supportModel.category.categoryId);
//    l(s.supportModel.category.categoryName);
//    l(s.supportModel.text);
//    l(s.supportModel.product.productId);
//    l(s.supportModel.product.productName);
//    l(s.supportModel.subject);
//    l("s.supportModel.product ++++++++++++++++++++")
//}
//
//s.sendSupportEmail = function(){
//
//    supportService.sendSupportEmail(s.supportModel).then(function(res){
//
//        s.registerAnswer.class = res.success ? "valid" : "invalid";
//        s.supportSuccess = res.success;
//        s.registerAnswer.message = res.reason;
//
//    }, function(err){
//    });
//
//}
//

//Helper.forAllPage();































/**
 * Created by correnti on 06/12/2015.
 */

define('app/controllers/shoppingCartCtrl',['./module'], function(controllers){
    'use strict';
    controllers.controller('shoppingCartCtrl', ['$scope', 'productsCartService', 'userService',
        function(s, cartService, userService){

            Helper.forAllPage();
            s.enableWarranty = false;
            userService.haveConfiguration().then(function(res){
                    s.enableWarranty = userService.getWarrantyProperties().enableWarranty;
                },
                function(err){

                });
            angular.element(document).ready(function () {

                var result = document.getElementsByClassName("uft-class");

                var checkoutBtn = angular.element(result);

                checkoutBtn.attr("id", "checkOutButton");
                checkoutBtn.attr("name", "check_out_btn");
            });




            s.saveCart = function(){
                cartService.saveCart(s.cart);
            }
    }]);
});

/**
 * Created by correnti on 24/02/2016.
 */



define('app/controllers/searchCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('searchCtrl', ['$scope', '$stateParams', 'categoryService', 'category',
        function (s, $stateParams, categoryService, paramsToReturn) {

            s.catId = $stateParams.id;

            s.paramsToPass = paramsToReturn;

            s.categoryData = paramsToReturn.searchResult.length > 0 ? paramsToReturn.searchResult[0] : [];

            s.noProducts = s.categoryData.products == undefined || s.categoryData.products.length == 0;

            s.searchKey = paramsToReturn.searchKey;

            Helper.forAllPage();

        }]);

});


/**
 * Created by kubany on 10/13/2015.
 */


define('app/controllers/index',[
    './mainCtrl',
    './categoriesCtrl',
    './categoryCtrl',
    './productCtrl',
    './supportCtrl',
    './shoppingCartCtrl',
    './searchCtrl',
]
    , function() {});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/user/controllers/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.user.controllers', []);
});
/**
 * Created by kubany on 11/11/2015.
 */
define('app/user/controllers/userController',['./module'], function (controllers) {
    'use strict';
    controllers.controller('userController', ['$scope', '$uibModal', '$log', 'ipCookie',
        function ($scope, $uibModal, $log, $cookie) {

            $scope.accountSection = function(){

                $rootScope.userid = null;
                $cookie.remove("userCookie");
            }


        }]);
});
/**
 * Created by correnti on 29/11/2015.
 */

define('app/user/controllers/registerCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('registerCtrl', ['$scope', 'registerService', '$location',
        '$timeout', '$filter', '$state', 'Analytics',
        function (s, registerService, $location, $timeout, $filter, $state, Analytics) {


            s.registerSuccess = false;
            s.WellcomeName = "";

            s.countries = {};
            s.registerAnswer = {
                message: '',
                class: 'invalid'
            }

            registerService.getAllCountries().then(function (countries) {
                s.countries = countries;
            });

            s.model = {
                username: '', email: '', password: '', confirm_password: '',
                firstName: '', lastName: '', phoneNumber: '', country: {}, address: '',
                city: '', postalCode: '', state: '', offers_promotion: true,
            }


            s.register = function () {

                registerService.register(s.model).then(function (response) {

                    s.registerAnswer.message = response.reason || $filter('translate')('register_faild');
                    s.registerAnswer.class = response.success ? 'valid' : 'invalid';

                    if (response.success) {

                        Analytics.trackEvent('Account', 'register', s.model);
                        $('body, html').animate({scrollTop: 0}, 10);
                        s.WellcomeName = s.model.firstName.replace(/\s/g, "").length > 0 ? s.model.firstName :
                            s.model.lastName.replace(/\s/g, "").length > 0 ? s.model.lastName : s.model.username;

                        var user = {
                            email: s.model.email,
                            loginPassword: s.model.password,
                            loginUser: s.model.username,
                        };

                        s.signIn(user, false);
                        if(document.location.hash == "#/register"){
                            window.history.back();
                        }

                    }
                    else {
                        $timeout(function () {
                            s.registerAnswer.message = "";
                            s.registerAnswer.class = "";
                        }, 5000)
                    }
                }, function (err) {
                    console.log(err);
                    s.registerAnswer.message = $filter('translate')('register_faild');
                    s.registerAnswer.class = 'invalid';
                    $timeout(function () {
                        s.registerAnswer.message = "";
                        s.registerAnswer.class = "";
                    }, 5000)
                });
            }

            s.validForm  = false;
            s.isValidForm = function(valid){
                s.validForm  = valid;
            }

            $(document).on("keydown", function (event) {
                if (event.keyCode == 13 && s.validForm) {
                    s.register();
                    return false;
                }
            });

            Helper.forAllPage();

        }]);

});
define('app/user/controllers/aboutCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('aboutCtrl', ['$scope', 'aboutService', '$location',
        '$timeout', '$filter', '$state', 'Analytics',
        function (s, aboutService, $location, $timeout, $filter, $state, Analytics) {

        }]);

});
define('app/user/controllers/versionCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('versionCtrl', ['$scope', 'versionService', '$location',
        '$timeout', '$filter', '$state', 'Analytics',
        function ($scope, versionService, $location, $timeout, $filter, $state, Analytics) {

            /* record of the versions */
            $scope.records = [
                "VERSION 3.2",
                "VERSION 3.1",
                "VERSION 3.0",
                "VERSION 2.5",
                "VERSION 2.4",
                "VERSION 2.3",
                "VERSION 2.2",
                "VERSION 2.1",
                "VERSION 2.0",
                "VERSION 1.1.7",
            ]


            /* Set default value to release_version */
            var release_version;
            var release_version_only;
            $scope.release_version=$scope.records[0];
            $scope.release_version_only=$scope.records[0].split(' ')[1];

            /* Set value according to value chose from the list */
            $scope.getVersion = function (index) {
                $scope.release_version=$scope.records[index];
                $scope.release_version_only=$scope.records[index].split(' ')[1];
                $scope.contentUrl = 'app/user/views/version-page-' + $scope.release_version_only + '.html';
            };

            /* show and hidden list of versions*/
            $scope.login = function (miniTitleId) {
                $("#" + miniTitleId).fadeToggle(300);
            }

            var ____loginInterval;
            $scope.miniTitleOut = function (miniTitleId) {
                if ($("#" + miniTitleId).css('display') != 'none') {
                    ____loginInterval = $timeout(function () {
                        $("#" + miniTitleId).fadeOut(300);
                    }, 2000);
                }
            };

            var current_selected_link;

            $scope.gotoElement = function (sectionId, id) {
                $scope.selected_menu_side_link(id);
                var element = $("#" + sectionId);
                var navHeight = $("nav.pages").height();
                var scrollHight = $("body, html").scrollTop();
                if ( scrollHight == 0)
                    navHeight = 2*navHeight;
                if (element.length > 0){
                    $("body, html").animate({
                        scrollTop: (element.offset().top - (navHeight) - 65 )
                    }, 1000)
                }
            };

            $scope.selected_menu_side_link = function (id) {
                var element = $("#" + id);
                if (current_selected_link)
                    current_selected_link.removeClass('selected');
                element.addClass('selected');
                current_selected_link=element;
            };

    }]);

});

/**
 * Created by kubany on 10/13/2015.
 */


define('app/user/controllers/index',[
    './userController',
    './registerCtrl',
    './aboutCtrl',
    './versionCtrl'
], function() {});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/order/controllers/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.order.controllers', []);
});
/**
 * Created by correnti on 31/12/2015.
 */


define('app/order/controllers/orderPaymentCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('orderPaymentCtrl', ['$scope', '$rootScope', 'resolveParams',
        'orderService', 'productsCartService', '$filter', '$location',
        function (s, rs, resolveParams, orderService, cartService, $filter, $location) {


            if (resolveParams.user == null) {
                $location.path('login')
                return;
            }
            s.user = resolveParams.user;
            s.accountDetails = resolveParams.accountDetails;
            s.checkCart();

            ///// PAYMENT SUCCESS ////
            s.paymentEnd = false;
            s.$on('updatePaymentEnd', function (event, args) {
                s.paymentEnd = args.paymentEnd;
                s.orderNumber = args.orderNumber;
                s.trackingNumber = args.trackingNumber;
                s.hasWarranty = args.hasWarranty;
                s.warrantyNumber = args.warrantyNumber;
                s.cardNumber = ['0000', '0000', '0000', args.cardNumber.substring(args.cardNumber.length - 4)];
                s.subTotal = ($filter("productsCartSum")(s.cart));
                s.total = ($filter("productsCartSum")(s.cart, s.shippingCost));
                s.TransPaymentMethod = args.TransPaymentMethod;
                rs.$broadcast('clearCartEvent');
            });
            ///// END PAYMENT SUCCESS ////

            s.noCards = !(resolveParams.paymentPreferences && resolveParams.paymentPreferences.masterCredit);
            s.showMasterCart = false;
            s.card = {number: '', cvv: '', expirationDate: {month: '', year: ''}, name: ''}
            s.savePay = {username: '', password: ''}

            var masterCredit = resolveParams.paymentPreferences && resolveParams.paymentPreferences.masterCredit ?
                resolveParams.paymentPreferences.masterCredit : null;

            s.CardNumber = [];
            if (masterCredit != null) {
                //noinspection JSAnnotator
                try {
                    var m = masterCredit.expirationDate.substring(0, 2)
                }
                catch(err) {
                    m = ( masterCredit.expirationDate += "").substring(0,2)
                }
                s.card = {
                    number: masterCredit.cardNumber.substring(4),
                    cvv: masterCredit.cvvNumber,
                    expirationDate: {
                        month: m,
                        year: masterCredit.expirationDate.substring(2)
                    },
                    cartExpired: masterCredit.cartExpired,
                    name: masterCredit.customername,
                }
                s.CardNumber = splitCartNumber(masterCredit.cardNumber);
            }

            function splitCartNumber(cartNum) {
                var arr = [];
                for (var i = 0; i < cartNum.length && i + 3 < cartNum.length; i += 4) {
                    arr.push(cartNum.substring(i, i + 4));
                }
                return arr;
            }

            var safePay = resolveParams.paymentPreferences && resolveParams.paymentPreferences.safePay ?
                resolveParams.paymentPreferences.safePay : null;
            s.secretPassword = "****";
            if (safePay != null) {
                s.savePay.username = safePay.safepayUsername;
                s.secretPassword = safePay.safepayPassword;
                s.savePay.password = s.secretPassword.substring(0, 12);
            }
            s.saveSafePay = true;
            s.saveMasterCredit = true;

            s.agree_Agreement = true;

            s.shipping = resolveParams.shippingCost;
            s.shippingCost = resolveParams.shippingCost ? resolveParams.shippingCost.amount : null;
            s.itemsPaid = s.cart ? s.cart.productsInCart.length : 0;

            var d = new Date();
            s.Date_Ordered = [d.getDate(), (d.getMonth() + 1), d.getFullYear()].join('/');

            Helper.forAllPage();

        }]);
});





/**
 * Created by correnti on 25/01/2016.
 */


define('app/order/controllers/userNotLoginCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('userNotLoginCtrl', ['$scope', '$state', '$location',
        function (s, $state, $location) {

            s.checkCart();

            Helper.forAllPage();

            s.orderPaymentLogin = {
                loginUser : '',
                loginPassword : '',
                email : '',
            };

            <!--D37018- Changing target signIn function from 'userNotLoginCtrl.orderPaymentLogin_signIn' to directly go 'loginModal.signIn'-->
            // s.orderPaymentLogin_signIn = function(){
            //     s.signIn(s.orderPaymentLogin, false);
            // }

            s.registrationRedirect = function(){
                $location.path('/register');
            }

            s.$watch("userCookie.response", function(user){
                if(user && user.userId){
                    $state.go('orderPayment')
                }
            })
        }]);
});





/**
 * Created by kubany on 10/13/2015.
 */


define('app/order/controllers/index',['./orderPaymentCtrl', './userNotLoginCtrl'], function() {});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/account/controllers/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.account.controllers', []);
});
/**
 * Created by correnti on 31/12/2015.
 */


define('app/account/controllers/myAccountCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('myAccountCtrl', ['$scope', '$timeout',
        '$location', 'resolveParams', 'accountService', 'ipCookie',
        function (s, $timeout, $location, resolveParams, accountService, $cookie) {

            checkLogin();
            function checkLogin(){
                s.checkLogin();
                if($location.path().indexOf('/myAccount') != -1){
                    $timeout(checkLogin, 2000);
                }
            }
            $(document).click(function(event) {
                if (!$(event.target).closest(".deleteAccountPopup,.deleteMainBtnContainer").length) {
                    $("body").find(".deleteAccountPopup").fadeOut(350);
                }
            });

            s.closeDeleteDialogBox = function(){


                $(".deleteAccountPopup").fadeOut(350);
                $(".PopUp > div:nth-child(1)").animate({
                    "top": "-150%"
                }, 300, function () {
                    $(".PopUp").fadeOut(100, function () {
                        $("body").css("overflow-y", "scroll");
                    });
                });
                }


            s.masterCredit4Digits = resolveParams.paymentPreferences &&
            resolveParams.paymentPreferences.masterCredit &&
            resolveParams.paymentPreferences.masterCredit.cardNumber ?
                resolveParams.paymentPreferences.masterCredit.cardNumber.substring(resolveParams.paymentPreferences.masterCredit.cardNumber.length - 4) : null;

            s.safePayName = resolveParams.paymentPreferences &&
            resolveParams.paymentPreferences.safePay &&
            resolveParams.paymentPreferences.safePay.safepayUsername ?
                resolveParams.paymentPreferences.safePay.safepayUsername : null;

            s.accountDetails = resolveParams.accountDetails;
            s.shippingDetails = resolveParams.shippingDetails;

            s.defaultPaymentMethodId = resolveParams.accountDetails.defaultPaymentMethodId == 0 ?
                s.masterCredit4Digits != null ? 20 : s.safePayName != null ? 10 : 0 : resolveParams.accountDetails.defaultPaymentMethodId;

            s.categoriesPromotions = [
                { categoryName : 'Tablets', categoryValue : true, },
                { categoryName : 'Laptops', categoryValue : true, },
                { categoryName : 'Headphones', categoryValue : true, },
                { categoryName : 'Speakers', categoryValue : true, },
                { categoryName : 'Mice', categoryValue : true, },
            ];

            s.allowOffersPromotionChanged = function(){
                accountService.accountUpdate(s.accountDetails);
            }
            s.deleteAccountUi = function(){

                $(".PopUp").fadeIn(100, function () {
                    $(".PopUp > div:nth-child(1)").animate({"top": top}, 600);
                    $("body").css({"left": "0px"})
                });

                $('.deleteAccountPopup').fadeIn(350);

            }

            s.deleteAccountConfirmed = function(){

                s.closeDeleteDialogBox();

                var responsePromise = accountService.deleteAccount();
                responsePromise.then(function(result) {

                    // this is only run after getData() resolves
                    var isSuccess  = result.StatusMessage.success;
                    console.log("result is success - "+isSuccess +"  Result outcome - "+ result.StatusMessage.reason );
                    if(isSuccess){

                        localStorage.removeItem('rememberMe');
                        $cookie.remove($cookie('lastLogin'));

                        $(".PopUp").fadeIn(100, function () {
                            $(".PopUp > div:nth-child(1)").animate({"top": top}, 600);
                            $("body").css({"left": "0px"})
                        });

                        $('.successfulDeleteMessage').fadeIn(350);

                       setTimeout(function(){

                            $(".successfulDeleteMessage").fadeOut(350);
                            $(".PopUp > div:nth-child(1)").animate({
                                "top": "-150%"
                            }, 300, function () {
                                $(".PopUp").fadeOut(100, function () {
                                    $("body").css("overflow-y", "scroll");
                                });
                            });
                            location.reload();

                        }, 2000);
                   }
                });
            }

            Helper.forAllPage();

        }]);
});





/**
 * Created by correnti on 31/12/2015.
 */

define('app/account/controllers/accountDetailsCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('accountDetailsCtrl', ['$scope', '$timeout',
        '$location', 'resolveParams', 'registerService', 'accountService',
        function (s, $timeout, $location, resolveParams, registerService, accountService) {

            checkLogin();
            function checkLogin() {
                s.checkLogin();
                if ($location.path().indexOf('/accountDetails') != -1) {
                    $timeout(checkLogin, 2000);
                }
            }//Moving to AWS!

            s.accountDetails = resolveParams.accountDetails;
            s.accountDetailsAnswer = {message: '', class: 'invalid'}
            s.saveAccountDetails = function () {

                s.accountDetails.countryId = s.country.id;
                s.accountDetails.countryId = s.country.name + "," + s.country.isoName;
                s.accountDetails.countryIsoName = s.country.isoName;
                s.accountDetails.countryName = s.country.name;
                accountService.changeUserPassword(s.accountDetails.id, s.passwords)
                    .then(function (changeUserPasswordRes) {
                        if (changeUserPasswordRes && changeUserPasswordRes.success) {
                            accountService.accountUpdate(s.accountDetails).then(function (response) {
                                if (response && response.reason) {
                                    s.accountDetailsAnswer = {
                                        message: response.reason,
                                            class: response.success ? 'valid' : 'invalid'
                                    }
                                    if (response.success) {
                                        $location.path('myAccount');
                                    }
                                    else {
                                        $timeout(function () {
                                            s.accountDetailsAnswer = {message: '', class: 'invalid'}
                                        }, 4000);
                                    }
                                }
                            });
                        }
                        else {
                            s.accountDetailsAnswer = {
                                class: 'invalid',
                                message: changeUserPasswordRes.reason,
                            }
                            $timeout(function () {
                                s.accountDetailsAnswer = {message: '', class: 'invalid'}
                            }, 4000);
                        }
                    });
            }

            s.countries = null;
            registerService.getAllCountries().then(function (countries) {
                for (var i  in countries) {
                    if (countries[i].id == s.accountDetails.countryId) {
                        s.country = countries[i];
                        break;
                    }
                }
                s.countries = countries;
            });

            s.passwords = {
                new: '',
                old: '',
                confirm_new: '',
            }

            s.slideToggle = function (id) {
                $("#" + id + ", ." + id).slideToggle();
            }

            Helper.forAllPage();

        }]);
});





/**
 * Created by correnti on 02/02/2016.
 */


define('app/account/controllers/accountPaymentEditCtrl',['./module'], function (controllers) {
    'use strict';
    controllers.controller('accountPaymentEditCtrl', ['$scope', '$timeout',
        '$location', 'resolveParams', 'accountService',
        function (s, $timeout, $location, resolveParams, accountService) {

            checkLogin();
            function checkLogin() {
                s.checkLogin();
                if ($location.path().indexOf('/accountPaymentEdit') != -1) {
                    $timeout(checkLogin, 2000);
                }
            }

            s.years = [];
            var now = new Date();
            for (var i = 0; i < 10; i++) {
                s.years.push((now.getFullYear() + i) + "");
            }

            s.month = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
            s.calculateMonths = function (value) {
                var arr = Helper.getMonthInYearForMasterCredit(value, s.month);
                if (arr != null) {
                    s.month = arr;
                }
            }


            s.card = {number: '', cvv: '', expirationDate: {month: '', year: ''}, name: ''}
            s.savePay = {username: '', password: ''}

            var alreadyHaveMasterCreditCart = false;
            var alreadyHaveSafePayCart = false;
            var masterCredit = resolveParams.paymentPreferences && resolveParams.paymentPreferences.masterCredit ?
                resolveParams.paymentPreferences.masterCredit : null;

            if (masterCredit != null) {
                try {
                    var m = masterCredit.expirationDate.substring(0, 2)
                }
                catch(err) {
                    m = ( masterCredit.expirationDate += "").substring(0,2)
                }
                s.card = {
                    number: masterCredit.cardNumber.substring(4),
                    cvv: masterCredit.cvvNumber,
                    expirationDate: {
                        month: m,
                        year: masterCredit.expirationDate.substring(2)
                    },
                    name: masterCredit.customername,
                }
                alreadyHaveMasterCreditCart = true;

                var date = new Date();
                if (date.getFullYear() == s.card.expirationDate.year) {
                    var currentMonth = date.getMonth() + 1;
                    s.month = [];
                    for (var i = currentMonth; i <= 12; i++) {
                        s.month.push((i < 10 ? "0" + i : "" + i))
                    }
                }
            }

            var safePay = resolveParams.paymentPreferences && resolveParams.paymentPreferences.safePay ?
                resolveParams.paymentPreferences.safePay : null;
            if (safePay != null) {
                s.savePay.username = safePay.safepayUsername;
                //s.savePay.password = safePay.safepayPassword;
                alreadyHaveSafePayCart = true;
            }

            s.preferredPayment_MasterCredit = true;
            s.preferredPayment_SafePay = true;
            s.savePayBlocked = safePay == null || masterCredit == null;

            s.imgRadioButton = resolveParams.accountDetails.defaultPaymentMethodId + "" == "20" ? 2
                : safePay != null ? 1
                : masterCredit != null ? 2 : 1;

            s._saveMasterCredit = function () {

                var response;
                s.card.number = s.card.number.replace(/\s/g,'');
                if (!alreadyHaveMasterCreditCart) {
                    response = accountService.addMasterCreditMethod(s.card)
                }
                else {
                    response = accountService.updateMasterCreditMethod(s.card)
                }
                response.then(function (response) {

                    if (s.preferredPayment_MasterCredit && response && response.reason && response.success) {
                        accountService.updatePrefferedPaymentMethod(20).then(function (res) {
                            setMessage(res);
                        });
                    }
                    else {
                        setMessage(response);
                    }
                });
            }

            s.saveSafePay = function () {
                var response;
                if (!alreadyHaveSafePayCart) {
                    response = accountService.addSafePayMethod(s.savePay)
                }
                else {
                    response = accountService.updateSafePayMethod(s.savePay)
                }
                response.then(function (response) {

                    if (s.preferredPayment_SafePay && response && response.reason && response.success) {
                        accountService.updatePrefferedPaymentMethod(10).then(function (res) {
                            setMessage(res);
                        });
                    }
                    else {
                        setMessage(response);
                    }
                });
            }

            function setMessage(response) {

                if (response && response.reason) {
                    s.accountDetailsAnswer = {
                        message: response.reason,
                        class: response.success ? 'valid' : 'invalid'
                    }
                    if (response.success) {
                        $location.path('myAccount');
                    }
                    if (!response.success) {
                        $("#safePayDetailErrorLabel").html(response.reason);
                    }
                    else {
                        $timeout(function () {
                            s.accountDetailsAnswer = {message: '', class: 'invalid'}
                        }, 4000)
                    }
                }
            }

            Helper.forAllPage();

        }]);
});







/**
 * Created by correnti on 27/07/2016.
 */



define('app/account/controllers/MyOrdersCtrl',['./module'], function (controllers) {
    'use strict';
controllers.controller('myOrdersCtrl', ['resolveParams', '$scope', 'ModalService', 'orderService',

    function (resolveParams, $scope, ModalService, OrderService) {

        var vm = this;
        var modalId = 'delete-order-confirmation'
        vm.orders = resolveParams.orders;

        vm.removeProductFromOrders = function(order){
            vm.deleteOrderCandidate = order;
            vm.openConfirmationModal();
        };

        vm.openConfirmationModal = function(id){
            ModalService.Open(modalId);
        }

        $scope.confirmDeleteOrder = function(id){
            OrderService.removeOrder(vm.deleteOrderCandidate).then(function(orders){
                vm.deleteOrderCandidate = null;
                vm.orders = orders;
            });

        }

        $scope.cancelDeleteOrder = function(id){
            vm.deleteOrderCandidate = null;
        }

        // ModalService.SetBtnsCb(modalId, [$scope.confirmDeleteOrder, $scope.cancelDeleteOrder]);

        vm.getTotalPrice = function(arr){
            var total = 0;
            angular.forEach(arr, function(product){
                total += product.PricePerUnit * product.Quantity;
            });
            return total;
        }

    }]);
});

/**
 * Created by kubany on 10/13/2015.
 */


define('app/account/controllers/index',[
    './myAccountCtrl',
    './accountDetailsCtrl',
    './accountPaymentEditCtrl',
    './MyOrdersCtrl'
], function() {});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/user/services/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.user.services', []);
});
/**
 * Created by kubany on 11/11/2015.
 */
define('app/user/services/userService',['./module'], function (services) {
    'use strict';
    services.factory('userService', ['$rootScope', '$q', '$http',

        function ($rootScope, $q, $http) {

            return ({
                login: login,
                getConfiguration: getConfiguration,
                singOut: singOut,
                getCartIncrement: getCartIncrement,
                getDuplicateProductPrice: getDuplicateProductPrice,
                nv_slowPage: nv_slowPage,
                haveConfiguration: haveConfiguration,
                facebookLogin : facebookLogin,
                getWarrantyProperties: getWarrantyProperties,
                getVoltageProperties: getVoltageProperties

            });


            function haveConfiguration(){
                var defer = $q.defer();
                if(appConfiguration && appConfiguration.slowPage){
                    defer.resolve();
                }
                else{
                    getConfiguration().then(function(){
                        defer.resolve();
                    });
                }
                return defer.promise;
            }

            function getCartIncrement() {
                return appConfiguration && appConfiguration.cartIncrement ? appConfiguration.cartIncrement : 0;
            }

            function getDuplicateProductPrice() {
                return appConfiguration && appConfiguration.duplicateProductPrice ? appConfiguration.duplicateProductPrice : 1;
            }

            function getWarrantyProperties() {
                return appConfiguration && appConfiguration.enableWarranty ?
                    {
                        enableWarranty: appConfiguration.enableWarranty == 2 ? true : false,
                        warrantyUrl: appConfiguration.warrantyUrl
                    } : {};
            }

            function getVoltageProperties() {
                return appConfiguration && appConfiguration.enableVoltage ?
                    {
                        enableVoltage: appConfiguration.enableVoltage == 2 ? true : false,
                        voltageUrl: appConfiguration.voltageUrl + '/vibesimple/rest/v1/protect-fields'
                    } : {};
            }

            function singOut() {

                var defer = $q.defer();
                var user = $rootScope.userCookie;
                if (user && user.response && user.response.userId != -1) {

                    var paramsToSend = server.account.accountLogout();
                    var expectToReceive = {
                        loginUser: user.response.userId,
                        base64Token: "Basic " + user.response.t_authorization,
                    }

                    Helper.enableLoader();

                    Loger.Params(expectToReceive, paramsToSend.method);
                    $.soap({
                        url: paramsToSend.path,
                        method: paramsToSend.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + paramsToSend.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(paramsToSend.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.StatusMessage);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });
                }
                else {
                    defer.resolve("no user");
                }
                return defer.promise;
            }


            var appConfiguration;

            function nv_slowPage(){
                if(appConfiguration== undefined){
                    return;
                }else{
                    return appConfiguration.slowPage;
                }

            }

            function getConfiguration() {

                var config = {};

                var defer = $q.defer();
                if (appConfiguration) {
                    defer.resolve(appConfiguration);
                }
                else {
                    //Helper.enableLoader();
                    $http({
                        method: "get",
                        url: server.catalog.getConfigurations(),
                    }).
                    then(function (res) {
                        Loger.Received(res);

                        config.showChangePassword = true;
                        if (res && res.data && res.data.parameters) {
                            for (var i = 0; i < res.data.parameters.length; i++) {

                                switch (res.data.parameters[i].parameterName) {
                                    case "Email_in_login":
                                        config.emailAddressInLogin = res.data.parameters[i].parameterValue &&
                                            res.data.parameters[i].parameterValue.toLowerCase() == "yes";
                                        break;
                                    case "Show_slow_pages":
                                        config.slowPage = res.data.parameters[i].parameterValue &&
                                            res.data.parameters[i].parameterValue.toLowerCase() == "yes";
                                        break;
                                    case "Implement_DevOps_Process":
                                        config.showChangePassword = res.data.parameters[i].parameterValue &&
                                            res.data.parameters[i].parameterValue.toLowerCase() == "yes";
                                        break;
                                    case "Typos_on_order_payment":
                                        config.spellingMistakes = res.data.parameters[i].parameterValue &&
                                            res.data.parameters[i].parameterValue.toLowerCase() == "yes";
                                        break;
                                    case "Sum_added_to_cart":
                                        config.cartIncrement = res.data.parameters[i].parameterValue || "0";
                                        config.cartIncrement = parseInt(config.cartIncrement);
                                        if (!config.cartIncrement || config.cartIncrement < 0) {
                                            config.cartIncrement = 0;
                                        }
                                        break;
                                    case "Price_diffs_UI_vs_API":
                                        config.duplicateProductPrice = res.data.parameters[i].parameterValue &&
                                        res.data.parameters[i].parameterValue.toLowerCase() == "yes" ? 2 : 1;
                                        break;
                                    case "Enable_Warranty":
                                        config.enableWarranty = res.data.parameters[i].parameterValue &&
                                        res.data.parameters[i].parameterValue.toLowerCase() == "yes" ? 2 : 1;
                                        config.warrantyUrl = '';
                                        break;
                                    case "Enable_Voltage_Encryption":
                                        config.enableVoltage = res.data.parameters[i].parameterValue &&
                                        res.data.parameters[i].parameterValue.toLowerCase() == "yes" ? 2 : 1;
                                        break;
                                    case "Voltage_Service_URL":
                                        config.voltageUrl = res.data.parameters[i].parameterValue;
                                        break;
                                    // case "Warranty_location":
                                    //     config.warrantyUrl = res.data.parameters[i].parameterValue == 'default' ? '' : res.data.parameters[i].parameterValue;
                                    //     break;
                                }
                            }
                        }

                        var paramsToSend = server.catalog.getAccountConfiguration();
                        $.soap({
                            url: paramsToSend.path,
                            method: paramsToSend.method,
                            namespaceURL: server.namespaceURL,
                            SOAPAction: server.namespaceURL + paramsToSend.method,
                            data: {},
                            success: function (soapResponse) {
                                var json = soapResponse.toJSON(paramsToSend.response);
                                config.allowUserConfiguration = json.allowUserConfiguration;
                                config.loginBlockingIntervalInSeconds = json.loginBlockingIntervalInSeconds;
                                config.numberOfFailedLoginAttemptsBeforeBlocking = json.numberOfFailedLoginAttemptsBeforeBlocking;
                                config.productInStockDefaultValue = json.productInStockDefaultValue;
                                config.userLoginTimeOut = json.userLoginTimeout;
                                config.userSecondWSDL = json.userSecondWsdl;
                                appConfiguration = config;
                               // Helper.disableLoader();
                                //BUG: #161001 - Remove duplicate requests
                                $rootScope.$broadcast('configurationLoaded', {
                                    response: config
                                });
                                defer.resolve(config);
                            },
                            error: function (response) {
                                Loger.Received(response);
                                Helper.disableLoader();
                                defer.reject("Request failed! ");
                            },
                            enableLogging: true
                        });

                    }, function (err) {
                        Helper.disableLoader();
                        Loger.Received(err);
                        defer.reject("probl.")
                    })

                }
                return defer.promise;
            }

            function login(user) {

                var defer = $q.defer();
                var params = server.account.login();

                Helper.enableLoader();

                Loger.Params(user, params.method);
                // HTTPHeaders: {
                //     'Authorization': 'Basic ' + btoa(user.loginUser + ":" + user.loginPassword)
                // },
                $.soap({
                    url: params.path,
                    method: params.method,
                    namespaceURL: server.namespaceURL,
                    SOAPAction: server.namespaceURL + params.method,
                    data: user,
                    success: function (soapResponse) {
                        var response = soapResponse.toJSON(params.response);
                        Helper.disableLoader();
                        Loger.Received(response);
                        defer.resolve(response.StatusMessage);
                    },
                    error: function (response) {
                        Loger.Received(response);
                        Helper.disableLoader();
                        defer.reject("Request failed! ");
                    },
                    enableLogging: true
                });

                return defer.promise;
            }

            function facebookLogin(){
                var defer = $q.defer();
                var paramsToSend = {};
                var expectToReceive = {}

                Helper.enableLoader();

                Loger.Params(expectToReceive, paramsToSend.method);
                $http({
                    method: "post",
                    url: server.account.facebookLogin(),
                    data: {},
                    headers: {
                        "content-type": "application/json",
                    },
                }).
                then(function (res) {
                    Helper.disableLoader();
                    Loger.Received(res);
                    defer.resolve(res.data)
                }, function (err) {
                    Helper.disableLoader();
                    Loger.Received(err);
                    defer.reject(err)
                })
                return defer.promise;
            }

        }]);
});



/**
 * Created by kubany on 10/13/2015.
 */
define('app/user/services/registerService',['./module'], function (services) {
    'use strict';
    services.service('registerService', ['$http', '$q', function ($http, $q) {
            // Return public API.
            return ({
                register: register,
                getAllCountries: getAllCountries,
            });

            var countries;

            function getAllCountries() {

                var defer = $q.defer();
                if (countries) {
                    defer.resolve(countries);
                }
                else {
                    var params = server.account.getAllCountries();

                    $.soap({
                        url: params.path ,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: {},
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            countries = response.Country;
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(countries);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });
                }
                return defer.promise;
            }

            function register(model) {

                var expectToReceive = {
                    "accountType": "USER",
                    "address": model.address,
                    "allowOffersPromotion": model.offers_promotion ? 'true' : 'false',
                    "cityName": model.city,
                    "countryId": model.country && model.country.id ? model.country.name + "," + model.country.isoName : "United States,us",
                    "email": model.email,
                    "firstName": model.firstName,
                    "lastName": model.lastName,
                    "loginName": model.username,
                    "password": model.password,
                    "phoneNumber": model.phoneNumber,
                    "stateProvince": model.state,
                    "zipcode": model.postalCode,
                }

                var defer = $q.defer();
                var params = server.account.register();
                Loger.Params(expectToReceive, params.method);

                Helper.enableLoader(10);

                $.soap({
                    url: params.path ,
                    method: params.method,
                    namespaceURL: server.namespaceURL,
                    SOAPAction: server.namespaceURL + params.method,
                    data: expectToReceive,
                    success: function (soapResponse) {
                        var response = soapResponse.toJSON(params.response);
                        Helper.disableLoader();
                        Loger.Received(response);
                        defer.resolve(response.StatusMessage);
                    },
                    error: function (response) {
                        Loger.Received(response);
                        Helper.disableLoader();
                        defer.reject("Request failed! ");
                    },
                    enableLogging: true
                });

                return defer.promise;
            }

        }]);
});
define('app/user/services/aboutService',['./module'], function (services) {
    'use strict';
    services.service('aboutService', ['$http', '$q', function ($http, $q) {

            // Return public API.
            return ({
                // register: register,
                // getAllCountries: getAllCountries
            });

        }]);
});
define('app/user/services/versionService',['./module'], function (services) {
    'use strict';
    services.service('versionService', ['$http', '$q', function ($http, $q) {

            // Return public API.
            return ({
                // register: register,
                // getAllCountries: getAllCountries
            });

        }]);
});
/**
 * Created by kubany on 10/13/2015.
 */


define('app/user/services/index',['./userService',
        './registerService',
        './aboutService',
        './versionService'
        ], function() {});
 /**
 * Created by correnti on 10/01/2016.
 */

define('app/order/services/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.order.services', []);
});
/**
 * Created by correnti on 10/01/2016.

 [‎25/‎01/‎2016 11:12] Regev, Binyamin:
 accountType:
 10 = admin
 20 = user
 30 = guest

 */

define('app/order/services/orderService',['./module'], function (services) {
    'use strict';
    services.service('orderService', ['$rootScope', '$q', '$http', '$filter', 'productsCartService', 'userService',

        function ($rootScope, $q, $http, $filter, productsCartService, userService) {

            return ({
                getAccountById: getAccountById,
                getShippingCost: getShippingCost,
                SafePay: SafePay,
                accountUpdate: accountUpdate,
                userIsLogin: userIsLogin,
                removeOrder: removeOrder
            });

            function userIsLogin() {
                var user = $rootScope.userCookie;
                return user && user.response && user.response.userId != -1;
            }

            function SafePay(user, savePay, card, shipping, cart, accountNumber, TransPaymentMethod, cartIncrement) {
                var defer = $q.defer();

                var purchasedProducts = [];
                var usingWarranty = false;
                angular.forEach(cart.productsInCart, function (product) {
                    purchasedProducts.push({
                        "hexColor": product.color.code,
                        "productId": product.productId,
                        "quantity": product.quantity,
                        "hasWarranty" : product.hasWarranty
                    });
                    if(!usingWarranty){
                        usingWarranty = product.hasWarranty;
                    }
                });
                usingWarranty ? Analytics.trackEvent('SafePay', 'Warranty activated', cart.productsInCart) : "";
                var paramsToPass = {
                    "orderPaymentInformation": {
                        "Transaction_AccountNumber": accountNumber,
                        "Transaction_Currency": shipping.currency,
                        "Transaction_CustomerPhone": user.phoneNumber,
                        "Transaction_MasterCredit_CVVNumber": card.cvv,
                        "Transaction_MasterCredit_CardNumber": '4886' + card.number,
                        "Transaction_MasterCredit_CustomerName": card.name,
                        "Transaction_MasterCredit_ExpirationDate": card.expirationDate.month + "" + card.expirationDate.year,
                        "Transaction_PaymentMethod": TransPaymentMethod,
                        "Transaction_ReferenceNumber": 0,
                        "Transaction_SafePay_Password": savePay.password,
                        "Transaction_SafePay_UserName": savePay.username,
                        "Transaction_TransactionDate": shipping.transactionDate,
                        "Transaction_Type": "PAYMENT"
                    },
                    "orderShippingInformation": {
                        "Shipping_Address_Address": user.address,
                        "Shipping_Address_City": user.cityName,
                        "Shipping_Address_CountryCode": user.countryId,
                        "Shipping_Address_CustomerName": user.firstName + " " + user.lastName,
                        "Shipping_Address_CustomerPhone": user.phoneNumber,
                        "Shipping_Address_PostalCode": user.zipcode,
                        "Shipping_Address_State": user.stateProvince,
                        "Shipping_Cost": $filter('productsCartSum')(cart),
                        "Shipping_NumberOfProducts": $filter('productsCartCount')(cart),
                        "Shipping_TrackingNumber": 0
                    },
                    "purchasedProducts": purchasedProducts,
                }
                Loger.Params(paramsToPass, server.order.safePay(user.id));
                Helper.enableLoader();
                var voltageProp = userService.getVoltageProperties();
                if(voltageProp.enableVoltage){
                    encryptCreditCardNumber(paramsToPass.orderPaymentInformation.Transaction_MasterCredit_CardNumber, accountNumber, voltageProp).then(function(res){
                        if(res.status == 200){
                            paramsToPass.orderPaymentInformation.Transaction_MasterCredit_CardNumber = res.data.fields[0].data[0];
                        }

                        doPay(user, paramsToPass).then(function(res){
                            defer.resolve(res);
                        }, function(err){
                            defer.reject(err);
                        });
                    }, function(err){
                        doPay(user, paramsToPass).then(function(res){
                            defer.resolve(res);
                        },function(err){
                            defer.reject(err);
                        });
                    });
                } else{
                    doPay(user, paramsToPass).then(function(res){
                        defer.resolve(res);
                    });;
                }

                return defer.promise;
            }

            function doPay(user, paramsToPass){
                var defer = $q.defer();
                $http({
                    method: "post",
                    url: server.order.safePay(user.id),
                    data: paramsToPass,
                    headers: {
                        "content-type": "application/json",
                        "Authorization": "Basic " + $rootScope.userCookie.response.t_authorization,
                    },
                }).
                then(function (res) {
                    Helper.disableLoader();
                    Loger.Received(res);
                    defer.resolve(res.data)
                }, function (err) {
                    Helper.disableLoader();
                    Loger.Received(err);
                    defer.reject(JSON.stringify(err))
                });
                return defer.promise;
            }

            function accountUpdate(user) {

                var paramsToPass = {
                    lastName: user.lastName,
                    firstName: user.firstName,
                    accountId: user.id,
                    countryId: user.countryId,
                    stateProvince: user.stateProvince,
                    cityName: user.cityName,
                    address: user.address,
                    zipcode: user.zipcode,
                    phoneNumber: user.phoneNumber,
                    email: user.email,
                    accountType: 20,
                    allowOffersPromotion: user.allowOffersPromotion
                }

                Loger.Params(paramsToPass, server.order.accountUpdate().method);

                var defer = $q.defer();
                var params = server.order.accountUpdate();

                Helper.enableLoader();

                $.soap({
                    url: params.path,
                    method: params.method,
                    namespaceURL: server.namespaceURL,
                    SOAPAction: server.namespaceURL + params.method,
                    data: paramsToPass,
                    success: function (soapResponse) {
                        var response = soapResponse.toJSON(params.response);
                        Helper.disableLoader();
                        Loger.Received(response);
                        defer.resolve(response.AccountResponse);
                    },
                    error: function (response) {
                        Loger.Received(response);
                        Helper.disableLoader();
                        defer.reject("Request failed! ");
                    },
                    enableLogging: true
                });

                return defer.promise;
            }

            function getAccountById() {

                var defer = $q.defer();
                var user = $rootScope.userCookie;
                if (user && user.response && user.response.userId != -1) {

                    var params = server.account.getAccountById();
                    Helper.enableLoader();

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data:
                            {
                                accountId: user.response.userId,
                                base64Token: "Basic "+user.response.t_authorization
                            },
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            if(response && response.AccountResponse){
                                response.AccountResponse.country = response.AccountResponse.countryIsoName;
                            }
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.AccountResponse);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });
                }
                else {
                    defer.resolve(null);
                }
                return defer.promise;
            }

            function getShippingCost(user) {

                var defer = $q.defer();

                //if((user.firstName + user.lastName).replace(/\s/g, "").length < 1){
                //    defer.resolve(null);
                //}

                productsCartService.getCart().then(function (cart) {

                    /// plaster
                    if ((user.firstName + user.lastName).trim().length < 1) {
                        user.firstName = $rootScope.userCookie.name;
                    }
                    /// end plaster

                    var paramsToPass = {
                        "seaddress": {
                            "addressLine1": user.address,
                            "addressLine2": "",
                            "city": user.cityName,
                            "country": user.country,
                            "postalCode": user.zipcode,
                            "state": user.stateProvince
                        },
                        "secustomerName": user.firstName + " " + user.lastName,
                        "secustomerPhone": user.phoneNumber,
                        "senumberOfProducts": $filter('productsCartCount')(cart),
                        "setransactionType": "SHIPPING_COST",
                        "sessionId" : $rootScope.orderSessionId ? $rootScope.orderSessionId : null
                    };

                    Loger.Params(paramsToPass, server.order.getShippingCost());

                    Helper.enableLoader();
                    $http({
                        method: "post",
                        url: server.order.getShippingCost(), //'https://91yjr5lzr7.execute-api.us-east-1.amazonaws.com/ShipEx'
                        data: paramsToPass,
                    }).
                    then(function (shippingCost) {

                        Loger.Received(shippingCost);
                        Helper.disableLoader();
                        defer.resolve(shippingCost.data)
                    }, function (err) {
                        Loger.Received(err);
                        Helper.disableLoader();
                        defer.reject(JSON.stringify(err))
                    })
                });

                return defer.promise;
            }

            function removeOrder(order){
                var defer = $q.defer();

                var user = $rootScope.userCookie;

                Helper.enableLoader();
                    $http({
                        method: "delete",
                        url: server.order.deleteOrder(order, user.response.userId),
                        headers: {
                            "content-type": "application/json",
                            "Authorization": "Basic " + $rootScope.userCookie.response.t_authorization,
                        },
                    }).
                    then(function (res) {

                        var data = res.data;
                        var ordersObj = [];
                        angular.forEach(data.OrderLines, function(obj){

                            if(ordersObj[obj.OrderNumber] == null){
                                ordersObj[obj.OrderNumber] = {
                                    "orderDate": obj.OrderDate,
                                    "products": []
                                };
                            }
                            ordersObj[obj.OrderNumber].products.push({
                                "ProductImageUrl": obj.ProductImageUrl,
                                "ProductName": obj.ProductName,
                                "ProductColorCode": obj.ProductColorCode,
                                "ProductColorName": obj.ProductColorName,
                                "PricePerUnit": obj.PricePerUnit,
                                "Quantity": obj.Quantity
                            });
                        });

                        var orders = [];
                        for(var index in Object.keys(ordersObj)){
                            var name = Object.keys(ordersObj)[index];
                            var order = {
                                orderNumber: name,
                                orderDate: ordersObj[name].orderDate,
                                products: ordersObj[name].products
                            }
                            orders.push(order);
                        }

                        Loger.Received(orders);
                        Helper.disableLoader();
                        defer.resolve(orders)
                    }, function (err) {
                        Loger.Received(err);
                        Helper.disableLoader();
                        defer.reject(JSON.stringify(err))
                    });

                return defer.promise;
            }

            function encryptCreditCardNumber(cardNum, account, voltageProp){
                var defer = $q.defer();
                var paramsToPass = '{"fields": [{"fieldName": "CreditCardNumber", "format": "cc-fpe2", "data": ["' + cardNum + '"]}]}';
                $http({
                    method: "post",
                    url: 'https://voltage-pp-0000.dataprotection.voltage.com/vibesimple/rest/v1/protect-fields',
                    headers: {
                        "content-type": "application/json",
                        "Authorization": 'VSAuth vsauth_method="sharedSecret",vsauth_data="dm9sdGFnZTEyMw==",vsauth_identity_ascii="accounts22@dataprotection.voltage.com",vsauth_version="200"',
                        'rejectUnauthorized': 'false',
                    },
                    data: paramsToPass
                }).then(function (res) {
                    Loger.Received(res);
                    Helper.disableLoader();
                    defer.resolve(res);
                }, function (err) {
                    Loger.Received(err);
                    Helper.disableLoader();
                    defer.reject(JSON.stringify(err))
                });

                return defer.promise;
            }
        }]);
});


/**
 * Created by correnti on 10/01/2016.
 */

define('app/order/services/index',[
    './orderService',
    ], function() {});
/**
 * Created by kubany on 10/13/2015.
 */

define('app/services/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.services', []);
});




/**
 * Created by correnti on 06/12/2015.
 */

define('app/services/productsCartService',['./module'], function (services) {
    'use strict';
    services.service('productsCartService', ['$http', '$q', 'resHandleService', 'ipCookie',
        '$rootScope', 'toaster', 'userService',
        function ($http, $q, responseService, $cookie, $rootScope, toaster, userService) {

            var cart = null;
            var enableWarranty = false;
            function getTempCart() {
                return {"userId": -1, "productsInCart": [],}
            }

            return ({
                addProduct: addProduct,
                updateProduct: updateProduct,
                loadCartProducts: loadCartProducts,
                joinCartProducts: joinCartProducts,
                removeProduct: removeProduct,
                checkout: checkout,
                getCart: getCart,
                saveCart: saveCart,
                clearCart: clearCart,
                checkOutOfStockProductsInCart: checkOutOfStockProductsInCart,
                setEnableWarranty: setEnableWarranty
            });

            /* returned functions */

            function clearCart() {
                var responce = $q.defer();
                var user = $rootScope.userCookie;
                if (user && user.response) {
                    if (user.response.userId != -1) {
                        $http({
                            method: "delete",
                            headers: {
                                "content-type": "application/json; charset=utf-8",
                                "Authorization": "Basic " + user.response.t_authorization,
                            },
                            url: server.order.clearCart(user.response.userId)
                        }).success(function (res) {
                            cart = res;
                            Loger.Received(res)
                            responce.resolve(cart);
                        }).error(function (err) {
                            alert('An error occurred, please try again')
                            Loger.Received(err);
                            responce.reject('error in load cart (productCartService - loadCartProducts)');
                        });
                    }
                }
                else {
                    responce.resolve(null);
                }
                return responce.promise;
            }

            function saveCart(_cart) {
                updateCart(_cart);
            }

            function getCart() {

                var responce = $q.defer();
                var user = $rootScope.userCookie;
                if (user && user.response) {
                    if (user.response.userId != -1) {
                        $http({
                            method: "get",
                            async: false,
                            headers: {
                                "content-type": "application/json; charset=utf-8",
                                "Authorization": "Basic " + user.response.t_authorization,
                            },
                            url: server.order.loadCartProducts(user.response.userId)
                        }).success(function (res) {
                            Loger.Received(res)
                            cart = res;
                            responce.resolve(cart);
                        }).error(function (err) {
                            alert('An error occurred, please try again')
                            Loger.Received(err)
                            responce.reject('error in load cart (productCartService - loadCartProducts)');
                        });
                    }
                }
                else {
                    responce.resolve(null);
                }
                return responce.promise;
            }

            function checkout() {
                var responce = $q.defer();
                responce.resolve(false);
                return responce.promise;
            }

            function removeProduct(index) {
                var responce = $q.defer();
                var user = $rootScope.userCookie;
                var prod = cart.productsInCart[index];
                cart.productsInCart.splice(index, 1);
                if (user && user.response && user.response.userId != -1) {
                    Loger.Received("deleted product, no returns!");
                    $http({
                        method: "delete",
                        url: server.order.removeProductToUser(user.response.userId, prod.productId, prod.color.code),
                        headers: {
                            "content-type": "application/json; charset=utf-8",
                            "Authorization": "Basic " + user.response.t_authorization,
                        }
                    });
                }
                else {
                    updateCart(cart);
                }
                responce.resolve(cart);
                return responce.promise;
            }

            function loadCartProducts() {

                var responce = $q.defer();
                var user = $rootScope.userCookie;
                if (user && user.response) {
                    if (user.response.userId != -1) {
                        $http({
                            method: "get",
                            async: false,
                            headers: {
                                "content-type": "application/json; charset=utf-8",
                                "Authorization": "Basic " + user.response.t_authorization,
                            },
                            url: server.order.loadCartProducts(user.response.userId)
                        }).success(function (res) {
                            Loger.Received(res)
                            cart = res;
                            responce.resolve(cart);
                        }).error(function (err) {
                            Loger.Received(err)
                            alert('An error occurred, please try again')
                            responce.reject('error in load cart (productCartService - loadCartProducts)');
                        });
                    }
                }
                else {
                    cart = loadGuestCartProducts();
                    responce.resolve(cart);
                }
                return responce.promise;
            }

            function loadGuestCartProducts() {

                var guestCart = $cookie("userCart");
                if (!guestCart) {
                    guestCart = getTempCart();
                    updateCart(guestCart);
                }
                return guestCart;
            }

            function joinCartProducts() {

                var defer = $q.defer();
                loadCartProducts().then(function (_cart) {
                    cart = _cart;
                    var guestCart = loadGuestCartProducts();

                    var tempCart = [];
                    angular.forEach(cart.productsInCart, function (userProduct) {
                        var find = false;
                        angular.forEach(guestCart.productsInCart, function (guestProduct) {
                            if (userProduct.productId == guestProduct.productId && userProduct.color.code == guestProduct.color.code) {
                                find = true;
                                //both user and guest product quantity exceeded
                                if(guestProduct.quantity + userProduct.quantity > userProduct.color.inStock){
                                    /*
                                    PART OF BUG #142004
                                    TODO - show popUp "One or more of the items in you cart exceed the quantity in stock. We have adjusted your cart accordingly"
                                    * */
                                    guestProduct.quantity = userProduct.color.inStock; //the user will get the max quantity allowed
                                    toaster.pop({
                                        type: 'info',
                                        title: '',
                                        body: "One or more of the items in you cart exceed the quantity in stock. " +
                                            "We have adjusted your cart accordingly"
                                    })
                                }
                            }
                        });
                        if (!find) {
                            tempCart.push(userProduct);
                        }
                    });
                    angular.forEach(guestCart.productsInCart, function (guestProduct) {
                        tempCart.push(guestProduct);
                    });

                    cart.productsInCart = tempCart;
                    updateUserCart(cart);
                    if(_cart.sessionId){
                        $rootScope.orderSessionId = _cart.sessionId
                    }
                    $cookie.remove("userCart");
                    defer.resolve(cart);
                }, function (error) {
                    defer.reject(error);
                    })
                return defer.promise;
            }


            function updateUserCart() {

                var user = $rootScope.userCookie;
                if (user && user.response) {
                    if (user.response.userId != -1) {

                        var cartToReplace = [];
                        angular.forEach(cart.productsInCart, function (product) {
                            cartToReplace.push({
                                "hexColor": product.color.code,
                                "productId": product.productId,
                                "quantity": product.quantity,
                            });
                        })
                        if (cartToReplace.length > 0) {
                            $http({
                                method: "put",
                                data: JSON.stringify(cartToReplace),
                                headers: {
                                    "Authorization": "Basic " + user.response.t_authorization,
                                },
                                url: server.order.updateUserCart(user.response.userId)
                            }).success(function (res) {
                                Loger.Received(res);
                                console.log(res);
                            }).error(function (_err) {
                                Loger.Received(_err);
                                console.log("updateUserCart() rejected!  ====== " + _err)
                            });
                        }
                    }
                }
            }

            function updateCart(guestCart) {
                $cookie("userCart", guestCart, {expires: 365 * 5});
            }

            function updateProduct(product, color, quantity, oldColor) {
                var response = $q.defer();
                var user = $rootScope.userCookie;
                if (product.colors) {
                    if (user && user.response) {
                        if (user.response.userId != -1) {

                            var request = $http({
                                method: "put",
                                headers: {
                                    "Authorization": "Basic " + user.response.t_authorization,
                                },
                                async: false,
                                url: server.order.updateProductToUser(user.response.userId,
                                    product.productId, product.colors[0].code, quantity, oldColor),
                            });
                            request.then(function (newCart) {
                                Loger.Received(newCart);
                                cart = newCart.data;
                                response.resolve(cart);
                            });
                            return response.promise;
                        }
                    }
                    else {
                        var productIndex = -1;
                        for (var index in cart.productsInCart) {
                            var productInCart = cart.productsInCart[index];
                            if (product.productId == productInCart.productId && productInCart.color.code == oldColor) {
                                productIndex = index;
                                if (color.code == oldColor) {
                                    productInCart.quantity = quantity;
                                }
                                else {
                                    var founded = false;
                                    for (var _index in cart.productsInCart) {
                                        var _productInCart = cart.productsInCart[_index];
                                        if (product.productId == _productInCart.productId) {
                                            if (_productInCart.color.code == color.code) {
                                                founded = true;
                                                var instock = product.colors[0].inStock;
                                                _productInCart.quantity = _productInCart.quantity + quantity >  instock ? instock : _productInCart.quantity + quantity;
                                                break;
                                            }
                                        }
                                    }
                                    if (founded) {
                                        cart.productsInCart.splice(productIndex, 1);
                                    }
                                    else {
                                        productInCart.color = color
                                        productInCart.quantity = quantity
                                    }
                                }
                                break;
                            }
                            else {
                                var sameProductIdCount = 0;
                                for (var _index in cart.productsInCart) {
                                    var _productInCart = cart.productsInCart[_index];
                                    if (product.productId == _productInCart.productId) {
                                        sameProductIdCount++;
                                    }
                                }
                                if (sameProductIdCount == 1) {
                                    productInCart.color = color
                                    productInCart.quantity = quantity
                                    break;
                                }
                            }
                        }
                        updateCart(cart);
                        response.resolve(cart);
                    }
                }
                return response.promise;
            }

            function addProduct(product, quantity, hasWarranty) {

                var response = $q.defer();
                var user = $rootScope.userCookie;

                if (user && user.response) {
                    if (user.response.userId != -1) {

                        Helper.enableLoader();
                        var request = $http({
                            method: "post",
                            headers: {
                                "Authorization": "Basic " + user.response.t_authorization,
                                'Content-Type': 'application/x-www-form-urlencoded'
                            },
                            transformRequest: function(obj) {
                                var str = [];
                                for(var p in obj)
                                    str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
                                return str.join("&");
                            },
                            data: {sessionId: $rootScope.orderSessionId,},
                            async: false,
                            url: server.order.addProductToUser(user.response.userId,
                                product.productId, product.colors[0].code, quantity, hasWarranty ? true : false),
                        });
                        request.then(function (newCart) {
                            Helper.disableLoader();
                            Loger.Received(newCart);
                            cart = newCart.data;
                            response.resolve(cart);
                        }, function (error) {
                            Helper.disableLoader();
                            Loger.Received(error);
                            response.reject(error);
                        });

                        return response.promise;
                    }
                }
                else {
                    var find = null;
                    var productIndex = 0;
                    angular.forEach(cart.productsInCart, function (productInCart, index) {
                        if (product.productId == productInCart.productId) {
                            angular.forEach(product.colors, function (color) {
                                if (productInCart.color.code == color.code) {
                                    productIndex = index;
                                    productInCart.quantity += quantity;
                                    find = product;
                                }
                            });
                        }
                    });

                    if (!find) {
                        cart.productsInCart.unshift({
                            "productId": product.productId,
                            "imageUrl": product.imageUrl,
                            "productName": product.productName,
                            "color": product.colors.length > 0 ? product.colors[0] : 'FFF',
                            "quantity": quantity,
                            "price": product.price,
                            "hasWarranty" : hasWarranty
                        });
                    }
                    else {
                        cart.productsInCart.splice(0, 0, cart.productsInCart.splice(productIndex, 1)[0]);
                    }

                    updateCart(cart);
                    response.resolve(cart);
                    return response.promise;
                }
            }

            function checkOutOfStockProductsInCart() {

                var defer = $q.defer()

                var user = $rootScope.userCookie;
                if (user && user.response && user.response.userId != -1) {
                    defer.resolve(cart);
                    return defer.promise;
                }

                var cartToReplace = [];

                for (var prodIndex = 0; prodIndex < cart.productsInCart.length; prodIndex++) {
                    var product = cart.productsInCart[prodIndex];
                    checkOutOfStockProduct(product, prodIndex).then(function (res) {

                        if (res._prod != null) {
                            cartToReplace.push(res.real_prod);
                        }

                        if (res._prodIndex == cart.productsInCart.length - 1) {
                            cart.productsInCart = cartToReplace;
                            updateCart(cart);
                            defer.resolve(cart);
                        }
                    });
                }
                if (cart.productsInCart.length == 0) {
                    defer.resolve(cart);
                }
                return defer.promise;
            }

            function checkOutOfStockProduct(product, prodIndex) {

                var defer = $q.defer()
                $http({
                    method: "get",
                    url: server.catalog.getProductById(product.productId)
                }).success(function (res) {
                    Loger.Received(res);
                    defer.resolve(res.productStatus == 'OutOfStock' ?
                    {real_prod: product, _prod: null, _prodIndex: prodIndex} :
                    {real_prod: product, _prod: res, _prodIndex: prodIndex});
                }).error(function (_err) {
                    Loger.Received(_err);
                    console.log("checkOutOfStockProduct() rejected!  ====== " + _err)
                    console.log(_err)
                    defer.resolve({real_prod: product, _prod: res, _prodIndex: prodIndex});
                });
                return defer.promise;

            }

            function setEnableWarranty(isEnabledWarranty){
                enableWarranty = isEnabledWarranty;
            }

        }]);


});
/**
 * Created by kubany on 10/13/2015.
 */
define('app/services/productService',['./module'], function (services) {
    'use strict';
    services.service('productService', ['$http', '$q', 'resHandleService', '$timeout', 'categoryService', 'userService',
        function ($http, $q, responseService, $timeout, categoryService, userService) {
            // Return public API.
            return ({
                getProducts: getProducts,
                getProductById: getProductById,
                getProductsBySearch: getProductsBySearch,
                getAllCategoriesAttributes: getAllCategoriesAttributes,
            });

            function getProducts() {
                var request = $http({
                    method: "get",
                    url: server.catalog.getProducts()
                });
                return ( request.then(responseService.handleSuccess, responseService.handleError) );
            }

            function getProductById(id) {

                var allData = categoryService.getExistingData();
                var response = $q.defer();
                var found = false;
                if (allData) {
                    for (var i = 0; i < allData.length; i++) {
                        for (var j = 0; j < allData[i].products.length; j++) {
                            var product = allData[i].products[j];
                            if (product.productId == id) {
                                found = true;
                                response.resolve(product);
                                break;
                            }
                        }
                        if (found) {
                            break;
                        }
                    }
                }
                if (!found) {
                    Helper.enableLoader();
                    var request = $http({
                        method: "get",
                        url: server.catalog.getProductById(id),
                    });
                    request.then(function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            var duplicateProductPrice = userService.getDuplicateProductPrice();
                            res.data.price *= duplicateProductPrice;
                            response.resolve(res.data);
                        },
                        function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            response.reject(res);
                        })
                }
                return response.promise;
            }

            function getProductsBySearch(word, quantity) {

                if(!word){
                    word = "";
                }

                var allData = categoryService.getExistingData();
                var response = $q.defer();
                if (allData) {
                    var arr = [];
                    for (var i = 0; i < allData.length; i++) {
                        var data = allData[i];
                        var category = {
                            categoryId: data.categoryId,
                            categoryImageId: data.categoryImageId,
                            categoryName: data.categoryName,
                            products: [],
                        };
                        //add the entire category products
                        if(category.categoryName.toLowerCase() === word.toLowerCase())
                            category.products = allData[i].products;
                        else{
                            for (var j = 0; j < data.products.length; j++) {
                                var product = allData[i].products[j];
                                if (product.productName.toLowerCase().indexOf(word.toLowerCase()) != -1
                                    || data.categoryName.toLowerCase() == word.toLowerCase()) {
                                    category.products.push(product);
                                }
                            }
                        }

                        if(category.products.length > 0){
                            arr.push(category);
                        }
                    }
                    response.resolve(arr);
                }
                else {
                    Helper.enableLoader();
                    var request = $http({
                        method: "get",
                        url: server.catalog.getProductsBySearch(word, quantity),
                    });
                    request.then(function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            var duplicateProductPrice = userService.getDuplicateProductPrice();
                            for(var index= 0 ; index < res.data.length; index++){
                                for(var index2= 0 ; index2 < res.data[index].products.length; index2++){
                                    res.data[index].products[index2].price *= duplicateProductPrice;
                                }
                            }
                            response.resolve(res.data);
                        },
                        function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            response.resolve(res);
                        })
                }
                return response.promise;
            }

            var allCategoriesAttributes;

            function getAllCategoriesAttributes() {

                var response = $q.defer();
                if (allCategoriesAttributes) {
                    response.resolve(allCategoriesAttributes);
                }
                else {

                    Helper.enableLoader();
                    var request = $http({
                        method: "get",
                        url: server.catalog.getAllCategoriesAttributes()
                    });
                    request.then(function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            allCategoriesAttributes = res.data;
                            response.resolve(allCategoriesAttributes);
                        },
                        function (res) {
                            Helper.disableLoader();
                            Loger.Received(res);
                            response.resolve(res);
                        });
                }
                return response.promise;
            }

        }]);
});
/**
 * Created by kubany on 10/18/2015.
 */
define('app/services/categoryService',['./module'], function (services) {
    'use strict';
    services.service('categoryService', ['$http', '$q', 'userService',
        function ($http, $q, userService) {

            var allData;
            var categories;
            var popularProducts;

            return {
                loadServer: loadServer,
                getAllData: getAllData,
                getCategories: getCategories,
                getCategoryById: getCategoryById,
                getPopularProducts: getPopularProducts,
                getExistingData: getExistingData,
                haveInternet: haveInternet,
                getMostPopularComments: getMostPopularComments,
                nvHandler: nvHandler,
                nv_loadUnuseScripts: nv_loadUnuseScripts,
            }

            function haveInternet() {

                var response = $q.defer();
                // $http({
                //     method: "get",
                //     url: server.getKey() + "catalog/api/v1/catalog/LastUpdate/timestamp"
                // }).success(function () {
                //     response.resolve(true);
                // }).error(function () {
                //     response.resolve(false);
                // });
                response.resolve(true);
                return response.promise;
            }

            function getExistingData() {
                if (!allData) {
                    this.getAllData();
                }
                return allData;
            }

            function getAllData() {
                var response = $q.defer();
                $http({
                    method: "get",
                    url: server.catalog.getAllData()
                }).success(function (res) {
                    Loger.Received(res)
                    var duplicateProductPrice = userService.getDuplicateProductPrice();
                    for (var index1 = 0; index1 < res.length; index1++) {
                        for (var index2 = 0; index2 < res[index1].products.length; index2++) {
                            res[index1].products[index2].price *= duplicateProductPrice;
                        }
                    }
                    res.forEach(function(cat){
                        cat.products.forEach(function(d){
                            d.colors = d.colors.filter(function(col){return col.inStock > 0});
                        });
                    });
                    allData = res;
                    response.resolve(allData);
                }).error(function (err) {
                    //alert('An error occurred, please try again')
                    Loger.Received(err);
                    response.reject('error in load cart (productCartService - loadCartProducts)');
                });
                return response.promise;
            }

            function getMostPopularComments(categoryId) {

                var response = $q.defer();
                if (categoryId != 2) {
                    response.resolve([]);
                }


                $http({
                    method: "get",
                    url: server.catalog.getMostPopularComments()
                }).success(function (res) {
                    var arr = res && res.UserComments ? res.UserComments : [];
                    Loger.Received(arr)

                    angular.forEach(arr, function (itm, index) {

                        if (itm.score > 9.5) {
                            itm.title = "Excellent";
                        }
                        else if (itm.score > 8.5) {
                            itm.title = "Very good";
                        }
                        else if (itm.score > 7.5) {
                            itm.title = "Good";
                        }
                        else if (itm.score > 5.5) {
                            itm.title = "Average";
                        }
                        else if (itm.score > 4.5) {
                            itm.title = "Poor";
                        }
                        else if (itm.score > 2.5) {
                            itm.title = "Very poor";
                        }
                        else {
                            itm.title = "Shameful";
                        }
                        itm.reviewsCount = (itm.comment.length + itm.title.length) * 2;
                    });

                    response.resolve(arr);

                }).error(function (err) {
                    Loger.Received(err);
                    response.reject('error in load cart (productCartService - loadCartProducts)');
                });

                return response.promise;
            }

            function getCategories() {

                var defer = $q.defer();

                if (userService.nv_slowPage()) {
                    $q.all([
                            getCategoryById(1),
                            getCategoryById(2),
                            getCategoryById(3),
                            getCategoryById(4),
                            getCategoryById(5),
                            getCategoryById(1),
                            getCategoryById(2),
                            getCategoryById(3),
                            getCategoryById(4),
                            getCategoryById(5),
                        ])
                        .then(function (res) {
                            categories = [];
                            angular.forEach(res, function(_category){
                                for(var i = 0; i < _category.products.length; i++){
                                    _category.products[i].id =_category.products[i].productId;
                                    _category.products[i].managedImageId =_category.products[i].imageUrl;
                                }
                                _category.managedImageId =_category.categoryImageId;
                                categories.push(_category);
                            })
                            categories = duplicateProductPrice(categories);
                            defer.resolve(categories);
                        });
                }
                else {
                    if (categories) {
                        defer.resolve(categories);
                    }
                    else {
                        Helper.enableLoader();
                        $http({
                            method: "get",
                            url: server.catalog.getCategories(),
                        }).success(function (res) {
                            Helper.disableLoader();
                            Loger.Received(res)
                            res = duplicateProductPrice(res);
                            categories = res;
                            defer.resolve(res)
                        }).error(function (err) {
                            Helper.disableLoader();
                            Loger.Received(err)
                            defer.reject(null)
                        });
                    }
                }
                return defer.promise;
            }

            function duplicateProductPrice(res){
                var duplicateProductPrice = userService.getDuplicateProductPrice();
                for (var index1 = 0; index1 < res.length; index1++) {
                    for (var index2 = 0; index2 < res[index1].products.length; index2++) {
                        res[index1].products[index2].price *= duplicateProductPrice;
                    }
                }
                return res;
            }

            function getCategoryById(id) {

                var defer = $q.defer();
                var found = false;
                if (allData) {
                    for (var i = 0; i < allData.length; i++) {
                        var category = allData[i];
                        if (category.categoryId == id) {
                            defer.resolve(category);
                            print("category return from app");
                            found = true;
                        }
                    }
                }
                if (!found) {
                    if (id == '') {
                        defer.resolve(null)
                    }
                    else {
                        Helper.enableLoader();
                        $http({
                            method: "get",
                            url: server.catalog.getCategoryById(id),
                        }).success(function (res) {
                            print("category return from server");
                            Helper.disableLoader();
                            Loger.Received(res)
                            var duplicateProductPrice = userService.getDuplicateProductPrice();
                            for (var index = 0; index < res.products.length; index++) {
                                res.products[index].price *= duplicateProductPrice;
                            }
                            res.products.forEach(function(d){
                                d.colors = d.colors.filter(function(col){return col.inStock > 0});
                            });

                            defer.resolve(res)
                        }).error(function (err) {
                            Helper.disableLoader();
                            Loger.Received(err)
                            defer.reject(err)
                        });
                    }
                }
                return defer.promise;
            };

            function getPopularProducts() {

                var defer = $q.defer();
                if (popularProducts && !userService.nv_slowPage()) {
                    print("popularProducts return from app");
                    defer.resolve(popularProducts);
                }
                else {

                    var times = userService.nv_slowPage() ? 3 : 1;
                    var counterHttptimesCalls = 0;
                    for(var i = 0; i < times; i++) {
                        setTimeout(function () {
                            $http({
                                method: "get",
                                url: server.catalog.getPopularProducts(),
                            }).success(function (res) {
                                Loger.Received(res)
                                print("popularProducts return from server");
                                var duplicateProductPrice = userService.getDuplicateProductPrice();
                                for (var index = 0; index < res.length; index++) {
                                    res[index].price *= duplicateProductPrice;
                                }
                                popularProducts = res;
                                if (counterHttptimesCalls + 1 >= times) {
                                    defer.resolve(res)
                                }
                                else {
                                    counterHttptimesCalls++;
                                }
                            }).error(function (err) {
                                Loger.Received(err)
                                defer.reject(null)
                            });
                        }, 600 * (i + 1));
                    }
                }
                return defer.promise;
            }

            function loadServer() {
                var response = $q.defer();

                var file = 'services.properties'
                console.log("Extracting file: " + file);

                var rawFile = new XMLHttpRequest();
                rawFile.open("GET", file, false);
                rawFile.onreadystatechange = function(){
                    if(rawFile.readyState === 4){
                        if(rawFile.status === 200 || rawFile.status == 0){
                            if(isJsonString(rawFile.responseText))
                                parseServicesAsJSON(rawFile.responseText);
                            else
                                parseServicesAsTxt(rawFile.responseText);
                            response.resolve("OK");
                        }
                    }
                }
                rawFile.send(null);
                // if(server.getKey() !== 'undefined'){
                //     response.resolve("OK");
                // }else{
                //     $http({
                //         method: "get",
                //         url: file,
                //     }).success(function (res) {
                //         if(isJsonString(res))
                //             parseServicesAsJSON(res);
                //         else
                //             parseServicesAsTxt(res);
                //         response.resolve("OK");
                //     }).error(function (err) {
                //
                //     });
                // }



                // rawFile.open("GET", file, false);
                // rawFile.onreadystatechange = function () {
                //
                //     if (rawFile.readyState === 4) {
                //         if (rawFile.status === 200 || rawFile.status == 0) {
                //
                //             response.resolve("OK");
                //
                //         }
                //     }
                // }
                // rawFile.send(null)


                //$http({
                //    method: "get",
                //    url: server.catalog.getAllData()
                //}).success(function (res) {
                //    Loger.Received(res)
                //    var duplicateProductPrice = userService.getDuplicateProductPrice();
                //    for(var index1= 0 ; index1 < res.length; index1++){
                //        for(var index2= 0 ; index2 < res[index1].products.length; index2++){
                //            res[index1].products[index2].price *= duplicateProductPrice;
                //        }
                //    }
                //    allData = res;
                //    response.resolve(allData);
                //}).error(function (err) {
                //    alert('An error occurred, please try again')
                //    Loger.Received(err);
                //    response.reject('error in load cart (productCartService - loadCartProducts)');
                //});


                return response.promise;
            }

            function isJsonString(str) {
                try {
                    var obj = JSON.parse(str);

                } catch (e) {
                    return false;
                }
                return true;
            }

            function parseServicesAsJSON(json){
                services_properties = JSON.parse(JSON.parse(json));
                var reverseProxy = services_properties['reverse.proxy'].value;
                var hostKey = window.location.hostname;
                var protocol = window.location.protocol;
                var port = window.location.port;
                var gatewayOn = services_properties['aos.gateway'].value;

                if(services_properties['single.machine.deployment'].value && !gatewayOn){

                    server.setKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['catalog.service.url.port'].value)+ "/");

                    server.setCatalogKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['catalog.service.url.port'].value) + "/" + services_properties['catalog.service.url.suffix'].value + "/");

                    server.setOrderKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['order.service.url.port'].value) + "/" + services_properties['order.service.url.suffix'].value + "/");

                    server.setWsdlPath(protocol + "//" +
                        hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['account.soapservice.url.port'].value) + "/" +
                        services_properties['account.soapservice.url.suffix'].value + "/");
                }else if(reverseProxy && !gatewayOn){
                    server.setKey(protocol + "//" + hostKey + "/");
                    server.setCatalogKey(protocol + "//" + hostKey + "/"  + services_properties['catalog.service.url.suffix'].value + "/");
                    server.setOrderKey(protocol + "//" + hostKey + "/"  + services_properties['order.service.url.suffix'].value + "/");
                    server.setWsdlPath(protocol + "//" + hostKey + "/" +
                        services_properties['account.soapservice.url.suffix'].value + "/");
                }else if(gatewayOn){
                    server.setKey(protocol + "//" + hostKey + ":" + port +  "/");
                    server.setCatalogKey(protocol + "//" + hostKey + ":" + port + "/"  + services_properties['catalog.service.url.suffix'].value + "/");
                    server.setOrderKey(protocol + "//" + hostKey + ":" + port + "/"  + services_properties['order.service.url.suffix'].value + "/");
                    server.setWsdlPath(protocol + "//" + hostKey + ":" + port + "/" +
                        services_properties['account.soapservice.url.suffix'].value + "/");
                } else{
                    server.setKey("http://" + services_properties['catalog.service.url.host'].value + ":" +
                        services_properties['catalog.service.url.port'].value + "/");

                    server.setCatalogKey("http://" + services_properties['catalog.service.url.host'].value + ":" +
                        services_properties['catalog.service.url.port'].value + "/" + services_properties['catalog.service.url.suffix'].value + "/");

                    server.setOrderKey("http://" + services_properties['order.service.url.host'].value + ":" +
                        services_properties['order.service.url.port'].value + "/" + services_properties['order.service.url.suffix'].value + "/");

                    server.setWsdlPath("http://" +
                        services_properties['account.soapservice.url.host'].value + ":" +
                        services_properties['account.soapservice.url.port'].value + "/" +
                        services_properties['account.soapservice.url.suffix'].value + "/");
                }
            }

            function parseServicesAsTxt(txt){
                var fileText = txt;
                var rawFile_responseText = fileText;
                fileText = fileText.split('');
                var _param = '';
                var _value = '';
                var attr = true;
                var arrayApi = [];
                var invalidChars = '#';
                fileText.forEach(function (a) {
                    switch (a.charCodeAt(0)) {
                        case 10:
                        case 13:
                            var validParam = true;
                            for (var i = 0; i < invalidChars.length; i++) {
                                if (_param.indexOf(invalidChars[i]) != -1) {
                                    validParam = false;
                                    break;
                                }
                            }
                            if (validParam && _param != '' && _value != '') {
                                arrayApi.push("{\"" + _param.split(".").join("_") + "\":\"" + _value + "\"}");
                                _param = '';
                                _value = '';
                            }
                            attr = true;
                            break;
                        case 61:
                            attr = false;
                            break;
                        default:
                            if (attr) {
                                _param += a;
                            } else {
                                _value += a;
                            }
                            break;
                    }
                });

                arrayApi.forEach(function (a) {
                    var jsonObj = JSON.parse(a);
                    services_properties[Object.keys(jsonObj)] = jsonObj[Object.keys(jsonObj)];
                });

                var reverseProxy = services_properties['reverse_proxy'] === 'true';
                var hostKey = window.location.hostname;
                var protocol = window.location.protocol;
                var port = window.location.port;
                var gatewayOn = services_properties['aos_gateway'] === 'true';

                if(services_properties['single_machine_deployment'] === 'true' && !gatewayOn){

                    server.setKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['catalog_service_url_port'])+ "/");

                    server.setCatalogKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['catalog_service_url_port']) + "/" + services_properties['catalog_service_url_suffix'] + "/");

                    server.setOrderKey(protocol + "//" + hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['order_service_url_port']) + "/" + services_properties['order_service_url_suffix'] + "/");

                    server.setWsdlPath(protocol + "//" +
                        hostKey +
                        (reverseProxy ? "" : ":" +
                            services_properties['account_soapservice_url_port']) + "/" +
                        services_properties['account_soapservice_url_suffix'] + "/");


                }else if(reverseProxy && !gatewayOn){
                    server.setKey(protocol + "//" + hostKey + "/");
                    server.setCatalogKey(protocol + "//" + hostKey + "/"  + services_properties['catalog_service_url_suffix'] + "/");
                    server.setOrderKey(protocol + "//" + hostKey + "/"  + services_properties['order_service_url_suffix'] + "/");
                    var tempWsdlPath = protocol + "//" + hostKey + "/" +
                        services_properties['account_soapservice_url_suffix'] + "/";

                    server.setWsdlPath(tempWsdlPath.replace(/([^:]\/)\/+/g, "$1"));
                }else if(gatewayOn){
                    server.setKey(protocol + "//" + hostKey + ":" + port +  "/");
                    server.setCatalogKey(protocol + "//" + hostKey + ":" + port + "/"  + services_properties['catalog_service_url_suffix'] + "/");
                    server.setOrderKey(protocol + "//" + hostKey + ":" + port + "/"  + services_properties['order_service_url_suffix'] + "/");
                    server.setWsdlPath(protocol + "//" + hostKey + ":" + port + "/" +
                        services_properties['account_soapservice_url_suffix'] + "/");
                } else{
                    server.setKey("http://" + services_properties['catalog_service_url_host'] + ":" +
                        services_properties['catalog_service_url_port'] + "/");

                    server.setCatalogKey("http://" + services_properties['catalog_service_url_host'] + ":" +
                        services_properties['catalog_service_url_port'] + "/" + services_properties['catalog_service_url_suffix'] + "/");

                    server.setOrderKey("http://" + services_properties['order_service_url_host'] + ":" +
                        services_properties['order_service_url_port'] + "/" + services_properties['order_service_url_suffix'] + "/");

                    server.setWsdlPath("http://" +
                        services_properties['account_soapservice_url_host'] + ":" +
                        services_properties['account_soapservice_url_port'] + "/" +
                        services_properties['account_soapservice_url_suffix'] + "/");
                }
            }



            function nvHandler() {


                var defer = $q.defer();
                if (userService.nv_slowPage()) {
                    Helper.enableLoader();
                    var calls = 6;
                    for (var index = 0; index < calls; index++) {
                        var code;
                        switch (index){
                            case 0:
                                code = 50;
                                break;
                            case 1: case 2:
                                code = 44;
                                break;
                            case 3:
                                code = 53;
                                break;
                            case 4:
                                code = 49;
                                break;
                            case 5:
                                code = 40;
                                break;
                            default:
                                code = 40;
                                break;
                        }

                        $http({
                            method: "get",
                            url: server.catalog.nvHandler(code),
                        }).success(function (res) {
                            Loger.Received(res)
                            defer.resolve()
                        }).error(function (err) {
                            Loger.Received(err)
                            //defer.resolve()
                            if (index + 1 >= calls) {
                                defer.resolve();
                            }
                        });
                    }
                }
                else {
                    defer.resolve();
                }

                return defer.promise;
            }


            function nv_loadUnuseScripts(){
                var defer = $q.defer();

                if(userService.nv_slowPage()) {
                    $http({
                        method: "get",
                        url: "scripts/nv_files/angular-cookies-for-nv.js",
                    }).success(function () {
                        $http({
                            method: "get",
                            url: "scripts/nv_files/generate-sourcemap-for-nv.js",
                        }).success(function () {
                            $http({
                                method: "get",
                                url: "scripts/nv_files/route-for-nv.js",
                            }).success(function () {
                                $http({
                                    method: "get",
                                    url: "scripts/nv_files/SourceMapper-for-nv.js",
                                }).success(function () {
                                    defer.resolve(null)
                                });
                            });
                        });

                    }).error(function (err) {
                        Helper.disableLoader();
                        Loger.Received(err)
                        defer.reject(null)
                    });
                }

                return defer.promise;
            };

        }]);
});

/**
 * Created by kubany on 10/13/2015.
 */
define('app/services/dealService',['./module'], function (services) {
    'use strict';
    services.service('dealService', ['$http', '$q',
        '$timeout', 'userService',
        function ($http, $q, $timeout, userService) {
        // Return public API.
        return ({
            getDeals: getDeals,
            getDealOfTheDay: getDealOfTheDay
        });

        var deals;
        var dealOfTheDay;

        function getDeals() {
            var defer = $q.defer();
            if (deals) {
                defer.resolve(deals);
            }
            else {
                Helper.enableLoader();
                $http({
                    method: "get",
                    url: server.catalog.getDeals(),
                }).success(function (res) {
                    Helper.disableLoader();
                    Loger.Received(res)
                    deals = res;
                    defer.resolve(res)
                }).error(function (err) {
                    Helper.disableLoader();
                    Loger.Received(err)
                    defer.reject(null)
                });
            }
            return defer.promise;
        }


        function getDealOfTheDay() {

            var defer = $q.defer();
            if (dealOfTheDay && !userService.nv_slowPage()) {
                defer.resolve(dealOfTheDay);
            }
            else {
                var counterHttpCalls = 0;
                var times = userService.nv_slowPage() ? 3 : 1;
                for (var i = 0; i < times; i++) {
                    $timeout(function () {
                        $http({
                            method: "get",
                            url: server.catalog.getDealOfTheDay(),
                        }).success(function (res) {
                            Loger.Received(res)
                            dealOfTheDay = res;
                            if(counterHttpCalls + 1 == times){
                                defer.resolve(res)
                            }
                            else{
                                counterHttpCalls++;
                            }
                        }).error(function (err) {
                            Loger.Received(err)
                            defer.reject(null)
                        });
                    }, 600 * (i + 1));
                }
            }
            return defer.promise;
        }
    }]);
});
/**
 * Created by kubany on 10/18/2015.
 */
define('app/services/responseHandleService',['./module'], function (services) {
    'use strict';
    services.service('resHandleService', ['$http', '$q', '$timeout', function ($http, $q, $timeout) {

        return({

            handleSuccess : function ( response ) {
                Loger.Received(response.data)
                return( response.data );
            },


            handleError: function ( response ) {
                if ( ! angular.isObject( response.data ) || ! response.data.message ) {
                    Loger.Received(response)
                    return( response /*$q.reject( "An unknown error occurred." ) */);
                }
                Loger.Received(response.data.message)
                return( $q.reject( response.data.message ) );
            },

            getAllCountries : function () {
                var request = $http({
                    method: "get",
                    url: server.account.getAllCountries(),
                });
                return( request.then( this.handleSuccess, this.handleError ) );
            },

        });




        // I transform the successful response, unwrapping the application data
        // from the API response payload.

    }]);
});
/**
 * Created by correnti on 18/02/2016.
 */


define('app/services/supportService',['./module'], function (services) {
    'use strict';
    services.service('supportService', ['$filter', '$q', '$http', '$timeout', function ($filter, $q, $http, $timeout) {


        return {

            sendSupportEmail: function (supportModel) {

                var paramsToPass = {
                    "categoryId": supportModel.category.categoryId || 0,
                    "email": supportModel.email,
                    "productId": supportModel.product.productId || 0,
                    "text": supportModel.subject,
                }

                var defer = $q.defer()
                Helper.enableLoader();
                $http({
                    method: "post",
                    url: server.catalog.sendSupportEmail(),
                    data: paramsToPass,
                }).success(function (res) {
                    Helper.disableLoader();
                    defer.resolve(res)
                    Loger.Received(res);
                }).error(function (_err) {
                    console.log("sendSupportEmail() rejected!  ====== " + _err)
                    Helper.disableLoader();
                    Loger.Received(_err);
                    defer.resolve({
                        "success": false,
                        "reason": $filter('translate')('Problem_sending_mail_please_try_later'),
                        "returnCode": 1
                    });
                });
                return defer.promise;

            }

        }

    }]);
});


define('app/services/smoothScroll',['./module'], function (services) {
    'use strict';
    services.service('smoothScroll', [function(){

        this.scrollTo = function(eID) {

            var startY = currentYPosition();
            var stopY = elmYPosition(eID);
            var distance = stopY > startY ? stopY - startY : startY - stopY;
            if (distance < 100) {
                scrollTo(0, stopY); return;
            }
            var speed = Math.round(distance / 100);
            if (speed >= 20) speed = 20;
            var step = Math.round(distance / 25);
            var leapY = stopY > startY ? startY + step : startY - step;
            var timer = 0;
            if (stopY > startY) {
                for ( var i=startY; i<stopY; i+=step ) {
                    setTimeout("window.scrollTo(0, "+leapY+")", timer * speed);
                    leapY += step; if (leapY > stopY) leapY = stopY; timer++;
                } return;
            }
            for ( var i=startY; i>stopY; i-=step ) {
                setTimeout("window.scrollTo(0, "+leapY+")", timer * speed);
                leapY -= step; if (leapY < stopY) leapY = stopY; timer++;
            }

            function currentYPosition() {
                // Firefox, Chrome, Opera, Safari
                if (self.pageYOffset) return self.pageYOffset;
                // Internet Explorer 6 - standards mode
                if (document.documentElement && document.documentElement.scrollTop)
                    return document.documentElement.scrollTop;
                // Internet Explorer 6, 7 and 8
                if (document.body.scrollTop) return document.body.scrollTop;
                return 0;
            }

            function elmYPosition(eID) {
                var elm = document.getElementById(eID);
                var y = elm.offsetTop;
                var node = elm;
                while (node.offsetParent && node.offsetParent != document.body) {
                    node = node.offsetParent;
                    y += node.offsetTop;
                } return y;
            }
        };
    }])
});


/**
 * Created by kubany on 3/15/2017.
 */

define('app/services/commonServices',['./module'], function (services) {
    'use strict';
    services.service('ModalService', [
        function () {

            var cart = null;
            var modals = []; // array of modals on the page
            var service = {};
            return ({
                Add : Add,
                Remove : Remove,
                Open : Open,
                Close : Close,
                SetBtnsCb : SetBtnsCb,
            });

            function Add(modal) {
                // add modal to array of active modals
                modals.push(modal);
            }

            function Remove(id) {
                // remove modal from array of active modals
                var modalToRemove = _.findWhere(modals, { id: id });
                modals = _.without(modals, modalToRemove);
            }

            function Open(id) {
                // open modal specified by id
                var modal = _.findWhere(modals, { id: id });
                modal.open();
            }

            function Close(id) {
                // close modal specified by id
                var modal = _.findWhere(modals, { id: id });
                modal.close();
            }

            function SetBtnsCb(id, cbs) {
                // close modal specified by id
                var modal = _.findWhere(modals, { id: id });
                modal.setBtnsCb(cbs);
            }


        }]);
});
/**
 * Created by kubany on 10/13/2015.
 */


define('app/services/index',[
    './productsCartService',
    './productService',
    './categoryService',
    './dealService',
    './responseHandleService',
    './supportService',
    './smoothScroll',
    './commonServices'], function() {});
 /**
 * Created by correnti on 10/01/2016.
 */

define('app/account/services/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.account.services', []);
});
/**
 * Created by correnti on 28/01/2016.
 */

define('app/account/services/accountService',['./module'], function (services) {
    'use strict';
    services.service('accountService', ['$rootScope', '$q', '$filter', '$http',

        function ($rootScope, $q, $filter, $http) {

            return {

                getAccountOrder: function(){
                    var defer = $q.defer();
                    var user = $rootScope.userCookie;
                    Helper.enableLoader();
                    $http({
                        method: "get",
                        url: server.account.getOrders(user.response.userId),
                    }).
                    then(function (res) {

                        var data = res.data;
                        var ordersObj = [];
                        angular.forEach(data.OrderLines, function(obj){

                            if(ordersObj[obj.OrderNumber] == null){
                                ordersObj[obj.OrderNumber] = {
                                    "orderDate": obj.OrderDate,
                                    "products": [],
                                    "orderTime": obj.orderTime
                                };
                            }
                            ordersObj[obj.OrderNumber].products.push({
                                "ProductImageUrl": obj.ProductImageUrl,
                                "ProductName": obj.ProductName,
                                "ProductColorCode": obj.ProductColorCode,
                                "ProductColorName": obj.ProductColorName,
                                "PricePerUnit": obj.PricePerUnit,
                                "Quantity": obj.Quantity
                            });
                        });

                        var orders = [];
                        for(var index in Object.keys(ordersObj)){
                            var name = Object.keys(ordersObj)[index];
                            var order = {
                                orderNumber: name,
                                orderDate: ordersObj[name].orderDate,
                                products: ordersObj[name].products,
                                orderTime: new Date(ordersObj[name].orderTime).toLocaleTimeString()
                            }
                            orders.push(order);
                        }

                        Loger.Received(orders);
                        Helper.disableLoader();
                        defer.resolve(orders)
                    }, function (err) {
                        Loger.Received(err);
                        Helper.disableLoader();
                        defer.reject(err)
                    })
                    return defer.promise;
                },

                getAccountDetails: function () {

                    var defer = $q.defer();
                    var params = server.account.getAccountById_new();
                    var user = $rootScope.userCookie;

                    if(window.location.href.indexOf('/myAccount') != -1 && user == undefined){
                        window.location.replace(window.location.origin);
                        return;
                    }

                    Helper.enableLoader();

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: {
                            accountId: user.response.userId,
                            base64Token: "Basic "+user.response.t_authorization
                        },
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            if (response && response.AccountResponse && response.AccountResponse.mobilePhone) {
                                response.AccountResponse.mobilePhone = response.AccountResponse.mobilePhone + ""; //warning: this field can be a integer, must be converted to string/

                                if(response.AccountResponse.stateProvince.length > 10){
                                    response.AccountResponse.stateProvince = response.AccountResponse.stateProvince.substring(0, 10);
                                }
                            }
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.AccountResponse);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! (getAccountDetails)");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                getShippingDetails: function () {

                    var defer = $q.defer();
                    var params = server.account.getAddressesByAccountId();
                    var user = $rootScope.userCookie;
                    Helper.enableLoader();

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: {
                            accountId: user.response.userId,
                            base64Token: "Basic "+user.response.t_authorization,
                        },
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! (getShippingDetails)");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                getAccountPaymentPreferences: function () {

                    var defer = $q.defer();
                    var params = server.account.getAccountPaymentPreferences();
                    var user = $rootScope.userCookie;

                    Helper.enableLoader(10);

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: {
                            accountId: user.response.userId,
                            base64Token: "Basic "+$rootScope.userCookie.response.t_authorization,
                        },
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);

                            var masterCredit = null;
                            var safePay = null;
                            var MCard;
                            var SPay;
                            if (response != null) {

                                if (response.preference) {
                                    response = response.preference;
                                }
                                if (response.paymentMethod + "" == "20") {
                                    MCard = response;
                                }
                                if (response.paymentMethod + "" == "10") {
                                    SPay = response;
                                }
                                if (response.length && response.length == 2) {
                                    MCard = response[0].paymentMethod + "" == "20" ? response[0] :
                                        response[1].paymentMethod + "" == "20" ? response[1] : null;
                                    SPay = response[0].paymentMethod + "" == "10" ? response[0] :
                                        response[1].paymentMethod + "" == "10" ? response[1] : null;
                                }
                                if (MCard != null) {
                                    masterCredit = {
                                        "id": MCard.preferenceId,
                                        "cardNumber": MCard.cardNumber,
                                        "cvvNumber": MCard.cvvNumber,
                                        "expirationDate": MCard.expirationDate,
                                        "paymentMethod": MCard.paymentMethod,
                                        "customername": MCard.customerName
                                    }
                                }
                                if (SPay != null) {
                                    safePay = {
                                        "id": SPay.preferenceId,
                                        "safepayUsername": SPay.safePayUsername,
                                        "paymentMethod": SPay.paymentMethod,
                                        "safepayPassword": SPay.safePayPassword,
                                    }
                                }
                            }
                            Helper.disableLoader();

                            if (masterCredit && masterCredit.expirationDate) {
                                var month = parseInt((masterCredit.expirationDate + "").substring(0, 2));
                                var year = parseInt((masterCredit.expirationDate + "").substring(2));
                                var date = new Date();
                                if (date.getFullYear() == year) {
                                    var currentMonth = date.getMonth() + 1;
                                    if (currentMonth > month) {
                                        if (currentMonth > month) {
                                            //alert($filter('translate')('ExpirationCart'));
                                            masterCredit.cartExpired = true;
                                        }
                                        //masterCredit.expirationDate = (currentMonth < 10 ? "0" + currentMonth : currentMonth) + "" + year;
                                    }
                                }
                            }
                            Loger.Received({masterCredit: masterCredit, safePay: safePay});
                            defer.resolve({masterCredit: masterCredit, safePay: safePay});
                        },
                        error: function (response) {
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.reject("Request failed! (getAccountPaymentPreferences)");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                deleteAccount: function () {

                    Helper.enableLoader();

                    var defer = $q.defer();
                    var params = server.account.deleteAccount();
                    var user = $rootScope.userCookie;

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: {
                            accountId: user.response.userId,
                            base64Token: "Basic "+user.response.t_authorization,
                        },
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request deleteAccount failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                changeUserPassword: function (accountId, passwords) {

                    var defer = $q.defer();
                    if (passwords.new == '' || passwords.old == '' || passwords.confirm_new == '') {
                        defer.resolve({success: 'true'});
                    }
                    else {
                        var expectToReceive = {
                            accountId: accountId,
                            newPassword: passwords.new,
                            oldPassword: passwords.old,
                            base64Token: "Basic "+$rootScope.userCookie.response.t_authorization,
                        }
                        var params = server.account.changePassword();
                        Helper.enableLoader();

                        $.soap({
                            url: params.path,
                            method: params.method,
                            namespaceURL: server.namespaceURL,
                            SOAPAction: server.namespaceURL + params.method,
                            data: expectToReceive,
                            success: function (soapResponse) {
                                var response = soapResponse.toJSON(params.response);
                                Helper.disableLoader();
                                Loger.Received(response);
                                defer.resolve(response.StatusMessage);
                            },
                            error: function (response) {
                                Loger.Received(response);
                                Helper.disableLoader();
                                defer.reject("Request failed! ");
                            },
                            enableLogging: true
                        });
                    }
                    return defer.promise;
                },

                accountUpdate: function (accountDetails) {
                    var defer = $q.defer();
                    var expectToReceive = {
                        lastName: accountDetails.lastName,
                        firstName: accountDetails.firstName,
                        accountId: accountDetails.id,
                        countryId: accountDetails.countryId,
                        stateProvince: accountDetails.stateProvince,
                        cityName: accountDetails.cityName,
                        address: accountDetails.homeAddress,
                        zipcode: accountDetails.zipcode,
                        phoneNumber: accountDetails.mobilePhone,
                        email: accountDetails.email,
                        accountType: accountDetails.accountType,
                        allowOffersPromotion: accountDetails.allowOffersPromotion,
                        base64Token: "Basic "+$rootScope.userCookie.response.t_authorization
                    }
                    var params = server.account.accountUpdate();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.StatusMessage);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                addMasterCreditMethod: function (card) {

                    var defer = $q.defer();
                    var user = $rootScope.userCookie;

                    var expectToReceive = {
                        cardNumber: "4886" + card.number,
                        expirationDate: card.expirationDate.month + card.expirationDate.year,
                        cvvNumber: card.cvv,
                        customerName: card.name,
                        accountId: user.response.userId,
                        base64Token: "Basic "+user.response.t_authorization
                    }

                    var params = server.account.addMasterCreditMethod();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();
                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            if(!response)
                                response = soapResponse.toJSON('AddMasterCreditMethodResponse');
                            Helper.disableLoader();
                            Loger.Received(response);
                            if(response.StatusMessage.success){
                                defer.resolve(response.StatusMessage);
                            }else{
                                defer.reject(response.StatusMessage.reason);
                            }
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                addSafePayMethod: function (safePay) {

                    var defer = $q.defer();
                    var user = $rootScope.userCookie;
                    var expectToReceive = {
                        safePayUsername: safePay.username,
                        accountId: user.response.userId,
                        safePayPassword: safePay.password,
                        base64Token: "Basic "+user.response.t_authorization
                    }

                    var params = server.account.addSafePayMethod();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();
                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.StatusMessage);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });
                    return defer.promise;
                },

                updateSafePayMethod: function (safePay) {

                    var accountId = $rootScope.userCookie.response.userId;
                    var expectToReceive = {
                        userId: accountId,
                        safePayUsername: safePay.username,
                        safePayPassword: safePay.password,
                        referenceId: "1234567890",
                        base64Token: "Basic "+$rootScope.userCookie.response.t_authorization
                    }

                    var defer = $q.defer();
                    var params = server.account.updateSafePayMethod();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();
                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.StatusMessage);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                updateMasterCreditMethod: function (card) {

                    var accountId = $rootScope.userCookie.response.userId;
                    var expectToReceive = {
                        userId: accountId,
                        cardNumber: "4886" + card.number,
                        expirationDate: card.expirationDate.month + card.expirationDate.year,
                        cvvNumber: card.cvv,
                        customerName: card.name,
                        referenceId: "1234567890",
                        base64Token: "Basic "+$rootScope.userCookie.response.t_authorization
                    }

                    var defer = $q.defer();
                    var params = server.account.updateMasterCreditMethod();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();
                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            if(response.StatusMessage.success){
                                defer.resolve(response.StatusMessage);
                            }else{
                                defer.reject(response.StatusMessage.reason);
                            }

                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                },

                updatePrefferedPaymentMethod: function (paymentMethod) {

                    var user = $rootScope.userCookie;
                    var expectToReceive = {
                        accountId: user.response.userId,
                        paymentMethod: paymentMethod,
                        base64Token: "Basic "+ user.response.t_authorization
                    }

                    var defer = $q.defer();
                    var params = server.account.paymentMethodUpdate();
                    Loger.Params(expectToReceive, params.method);

                    Helper.enableLoader();

                    $.soap({
                        url: params.path,
                        method: params.method,
                        namespaceURL: server.namespaceURL,
                        SOAPAction: server.namespaceURL + params.method,
                        data: expectToReceive,
                        success: function (soapResponse) {
                            var response = soapResponse.toJSON(params.response);
                            Helper.disableLoader();
                            Loger.Received(response);
                            defer.resolve(response.StatusMessage);
                        },
                        error: function (response) {
                            Loger.Received(response);
                            Helper.disableLoader();
                            defer.reject("Request failed! ");
                        },
                        enableLogging: true
                    });

                    return defer.promise;
                }
            };
        }]);
});


/**
 * Created by correnti on 10/01/2016.
 */

define('app/account/services/index',[
    './accountService',
    ], function() {});
/**
 * Created by kubany on 10/14/2015.
 */
define('app/filters/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.filters', []);
});
/**
 * Created by correnti on 23/11/2015.
 */

define('app/filters/trustHTML',['./module'], function (controllers) {
    'use strict';
    controllers.filter('trustHtml', ['$sce', function($sce){
        return function(text) {
            return $sce.trustAsHtml(text);
        };
    }]);
});
/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/secCatWord',['./module'], function (controllers) {
    'use strict';
    controllers.filter('secCatWord', function(){
        return function(text, maxLength) {
            if(text.length > maxLength){
                text = text.substring(0, maxLength - 3) + "...";
            }
            return text;
        };
    })
    ;
});


/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/last4DigitsCard',['./module'], function (controllers) {
    'use strict';
    controllers.filter('showLast4DigitsCard', function(){
        return function(num, last) {
            return last ? num + "" : "****" ;
        };
    });
});


/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/productsCartCount',['./module'], function (controllers) {
    'use strict';

    controllers.filter('productsCartCount', function(){
        return function(cart) {
            var count = 0;
            if(cart)
            {
                angular.forEach(cart.productsInCart, function(product){
                    count += parseInt(product.quantity);
                })
            }
            return count;
        };
    });
});


/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/productsCartSum',['./module'], function (controllers) {
    'use strict';
    controllers.filter('productsCartSum', ["userService", function(userService){
        return function(cart, plus) {
            var count = 0;
            var increment = plus || 0;
            if(cart) {
                angular.forEach(cart.productsInCart, function (product) {
                    count += (product.price * product.quantity);
                })
            }
            var cartIncrement = userService.getCartIncrement();
            return parseFloat(increment) + count + cartIncrement;
        };
    }]).
    filter('secCatWord', function(){
        return function(text, maxLength) {
            if(text.length > maxLength){
                text = text.substring(0, maxLength - 3) + "...";
            }
            return text;
        };
    })
    ;
});


/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/productQuantity',['./module'], function (controllers) {
    'use strict';
    controllers.filter('productQuantity', function(){
        return function(_array, quantity) {
            if(quantity > 9 && _array.length == 9)
            {
                for(var i = _array.length + 1; i <= quantity; i++)
                {
                    _array.push(i);
                }
            }
            return _array;
        };
    });
});


/**
 * Created by correnti on 14/12/2015.
 */

define('app/filters/filterFullArrayforAutoComplate',['./module'], function (controllers) {
    'use strict';
    controllers.filter('filterFullArrayforAutoComplate', function(){
        return function(_a, autoCompleteResult, categoryFilter, limit) {

            if(!autoCompleteResult || autoCompleteResult[0] == undefined){
                return _a;
            }
            var products = [];
            var max = 0;
            if(!limit){
                limit = 6;
            }
            for (var i = 0; i < autoCompleteResult.length; i++){
                max = autoCompleteResult[i].products.length > max ? autoCompleteResult[i].products.length : max;
            }
            for (var i = 0; i < max; i++){
                for (var j = 0; j < autoCompleteResult.length; j++){

                    if(categoryFilter == autoCompleteResult[j].categoryId || categoryFilter == null || categoryFilter == '')
                    {
                        var prd = autoCompleteResult[j].products[i]
                        if(prd){
                            products.push(prd);
                            if(products.length == limit){
                                return products;
                            }
                        }
                    }
                }
            }
            return products;
        };
    });
});


/**
 * Created by correnti on 17/01/2016.
 */



define('app/filters/getCategoriesInArray',['./module'], function (controllers) {
    'use strict';
    controllers.filter('getCategoriesInArray', function(){
        return function(_a, categoriesInArray, categoryId) {

            if(categoriesInArray[0] == undefined){
                return _a;
            }
            var categories = [];
            for (var i = 0; i < categoriesInArray.length; i++){
                var categ = categoriesInArray[i];
                categories.push({
                    id : categ.categoryId,
                    name : categ.categoryName,
                    checked : categoryId == categ.categoryId,
                });
            }
            return categories;
        };
    });
});


/**
 * Created by correnti on 10/12/2015.
 */

define('app/filters/productsFilterForCategoriesProduct',['./module'], function (controllers) {
    'use strict';
    controllers.filter('productsFilterForCategoriesProduct', function ($filter) {

        function buildSeparator(val) {
            return "((START) " + val + " (END))";
        }

        return function (_a, searchResult, minPrice, maxPrice, productsInclude) {

            var categories = searchResult;

            var productsToReturn = [];

            if (productsInclude && Object.keys(productsInclude).length != 0) {

                for (var key in categories) {

                    var productsFilterized = [];
                    for (var index in categories[key].products) {

                        var prd = categories[key].products[index];
                        var count = 0;
                        if (prd.attributes) {

                            for (var name in productsInclude) {
                                var prop = '';

                                for (var index in productsInclude[name]) {
                                    prop += buildSeparator(productsInclude[name][index]);
                                }

                                for (var index in prd.attributes) {

                                    if (prop.indexOf(buildSeparator(prd.attributes[index].attributeValue)) > -1) {
                                        count++;
                                        break;
                                    }
                                }
                            }

                            var colors = '';
                            for (var index in productsInclude['COLOR']) {
                                colors += "(" + productsInclude['COLOR'][index].code + ")";
                            }

                        }

                        var colorFound = true;
                        if (prd.colors && colors != '') {
                            colorFound = false;
                            for (var index in prd.colors) {
                                if (colors.indexOf(prd.colors[index].code) > -1) {
                                    colorFound = true;
                                    count++;
                                    break;
                                }
                            }
                        }

                        var categoryFound = true;
                        var categoriesStr = '';
                        for (var index in productsInclude['CATEGORIES']) {
                            categoriesStr += "(" + productsInclude['CATEGORIES'][index] + ")";
                        }
                        if (prd.categoryId && categoriesStr != '') {
                            categoryFound = false;
                            if (categoriesStr.indexOf(prd.categoryId) > -1) {
                                categoryFound = true;
                                count++;
                            }
                        }


                        if (count == Object.keys(productsInclude).length &&
                            prd.price >= minPrice && prd.price <= maxPrice &&
                            colorFound && categoryFound) {
                            productsFilterized.push(prd);
                        }
                    }
                    productsToReturn.push({products: productsFilterized})
                }
            }
            else {
                for (var key in categories) {
                    var productsFilterized = [];
                    for (var index in categories[key].products) {
                        var prd = categories[key].products[index];
                        if (prd.price >= minPrice && prd.price <= maxPrice) {
                            productsFilterized.push(prd)
                        }
                    }
                    productsToReturn.push({products: productsFilterized})
                }
            }
            var v = $filter("filterFullArrayforAutoComplate")([], productsToReturn, null, -1);
            return v;
        }
    });
});


//for (var prdAttrIndex in prd.attributes) {
//    var prdAttr = prd.attributes[prdAttrIndex];
//
//    var include = productsInclude[prdAttr.attributeName];
//    var finded = false;
//    if (include) {
//        for (var includeIndex in include) {
//            if (prdAttr.attributeValue == include[includeIndex]) {
//                finded = true;
//                break;
//            }
//        }
//        if (finded) {
//            productsFilterized.push(prd);
//        }
//    }
//}


//for(var attrib in productsInclude){
//    console.log("")
//    console.log("================   productsInclude ======================")
//    console.log(productsInclude)
//    console.log(i)
//    console.log(productsInclude[i])
//    console.log("================   productsInclude ======================")
//    console.log("")
//}

//angular.forEach(products, function (product) {
//
//    if (Object.keys(productsInclude).length > 0) {
//        var found = 0;
//        for (var key in productsInclude) {
//            for (var i = 0; i < productsInclude[key].length; i++) {
//                var searchMatches = 0;
//                if (product.attributes) {
//                    var filterAttr = $filter('filter')(product.attributes, {attributeValue: productsInclude[key][i]}, false);
//                    var json = JSON.stringify(filterAttr[0]);
//                    var map = $.map(product.attributes, JSON.stringify);
//                    searchMatches = $.inArray(json, map);
//                }
//                if (searchMatches > -1) {
//                    found++;
//                }
//                for (var colorIndex = 0; colorIndex < product.colors.length; colorIndex++) {
//                    if (product.colors[colorIndex].code == productsInclude[key][i].code) {
//                        found++;
//                        break;
//                    }
//                }
//            }
//        }
//        if (found == Object.keys(productsInclude[key]).length && product.price >= minPrice && product.price <= maxPrice) {
//            productsToReturn.push(product);
//        }
//    }
//    else if (product.price >= minPrice && product.price <= maxPrice) {
//        productsToReturn.push(product);
//    }
//});
/**
 * Created by correnti on 25/02/2016.
 */



define('app/filters/sortArrayByColorName',['./module'], function (controllers) {
    'use strict';
    controllers.filter('sortArrayByColorName', function(){
        return function(arr, colors) {
            return colors.sort(function (a, b) {
                return a.name == b.name ? 0 : a.name < b.name ? -1 : 1;
            });
        };
    })
});








/**
 * Created by correnti on 11/04/2016.
 */

define('app/filters/getAllImagesByColor',['./module'], function (controllers) {
    'use strict';
    controllers.filter('getAllImagesByColor', function(){
        return function(images, colorSelected, defaultImage) {
            var _defaultImg = undefined;
            var _abcdefImg = [];
            var imageMatches = images.filter(function(img){
                var indexSubString = img.indexOf("##");
                var currentImg = img.substring(indexSubString + 2);
                if(currentImg == defaultImage){
                    _defaultImg = img;
                    return false;
                }
                if(img.toLowerCase().indexOf(("abcdef")) != -1 || indexSubString == -1){
                    _abcdefImg.push(img);
                    return false;
                }
                var color = img.substring(0, indexSubString);
                if (colorSelected.code == color) {
                    return true;
                }
                return false;
            });
            if(imageMatches.length == 0 && imageMatches.length == 0)
            {
                imageMatches.push(defaultImage);
            }
            else if(_defaultImg){
                if(_defaultImg.toLowerCase().indexOf(("abcdef")) != -1 ||
                    colorSelected.code == _defaultImg.substring(0, _defaultImg.indexOf("##"))){
                    imageMatches.push(defaultImage);
                }
            }
            imageMatches = imageMatches.concat(_abcdefImg);
            return imageMatches;
        };
    });
});


/**
 * Created by correnti on 11/04/2016.
 */


define('app/filters/getImageId',['./module'], function (controllers) {
    'use strict';
    controllers.filter('getImageId', function(){
        return function(image) {
            var indexSubString = image.indexOf("##");
            if(indexSubString == -1){
                return image;
            }
            return image.substring(indexSubString + 2);
        };
    });
});



/**
 * Created by kubany on 10/14/2015.
 */


define('app/filters/index',[

    './trustHTML',
    './secCatWord',
    './last4DigitsCard',
    './productsCartCount',
    './productsCartSum',
    './productQuantity',
    './filterFullArrayforAutoComplate',
    './getCategoriesInArray',
    './productsFilterForCategoriesProduct',
    './sortArrayByColorName',
    './getAllImagesByColor',
    './getImageId'

], function() {});
/**
 * Created by kubany on 10/14/2015.
 */
define('app/directives/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.directives', []);
});
/**
 * Created by correnti on 27/12/2015.
 */



define('app/directives/e-sec-plus-minus',['./module'], function (directives) {
    'use strict';
    directives
        .directive('eSecPlusMinus', ['$templateCache', function ($templateCache) {
            return {
                restrict: 'E',
                template: $templateCache.get('app/partials/e-sec-plus-minus.html'),
                scope: {
                    numAttr: '=',
                    updateProductAttr: '&',
                    aDisable: '=',
                    maxValue: '=',
                },
                controller: ['$scope', function (s) {

                    var maxValue = 999;
                    var minValue = 1;
                    var num = 1;
                    var readyToCheck = true;
                    var ctrl = this;
                    s.numAttr = parseInt(s.numAttr);

                    this.setNewNum = function (_num) {
                        num = parseInt(_num);
                    }

                    this.incrementNumAttr = function () {
                        if (s.numAttr > minValue) {
                            s.numAttr--;
                        }
                    };

                    this.decrementNumAttr = function () {
                        s.numAttr++;
                    };

                    this.getMaxValue = function () {
                        return maxValue;
                    }

                    this.setMaxValue = function (_maxValue) {
                        maxValue = _maxValue;
                    }

                    this.getMinValue = function () {
                        return minValue;
                    }

                    s.incrementValue = function () {
                        s.$apply(function () {
                            var newVal = s.numAttr + 1
                            num = s.numAttr = parseInt(newVal);
                        });

                        s.updateProductAttr()
                        return s.numAttr >= maxValue;
                    }

                    s.decrementValue = function () {
                        s.$apply(function () {
                            var newVal = s.numAttr - 1
                            num = s.numAttr = parseInt(newVal);
                            s.updateProductAttr()
                        });
                        return s.numAttr <= minValue;
                    }

                    this.saveNumber = function ($event) {

                        if (!checkNumber($event)) {
                            return false;
                        }

                        if (readyToCheck) {
                            readyToCheck = false;
                            num = s.numAttr;
                        }
                        return true;
                    }

                    this.updateNumber = function (allowEmpty) {
                        readyToCheck = true;
                        s.updateProductAttr()
                        s.checkDisables(allowEmpty)
                    }

                    function checkNumber() {

                        if ((s.numAttr + "").length == 0) {
                            return true;
                        }

                        var isNumber = (s.numAttr - 0) == s.numAttr && ('' + s.numAttr).trim().length > 0;

                        if (!isNumber /*|| (s.numAttr + "").length == (ctrl.getMaxValue() + "").length*/) {
                            return false;
                        }
                        if (s.numAttr > maxValue || s.numAttr < minValue) {
                            s.numAttr = parseInt(num);
                            return false;
                        }
                        return true;
                    }
                }],
                link: function (s, e, a, ctrl) {

                    e.addClass("sec-plus-minus")
                    if (s.aDisable) {
                        e.addClass("sec-plus-minus-disable")
                    }

                    if (s.maxValue) {
                        ctrl.setMaxValue(s.maxValue);
                    }


                    var minValue = ctrl.getMinValue();
                    var maxValue = ctrl.getMaxValue();
                    if (s.numAttr <= minValue) {
                        s.numAttr = parseInt(minValue);
                        $(e).find('.minus').addClass('disableBtn')
                    }
                    if (s.numAttr >= maxValue) {
                        s.numAttr = maxValue;
                        $(e).find('.plus').addClass('disableBtn')
                    }

                    s.checkDisables = function (allowEmpty) {
                        if (s.numAttr <= minValue) {
                            if (s.numAttr == "" && allowEmpty) {
                            }
                            else {
                                s.numAttr = parseInt(minValue);
                            }
                            $(e).find('.minus').addClass('disableBtn')
                            $(e).find('.plus').removeClass('disableBtn')
                        }
                        else {
                            $(e).find('.minus').removeClass('disableBtn')
                        }

                        if (s.numAttr >= maxValue) {
                            s.numAttr = parseInt(maxValue);
                            $(e).find('.plus').addClass('disableBtn')
                            $(e).find('.minus').removeClass('disableBtn')
                        }
                        else {
                            $(e).find('.plus').removeClass('disableBtn')
                        }
                        if ((s.numAttr - 0) == s.numAttr && ('' + s.numAttr).trim().length > 0) {
                            s.numAttr = parseInt(s.numAttr);
                        }
                    }
                }
            }
        }])
        .directive('numbersOnly', function () {
            return {
                restrict: 'A',
                require: '^eSecPlusMinus',
                link: function (s, e, a, ctrl) {

                    e.on('click', function ($event) {
                            this.select();
                        }
                    );

                    s.$watch('numAttr', function () {
                        ctrl.updateNumber(true);
                    });

                    e.on('keydown', function ($event) {
                        s.$apply(function () {
                            switch ($event.keyCode) {
                                case 38:
                                    ctrl.incrementNumAttr();
                                    $event.preventDefault();
                                    break;
                                case 40:
                                    ctrl.decrementNumAttr();
                                    $event.preventDefault();
                                    break;
                            }
                        });
                    });

                    e.on('blur', function () {
                        s.$apply(function () {
                            ctrl.updateNumber(false);
                        })
                    });
                }
            }
        })
        .directive('incrementValueAttr', function () {
            return {
                restrict: 'A',
                require: '^eSecPlusMinus',
                link: function (s, e, a, ctrl) {

                    e.on('click', function () {

                        if (a.incrementValueAttr == "+") {

                            if (e.hasClass("disableBtn")) {
                                return;
                            }
                            if (s.incrementValue()) {
                                e.addClass("disableBtn")
                                return;
                            }
                            $(e).siblings('.minus').removeClass("disableBtn")
                            e.removeClass("disableBtn")

                        }
                        if (a.incrementValueAttr == "-") {

                            if (e.hasClass("disableBtn")) {
                                return;
                            }
                            if (s.decrementValue()) {
                                e.addClass("disableBtn")
                                return;
                            }
                            $(e).siblings('.plus').removeClass("disableBtn")
                            e.removeClass("disableBtn")
                        }
                    });
                }
            }
        })
    ;


});


/**
 * Created by correnti on 03/06/2016.
 */




define('app/directives/info-demo',['./module'], function (directives) {
    'use strict';
    directives.directive('infoDemo', function () {
        return {
            restrict: 'E',
            link: function (s, e, a) {
                e.addClass('info-demo');
                var divInner = $("<div></div>");
                divInner.append("<h4>" + a.aTitle + "</h4>");
                divInner.append("<div style='height: 4px;'></div>");
                var paragraphes = JSON.parse(a.aLines);
                for (var i = 0; i < paragraphes.length; i++) {
                    divInner.append("<p class='roboto-light'>" + paragraphes[i] + "</p>");
                }
                e.append(divInner)
            }
        }
    });
});

/**
 * Created by correnti on 27/12/2015.
 */



define('app/directives/a-sec-src',['./module'], function (directives) {
    'use strict';
    directives.directive('aSecSrc', function(){
        return{
            restrict: 'A',
            link: function(s, e, a, ctrl){

                // ng-src="fetchImage?image_id={{product.imageUrl}}"
                // server.catalog.getKey() +
                e.attr('src', '/fetchImage?image_id=' + a.aSecSrc);
            }
        }
    });
});


/**
 * Created by correnti on 27/12/2015.
 */

define('app/directives/a-sec-back-img',['./module'], function (directives) {
    'use strict';
    directives

        .directive('aSecBackImg', function(){
            return{
                restrict: 'A',
                link: function(s, e, a, ctrl){
                    //  server.catalog.getKey() +
                    e.css('background-image', "url('catalog/fetchImage?image_id=" + a.aSecBackImg + "')")
                }
            }
        });
});


/**
 * Created by correnti on 19/05/2016.
 */

define('app/directives/validateInput',['./module'], function (directives) {
    'use strict';
    directives.directive('secForm', ["$timeout", function ($timeout) {

        var invalid = "invalid";
        return {
            restrict: 'E',
            require: 'secForm',
            scope: {
                secGetFormValidationWhenReady: "&",
                secIsValidForm: "&"
            },
            controllerAs: "secFormCtrl",
            controller: [function () {

                var ctrl;
                var toLateToCheck = false;
                this.getFormValidationWhenReady;
                this.models = [];
                this.senders = [];
                this.setButtonCtrl = function (ctrl) {
                    this.senders.push(ctrl);
                };

                this.updateState = function (id, valid, owner) {
                    var validForm = true;
                    for (var i = 0; i < this.models.length; i++) {
                        var model = this.models[i];
                        if (model.id == id) {
                            model.valid = valid;
                            model.owner = owner;
                        }
                        validForm = !validForm ? false : model.valid;
                    }
                    for (var i = 0; i < this.senders.length; i++) {
                        this.senders[i].formIsValid(validForm);
                    }
                    if (this.isValidForm) {
                        this.isValidForm({valid: validForm});
                    }
                    if (!toLateToCheck && this.getFormValidationWhenReady) {
                        this.getFormValidationWhenReady({valid: validForm})
                    }
                };

                this.formIsValid = function () {
                    for (var i = 0; i < this.models.length; i++) {
                        var model = this.models[i];
                        if (model.valid == false) {
                            return false;
                        }
                    }
                    return true;
                };

                this.notifyWatcher = function (id, valid) {
                    this.models.push({
                        id: id,
                        valid: valid
                    });
                };

                this.setFormValidationWhenReady = function (_getFormValidationWhenReady) {
                    if (_getFormValidationWhenReady) {
                        this.getFormValidationWhenReady = _getFormValidationWhenReady
                    }
                };

                this.setCtrl = function (_ctrl) {
                    ctrl = _ctrl;
                };

                this.isValidForm;
                this.setIsValidForm = function (_isValidForm) {
                    this.isValidForm = _isValidForm;
                };

                this.setToLateToCheck = function () {
                    toLateToCheck = true;
                };

                this.setDisableUntilSomeChange = function () {
                    for (var i = 0; i < this.senders.length; i++) {
                        this.senders[i].setDisableUntilSomeChange();
                    }
                };

                this.changeAllowToChangeInvalidClass = function () {
                    for (var i = 0; i < this.senders.length; i++) {
                        this.senders[i].changeAllowToChangeInvalidClass();
                    }
                };


            }],
            link: {
                pre: function (s, e, a, ctrl) {
                    e.addClass("secForm");
                    ctrl.setCtrl(ctrl);
                    if (s.secIsValidForm) {
                        ctrl.setIsValidForm(s.secIsValidForm);
                    }
                },
                post: function (s, e, a, ctrl) {
                    ctrl.updateState(-1, null, null);
                    if (s.secGetFormValidationWhenReady) {
                        ctrl.setFormValidationWhenReady(s.secGetFormValidationWhenReady);
                    }
                    if (a.secDisableUntilSomeChange == 'true') {
                        ctrl.setDisableUntilSomeChange();
                    }
                }
            }
        }

    }]).
    directive('secSender', ["$compile", function ($compile) {

        var invalid = "invalid";

        return {
            restrict: 'E',
            require: ['secSender', '^secForm'],
            scope: {
                secSend: '&'
            },
            controllerAs: "senderCtrl",
            controller: ["$scope", function (s) {

                var button;
                var allowToChangeInvalidClass = true;
                this.setButton = function (_button) {
                    button = _button;
                };

                this.send = function () {
                    if (button.hasClass(invalid)) {
                    }
                    else {
                        s.secSend();
                    }
                };

                this.formIsValid = function (valid) {
                    if (allowToChangeInvalidClass) {
                        if (valid) {
                            button.removeClass(invalid);
                            button.removeAttr('disabled');
                        }
                        else {
                            button.addClass(invalid);
                            button.prop("disabled", true);
                        }
                    }
                };

                this.changeAllowToChangeInvalidClass = function () {
                    allowToChangeInvalidClass = true;
                };

                this.setDisableUntilSomeChange = function () {
                    allowToChangeInvalidClass = false;
                    button.addClass(invalid);
                    button.prop("disabled", true);
                };

            }],
            link: {
                pre: function (s, e, a, ctrls) {
                    e.addClass("sec-sender");
                    var description = a.aHint;
                    var button = $("<button id='" + a.aValue.toLowerCase().replace(/ /g,"_") + "_btn" + description + "' type='button' class='sec-sender-a invalid' role='button' data-ng-click='senderCtrl.send()'>" + a.aValue + "</button>");
                    $compile(button)(s);
                    e.append(button);

                    ctrls[0].setButton(button);
                    ctrls[1].setButtonCtrl(ctrls[0]);
                },
                post: function (s, e, a, ctrl) {
                }
            }
        }

    }]).
    directive('secView', ["$compile", "$timeout", function ($compile, $timeout) {

        function throwInvalidObjectFormat(obj, e) {

            console.log(e);
            console.log(JSON.stringify(e));
            throw  "-----------  Invalid object format ! \n\n" +
            "The element must be like this:\n\n" +
            "var obj = {\n" +
            "   error: 'the upper text message', \n" +
            "   info: 'the button information about this requirement', \n" +
            "   min: 'add this param if you use secMinLength directive', \n" +
            "   max: 'add this param if you use secMaxLength directive', \n" +
            "   regex: 'add this param if you use secPattern directive', \n" +
            "   model: 'add this param if you use secCompareTo directive, model have to pass secModelCompareTo model to compare', \n" +
            "}\n" +
            "\nYou object is: " + JSON.stringify(obj) + "\n\n\n\n";

            //get-form-validation-when-ready
            //a-hint: pass this text has a text ,

            //"   a-type: 'add this param if you wont to display a different control:', \n" +
            //"         select: 'to show a select design (required directives to this type: sec-select-options, a-show )', \n" +

            //sec-select-options
            //a-show
            //a-star

            //secModel: '=',
            //secRequire: '=',
            //secMinLength: '=',
            //secMaxLength: '=',
            //secPattern: '=',
            //
            //secCompareTo: '=',
            //secModelCompareTo: '=',
            //
            //sec-send: '&',
        }

        var Keys = {
            secRequired: 0,
            secMinLength: 1,
            secMaxLength: 2,
            secPattern: 3,
            secCompareTo: 4
        };

        var Types = {
            text: "text",
            textarea: "textarea",
            select: "select",
            password: "password",
            creditCard: "creditCard",
            ccvNumber: "ccvNumber",
            checkbox: "checkbox"
        };

        var invalid = "invalid";
        var animated = "animated";
        var in_focus = "in-focus";
        var hidden = "hidden";
        var displayed = "displayed";
        var select_value = "select-value";
        return {
            restrict: 'E',
            require: ['secView', '^secForm'],
            scope: {
                secModel: '=',
                secRequire: '=',
                secMinLength: '=',
                secMaxLength: '=',
                secPattern: '=',
                secSelectOptions: '=',
                secDisableValidation: '=',
                secCardNumber: "=",

                secCompareTo: '=',
                secModelCompareTo: '=',

                secIsValid: '&',
                secSelectChange: '&'
            },
            controller: ["$scope", function (s) {

                var id;
                var input;
                var label;
                var isFieldValid;
                var hint;
                var ul;
                var form;
                var doNotShowInfo = false;
                var disableValidation = false;
                var isCardNumber = false;
                var ctrl = this;
                var staticlabel;

                ctrl.compareTo;
                s.validations = [];
                $('#creditCard').on('keyup', function(e){
                    var val = $(this).val();
                    var newval = '';
                    val = val.replace(/\s/g, '');
                    for(var i=0; i < val.length; i++) {
                        if(i%4 == 0 && i > 0) newval = newval.concat(' ');
                        newval = newval.concat(val[i]);
                    }
                    $(this).val(newval);
                });

                ctrl.getListValidations = function () {
                    var li = "";
                    for (var i = 0; i < s.validations.length; i++) {
                        var validation = s.validations[i];
                        if (validation.info && validation.info != "") {
                            li += "<li><a>" + validation.info + " </a></li>"
                        }
                        else {
                            li += "<li style='display: block; position: absolute; height: 0'><a></a></li>"
                        }
                    }
                    return li;
                };


                ctrl.setCompareTo = function (_compareTo) {
                    ctrl.compareTo = _compareTo;
                };

                var secSelectChange;
                ctrl.setSecSelectChange = function (_secSelectChange) {
                    secSelectChange = _secSelectChange;
                };

                var secretField;
                ctrl.setSecretField = function () {
                    secretField = true;
                    if(s.secModel.length == 12) {
                        input.parent().addClass('card-number-four-star');
                        input.val("********" + s.secModel.substring(8));
                    }
                    if(s.secModel.length == 3) {
                        input.val("***");
                    }
                    //input.attr("type", "password");
                };

                ctrl.removeSecretField = function () {
                    if(secretField){
                        input.parent().removeClass('card-number-four-star');
                        secretField = false;
                        if(document.getElementById("creditCard").value.length > 1){
                            s.secModel = "";
                            if(window.location.href.toString().includes("accountPaymentEdit")){

                                document.getElementsByName("cvv_number").item(0).setAttribute("maxlength", 3);
                            }
                        }
                    }
                };


                ctrl.setDoNotShowInfo = function (_doNotShowInfo) {
                    doNotShowInfo = _doNotShowInfo;
                };

                ctrl.setCardNumberFourDigits = function (_CardNumberFourDigits) {
                    isCardNumber = _CardNumberFourDigits;
                };


                ctrl.setDisableValidation = function (_disableValidation) {
                    disableValidation = _disableValidation == undefined ? false : _disableValidation;
                    ctrl.change(input.val());
                };


                ctrl.pushValidation = function (validation, key) {

                    if (validation.error) {
                        validation.key = key;
                        s.validations.push(validation);
                    }
                    else if (validation.regexes) {
                        for (var regexIndex = 0; regexIndex < validation.regexes.length; regexIndex++) {
                            var regexformat = validation.regexes[regexIndex];
                            regexformat.key = key;
                            s.validations.push(regexformat);
                        }
                    }
                };

                var firstLoader = true;
                ctrl.modelCompareToChange = function (val) {
                    if (!firstLoader) {
                        if ((val+"").trim() == "") {
                            return;
                        }
                        ctrl.compareTo.val(val);
                        ctrl.change(input.val());
                        ctrl.blur(input.val());
                    }
                    firstLoader = false;
                };

                var selectedList;
                ctrl.fillSelect = function (arr, name) {
                    if (arr) {
                        var found = false;
                        selectedList = arr;
                        var selectList = ctrl.getSelectlist();
                        selectList.empty();
                        for (var i = 0; i < arr.length; i++) {
                            var item = selectedList[i];
                            var span;
                            if (name) {
                                span = $("<span data-ng-click='selectItemChangeModel(" + i + ")'" +
                                    " data-ng-mouseenter='selectItemMouseIn()' data-ng-mouseleave='selectItemMouseOut()'>"
                                    + item[name] + "</span>");
                            }
                            else {
                                span = $("<span data-ng-click='selectItemChangeModel(" + i + ")'" +
                                    " data-ng-mouseenter='selectItemMouseIn()' data-ng-mouseout='selectItemMouseOut()'>"
                                    + item + "</span>");
                            }
                            if (s.secModel) {
                                if (s.secModel + "" == item + "") {
                                    found = true;
                                }
                            }
                            $compile(span)(s);
                            selectList.append(span);
                        }
                        if (!found && s.secModel) {
                            s.secModel = arr[0];
                        }
                    }
                };

                s.selectItemChangeModel = function (index) {

                    var validation = selectedList[index];
                    if (!label.hasClass(animated)) {
                        label.addClass(animated);
                        $timeout(function () {
                            s.secModel = validation;
                        }, 200)
                    }
                    else {
                        if (s.secModel == validation) {
                            ctrl.getSelectlist().fadeOut();
                        }
                        else {
                            s.secModel = validation;
                        }
                    }
                    if (secSelectChange) {
                        secSelectChange({value: validation});
                    }
                };

                s.selectItemMouseIn = function () {
                    if (_____selectItemMouseOut) {
                        $timeout.cancel(_____selectItemMouseOut);
                    }
                };

                var _____selectItemMouseOut;
                s.selectItemMouseOut = function () {
                    var selectList = ctrl.getSelectlist();
                    if (selectList.css("display") != "none") {
                        _____selectItemMouseOut = $timeout(function () {
                            ctrl.getSelectlist().fadeOut();
                        }, 1200);
                    }
                };

                ctrl.change = function (val) {

                    if (val == undefined || s.secModel == undefined) {
                        return;
                    }
                    if (typeof val == 'string' && typeof s.secModel == 'object') {
                        return;
                    }
                    if (s.secModel != undefined) {
                        val = s.secModel;
                    }

                    var valid;
                    try {
                        if (disableValidation) {
                            valid = true;
                            return;
                        }

                        if (isCheckboxDesign()) {
                            valid = checkCheckboxValidations();
                            updateTextCheckboxValidations(valid);
                            return;
                        }
                        else if (isSelectedDesign()) {
                            valid = checkSelectValidations(val);
                            if (valid) {
                                if (!$(label).hasClass(animated)) {
                                    $(label).addClass(animated);
                                }
                            }
                            else {
                                valid = s.validations.length == 0;
                            }
                            if (secSelectChange) {
                                secSelectChange({value : val})
                            }

                            return;
                        }
                        else if ((val+"").trim() == "") {
                            if (s.validations.length > 0) {
                                if ((s.secModel+"").trim() == '' && input.hasClass(in_focus) && !doNotShowInfo) {
                                    ul.find('li').slideDown()
                                }
                            }
                            if (!input.hasClass(in_focus) && label.hasClass(animated) && s.secModel == "") {
                                label.removeClass(animated);
                                if (isCardNumber) {
                                    removeCardNumberFourDigits()
                                }
                            }
                            valid = getValidation(false);
                        }
                        else {
                            if (!$(label).hasClass(animated)) {
                                $(label).addClass(animated);
                                if (isCardNumber) {
                                    addCardNumberFourDigits()
                                }
                            }
                            valid = checkViewValidations();
                        }

                    } finally {

                        form.updateState(id, valid, hint);
                    }
                };

                function checkSelectValidations(val) {

                    if (typeof val == "object") {
                        for (var _property in val) {
                            if (val.hasOwnProperty(_property)) {
                                return true;
                            }
                        }
                        return false;
                    }
                    return val != "" && val != null && val != undefined;
                }

                ctrl.blur = function (val) {
                    if (val == undefined || (val+"").trim() == "undefined") {
                        return;
                    }
                    if ((val+"").trim() == "") {
                        staticlabel.addClass(displayed);
                        staticlabel.removeClass(hidden);
                        label.removeClass(animated);
                        if (isCardNumber) {
                            removeCardNumberFourDigits()
                        }
                    }else{
                        staticlabel.addClass(hidden);
                        staticlabel.removeClass(displayed);
                    }
                    var valid = getValidation(true);
                    if (isFieldValid) {
                        isFieldValid({valid: valid});
                    }
                    ul.find('li').slideUp();
                    input.removeClass(in_focus);
                };


                ctrl.focus = function () {
                    label.addClass(animated);
                    input.addClass(in_focus);
                    staticlabel.addClass(hidden);
                    staticlabel.removeClass(displayed);
                    if (isCardNumber) {
                        addCardNumberFourDigits()
                    }
                    ctrl.change(s.secModel);
                    setNormalHint();
                };

                function addCardNumberFourDigits() {
                    input.parent().addClass('card-number-four-digits');
                    input.addClass('card-number-four-digits');
                }

                function removeCardNumberFourDigits() {
                    input.parent().removeClass('card-number-four-digits');
                    input.removeClass('card-number-four-digits');
                }

                ctrl.getSelectlist = function () {
                    return input.find(".selectList");
                };


                s.labelClicked = function () {
                    form.setToLateToCheck();

                    if (isSelectedDesign()) {
                        var selectedList = ctrl.getSelectlist();
                        if (selectedList.children().length > 0) {
                            selectedList.fadeToggle();
                        }
                        return;
                    }
                    if (isCheckboxDesign()) {
                        s.secModel = !s.secModel;
                        return;
                    }
                    if (!label.hasClass(animated)) {
                        input.focus();
                        ctrl.focus();
                    }
                };


                s.labelOut = function () {
                    _____selectItemMouseOut = $timeout(function () {
                        var list = ctrl.getSelectlist();
                        if (list.css("display") != "none") {
                            list.fadeOut();
                        }
                    }, 3000);
                };


                ctrl.setItems = function (_input, _label, _ul, _form, _id, _staticLabel) {

                    id = _id;
                    input = _input;
                    label = _label;
                    staticlabel = _staticLabel;
                    ul = _ul;
                    hint = label.text();
                    form = _form;

                    var valid;
                    if (disableValidation) {
                        valid = true;
                    }
                    else {
                        if (isCheckboxDesign()) {
                            valid = checkCheckboxValidations();
                        }
                        else if (isSelectedDesign()) {
                            valid = s.validations.length == 0 ? true : checkSelectValidations();
                        }
                        else {
                            valid = checkViewValidations();
                        }
                    }
                    form.notifyWatcher(id, valid);


                    input.on({
                        blur: function () {
                            if (!isSelectedDesign()) {
                                ctrl.blur(s.secModel);
                            }
                        },
                        focus: function () {
                            if (isSelectedDesign()) {
                                form.changeAllowToChangeInvalidClass();
                            }
                            form.setToLateToCheck();
                            ctrl.focus();
                        },
                        keydown: function () {
                            form.changeAllowToChangeInvalidClass();
                        }
                    });
                };


                function updateTextCheckboxValidations(valid) {
                    if (s.validations[0].dontChange) {
                        return;
                    }
                    if (valid) {
                        label.text(s.validations[0].info);
                        label.removeClass(invalid);
                    }
                    else {
                        label.text(s.validations[0].error);
                        label.addClass(invalid);
                    }
                }

                function checkCheckboxValidations() {
                    return s.secModel == true;
                }

                function getValidation(changeHint) {
                    var validation = null;
                    try {
                        for (var i = 0; i < s.validations.length; i++) {
                            validation = s.validations[i];
                            switch (validation.key) {
                                case Keys.secRequired:
                                    if ((s.secModel+"").trim() == '') {
                                        if (changeHint) {
                                            return setInvalidTextToShow(validation.error);
                                        }
                                        return false;
                                    }
                                    break;
                                case Keys.secMinLength:
                                    if (s.secModel.length < validation.min && (s.secModel + "").length != 0) {
                                        if (changeHint) {
                                            return setInvalidTextToShow(validation.error);
                                        }
                                        return false;
                                    }
                                    break;
                                case Keys.secMaxLength:
                                    if (s.secModel.length > validation.max) {
                                        if (changeHint) {
                                            return setInvalidTextToShow(validation.error);
                                        }
                                        return false;
                                    }
                                    break;
                                case Keys.secPattern:
                                    if (!(new RegExp(validation.regex).test(s.secModel)) && (input.val()).length != 0) {
                                        if (changeHint) {
                                            return setInvalidTextToShow(validation.error);
                                        }
                                        return false;
                                    }
                                    break;
                                case Keys.secCompareTo:
                                    if (ctrl.compareTo.val() != s.secModel && ctrl.compareTo.val() != "") { // && input.val() != ""
                                        return setInvalidTextToShow(validation.error);
                                    }
                                    break;
                                case Keys.secCardNumber:
                                    //if (!(s.secModel.length == validation.exactly - 4 && (input.val() - 0) == input.val() &&
                                    //input.val().indexOf('-') == -1 &&  input.val().indexOf('+') == -1)) {
                                    var trimmedSecModel = s.secModel.replace(/\s/g,'');
                                    if (!(new RegExp(validation.regex).test(trimmedSecModel) && trimmedSecModel.length == validation.exactly - 4)) {
                                        if (changeHint) {
                                            return setInvalidTextToShow(validation.error);
                                        }
                                        return false;
                                    }
                                    break;
                            }
                        }
                        setNormalHint();
                        return true;
                    } catch (e) {
                        throwInvalidObjectFormat(validation);
                    }
                }

                function checkViewValidations() {
                    var validation = null;
                    var validInput = true;
                    if (s.secModel) {

                        try {
                            for (var i = 0; i < s.validations.length; i++) {
                                validation = s.validations[i];
                                switch (validation.key) {
                                    case Keys.secRequired:
                                        if ((s.secModel+"").trim() == '') {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i)
                                        }
                                        break;
                                    case Keys.secMinLength:
                                        if (s.secModel.length < validation.min && (s.secModel + "").length != 0) {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i);
                                        }
                                        break;
                                    case Keys.secMaxLength:
                                        if (s.secModel.length > validation.max) {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i)
                                        }
                                        break;
                                    case Keys.secPattern:
                                        if (!(new RegExp(validation.regex).test(s.secModel)) && (input.val()).length != 0) {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i);
                                        }
                                        break;
                                    case Keys.secCompareTo:
                                        if (ctrl.compareTo.val() != s.secModel && ctrl.compareTo.val() != "") {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i);
                                        }
                                        break;
                                    case Keys.secCardNumber:
                                        var trimmedSecModel = s.secModel.replace(/\s/g,'');
                                        if (!(new RegExp(validation.regex).test(trimmedSecModel) && trimmedSecModel.length == validation.exactly - 4)) {
                                            showValidation(i);
                                            validInput = false;
                                        }
                                        else {
                                            hideValidation(i);
                                        }
                                        break;
                                }
                            }


                        } catch (e) {
                            throwInvalidObjectFormat(validation, e);
                        }
                    }
                    return validInput;

                }

                function hideValidation(index) {
                    ul.find("li:nth-child(" + (index + 1) + ")").slideUp();
                }

                function showValidation(index) {
                    if (input.hasClass(in_focus) && !doNotShowInfo) {
                        ul.find("li:nth-child(" + (index + 1) + ")").slideDown();
                    }
                }

                function setNormalHint() {
                    input.removeClass(invalid);
                    label.removeClass(invalid);
                    label.text(hint)
                }

                function setInvalidTextToShow(error) {
                    label.text(error);
                    label.addClass(invalid);
                    input.addClass(invalid);
                    return false;
                }

                function isSelectedDesign() {
                    return input.prop("tagName").toLowerCase() == "select"
                }

                function isCheckboxDesign() {
                    return input.attr("type") == Types.checkbox;
                }

            }],

            link: {

                pre: function (s, e, a, ctrls) {

                    var ctrl = ctrls[0];
                    var inputTypeName = "";
                    e.addClass("sec-view");

                    s.$watch('secModel', function (n, o) {
                        ctrl.removeSecretField();
                        ctrl.change(n);
                    }, true);

                    if (s.secRequire) {
                        if (a.aDontChange == "true") {
                            var temp = JSON.parse(s.secRequire);
                            temp.dontChange = true;
                            ctrl.pushValidation(temp, Keys.secRequired);
                        }
                        else {
                            ctrl.pushValidation(JSON.parse(s.secRequire), Keys.secRequired);
                        }
                    }
                    if (s.secMinLength) {
                        ctrl.pushValidation(JSON.parse(s.secMinLength), Keys.secMinLength);
                    }
                    if (s.secMaxLength) {
                        ctrl.pushValidation(JSON.parse(s.secMaxLength), Keys.secMaxLength);
                    }
                    if (s.secPattern) {
                        ctrl.pushValidation(JSON.parse(s.secPattern), Keys.secPattern);
                    }
                    if (a.aDoNotShowInfo == 'true') {
                        ctrl.setDoNotShowInfo(true);
                    }
                    if (s.secCardNumber) {
                        ctrl.setCardNumberFourDigits(true);
                        ctrl.pushValidation(JSON.parse(s.secCardNumber), Keys.secCardNumber);
                    }
                    if (s.secSelectChange) {
                        ctrl.setSecSelectChange(s.secSelectChange)
                    }
                    if(a.secName){
                        inputTypeName = a.secName;
                    }


                    s.$watch('secDisableValidation ', function (n, o) {
                        ctrl.setDisableValidation(n);
                    }, true);

                    var div = $("<div class='inputContainer'></div>");
                    var type = a.aType || "text";
                    var input;
                    var hideLabel = "";
                    if (!a.aHint) {
                        hideLabel = "style='display:none'";
                    }
                    var partOfName = "";
                    if (a.aHintDescription != null) {
                        partOfName = a.aHintDescription;
                    }
                    var label = $("<label " + hideLabel + " data-ng-click='labelClicked()' data-ng-mouseout='labelOut()'>" + a.aHint + "</label>");
                    switch (type) {
                        case Types.select:

                            label.css("z-index", "-10");
                            label.addClass("animated");
                            var dot = (a.aShow ? "." + a.aShow : "");
                            var format = "<select name='" + a.aHint.toLowerCase() + 'Listbox' + partOfName + "' role='listbox' ng-model='secModel' ng-options='c as c" + dot
                                + " for c in secSelectOptions' ><option value='' selected='selected'></select>";

                            //var dot = (a.aShow ? a.aShow : null);
                            //var format = "<select ng-model='secModel'>" +
                            //"<option ng-repeat='c in secSelectOptions' >{{ (dot ? c[dot] : c ) }}</option>" +
                            //    "</select>";

                            input = $(format);
                            input.css("background", "transparent");

                            break;
                        case Types.textarea:
                            input = $("<textarea name='" + a.aHint + partOfName + "' data-ng-model='secModel' ></textarea>");
                            // On main Page in Contact US section under subject visible hint subjectTextArea
                            // label.text(JSON.parse(s.secRequire).info);
                            label.text("");
                            label.addClass("checkboxText roboto-light" + animated);
                            div.css({
                                "padding-top": "10px",
                                "height": "auto",
                                "margin": "0px 0"
                            });
                            break;
                        case Types.creditCard:
                            input = $("<input id='creditCard' name='" + a.aHint.replace(/\s/g, "_").toLowerCase() + partOfName + "' data-ng-model='secModel' maxlength='14'/>");
                            break;
                        case Types.ccvNumber:
                            input = $("<input name='" + a.aHint.replace(/\s/g, "_").toLowerCase() + partOfName + "' type='" + type + "' data-ng-model='secModel' maxlength='3' />");
                            break;
                        default:
                            if (a.aHint == null) {
                                a.aHint = "i_agree";
                            }
                            input = $("<input name='" + a.aHint.replace(/\s/g, "_").toLowerCase() + partOfName + "' type='" + type + "' data-ng-model='secModel' />");
                            if (type == Types.checkbox) {
                                label.text(JSON.parse(s.secRequire).info);
                                label.css({"display": "block"});
                                label.addClass("checkboxText roboto-light " + animated);
                                div.css({
                                    "padding-top": "1px",
                                    "height": "auto",
                                    "margin": "8px 0"
                                });
                            }
                            break;
                    }

                    if (s.secRequire) {
                        if (type != Types.checkbox && a.aStar != "false") {
                            var star = $("<span class='star'>*</span>");
                            div.append(star);
                        }
                    }
                    $compile(input)(s);

                    var staticlabel = $("<div class='hidden'>" + a.aHint  + "</div>");
                    div.append(staticlabel);
                    div.append(input);
                    div.append(label);

                    $compile(div)(s);
                    e.append(div);

                    if (s.secCompareTo) {
                        s.$watch('secModelCompareTo', function (n, o) {
                            if (input.val() != "") {
                                ctrl.modelCompareToChange(n);
                            }
                        }, true);
                        ctrl.pushValidation(JSON.parse(s.secCompareTo), Keys.secCompareTo);
                        var compareTo = $("<input style='display: none' type='" + type + "' data-ng-model='secModelCompareTo' />");
                        $compile(compareTo)(s);
                        ctrl.setCompareTo(compareTo);
                        e.append(compareTo);
                    }

                    var ul = $("<ul>" + ctrl.getListValidations() + "</ul>");
                    e.append(ul);

                    var _form = ctrls[1];
                    ctrl.setItems(input, label, ul, _form, s.$id, staticlabel);

                },

                post: function (s, e, a, ctrls) {

                    if (a.aSecretField == "true") {
                        $timeout(function () {
                            ctrls[0].setSecretField()
                        }, 1000);
                    }
                }
            }
        }
    }
    ]);

});

/**
 * Created by correnti on 07/12/2015.
 */

define('app/directives/toolTipSearch',['./module'], function (directives) {
    'use strict';

    directives.directive('search', ['$templateCache', 'productService', '$location', '$state',
            function ($templateCache, productService, $location, $state) {
                return {
                    restrict: 'E',
                    controller: ['$scope', function (s) {

                        s.categoryFilter = null;
                        s.categoryName = '';
                        s.allowClosing = true;
                        s.checkEnterKey = function (event) {
                            if (event.which === 13) {
                                s.goToCategoryPage();
                            }
                        }

                        var lastRequest = '';
                        s.runAutocomplete = function () {
                            lastRequest = s.autoCompleteValue;
                            if (lastRequest == '') {
                                s.autoCompleteResult = {};
                                return;
                            }
                            productService.getProductsBySearch(lastRequest, 10).then(function (result) {
                                s.autoCompleteResult = result;
                            });
                        }

                        s.goToCategoryPage = function () {
                            $state.go('search', {
                                id: (s.categoryFilter == null ? '' : s.categoryFilter),
                                viewAll: s.autoCompleteValue
                            });
                        }

                        s.openSearchProducts = function () {


                            if($('.autoCompleteCover').width() > 0){//element is open, we search now
                                this.checkEnterKey({which : 13});

                            }else{
                                var navsLinks = $("nav ul li a.navLinks");
                                navsLinks.each(function (index) {
                                    setTimeout(function (_this) {
                                        $(_this).stop().animate({opacity: 0.1}, 500);
                                    }, 200 * index, this);
                                });

                                setTimeout(function (navsLinks) {
                                    navsLinks.hide();
                                    $('#searchSection .autoCompleteCover').stop().animate({
                                        width: getAutocompleateWidth() + "px",
                                        margin: '0 6px'
                                    }, 500).animate({
                                        opacity: 1
                                    }, 200, function () {
                                        $('#autoComplete').focus();
                                    });
                                    $('#searchSection .autoCompleteCover .iconCss.iconX').fadeIn(300);
                                }, (200 * navsLinks.length), navsLinks);
                            }

                        }

                        s.closeSearchForce = function () {

                            $('#searchSection .autoCompleteCover .iconCss.iconX').fadeOut(300);
                            setTimeout(function () {
                                $('#searchSection .autoCompleteCover')
                                    .animate({
                                        width: 0 + "px",
                                        opacity: 0.5,
                                        margin: '0 0'
                                    }, 500, function () {
                                        if ($location.path() == '/') {
                                            var navsLinks = $("nav ul li a.navLinks");
                                            navsLinks.show();
                                            navsLinks.each(function (index) {
                                                setTimeout(function (_this) {
                                                    $(_this).stop().animate({opacity: 1}, 100);
                                                }, 100 * index, this);
                                            });
                                        }
                                    });
                            }, 400);

                            s.autoCompleteValue = lastRequest = '';
                            s.autoCompleteResult = {};
                        }

                        s.closeSearchSection = function () {
                            if (!s.allowClosing /*|| $location.path().indexOf('/search') != -1*/) {
                                return;
                            }
                            s.closeSearchForce();
                        }

                        s.allowClosingLeave = function () {
                            $('#autoComplete').focus();
                            s.allowClosing = true;
                        }

                        $(document).ready(function () {
                            $(window).resize(function () {
                                if ($("#searchSection").width() > 150) {
                                    $('#searchSection .autoCompleteCover').width(getAutocompleateWidth());
                                }
                            });
                        });

                        function getAutocompleateWidth() {
                            return ($(document).width() > 1000 ? 680 :
                                    $(document).width() > 1000 ? 530 : 300) -
                                ($(".hi-user").width() * 1.5);
                        }

                        $('#product_search_img').click(function (e) {
                            $('#product_search').css("display", "inline-block");
                            $('#product_search').animate({"width": $('#product_search').width() > 0 ? 0 : "150px"},
                                500, function () {
                                    if ($('#product_search').width() == 0) {
                                        $(this).css("display", "none");
                                    }
                                });
                        });

                        s.searchByCategoryId = function (id, categoryName) {
                            console.log(id);
                            s.categoryFilter = id;
                            s.categoryName = categoryName;
                        }

                    }]
                };
            }])
        .directive('toolTipSearch', ['$templateCache', 'productService', '$location', '$state',
            function ($templateCache) {
                return {
                    restrict: 'A',
                    replace: true,
                    required: "search",
                    template: $templateCache.get('app/partials/toolTipSearch.html'),
                };
            }])
        .directive('mobileSearch', ['$templateCache', 'productService', '$location', '$state',
            function ($templateCache) {
                return {
                    restrict: 'A',
                    replace: true,
                    required: "search",
                    template: $templateCache.get('app/partials/mobileSearch.html'),
                };
            }])
});


/**
 * Created by correnti on 07/12/2015.
 */

define('app/directives/toolTipCart',['./module'], function (directives) {
    'use strict';
    directives.directive('toolTipCart', ['$templateCache', 'orderService', '$location',
        function ($templateCache, orderService, location) {
        return {
            template: $templateCache.get('app/partials/toolTipCart.html'),
            link: function(s) {
                s.checkout = function(event){
                    if(event)
                    {
                        event.stopPropagation();
                    }
                    if(orderService.userIsLogin())
                    {
                        location.path('/orderPayment');
                    }
                    else{
                        location.path('/login');
                    }
                }
            }
        };
    }]);
});


/**
 * Created by kubany on 10/14/2015.
 */
define('app/directives/popularItemsDirective',['./module'], function (directives) {
    'use strict';
    directives.directive('popularItemsDrtv', ['$templateCache', function ($templateCache) {
        return {
            restrict: 'E',
            replace: 'true',
            template: $templateCache.get('app/partials/popular-Items-tpl.html'),
            //templateUrl: 'app/partials/popular-Items-tpl.html',
            scope: {
                popularProducts: '='
            },
            controller: function($scope, $element){
                //$scope.name = $scope.name + "Second ";
            },
            link: function(scope, el, attr) {
                //scope.name = scope.name + "Third ";
                //scope.$watch('popularProducts', function(popularProducts) {
                //    scope.popularProducts = popularProducts;
                //})
            }
        };
    }]);
});
/**
 * Created by kubany on 10/26/2015.
 */
define('app/directives/socialMediaDrtv',['./module'], function (directives) {
    'use strict';
    directives.directive('socialMediaDrtv', ['$templateCache', function ($templateCache) {
        return {
            restrict: 'E',
            replace: 'true',
            template: $templateCache.get('app/partials/social-media-tpl.html'),
            controller: function($scope, $element){

            },
            link: function(scope, el, attr) {

            }
        };
    }]);
});
/**
 * Created by kubany on 10/29/2015.
 */

define('app/directives/categoryTypeProductsDrtv',['./module'], function (directives) {
    'use strict';
    directives.directive('categoryTypeProductsDrtv', ['$filter', '$animate', '$templateCache',
        '$location', function ($filter, $animate, $templateCache, $location) {
            return {
                restrict: 'EA',
                replace: 'true',
                template: $templateCache.get('app/partials/category_type_products_tpl.html'),
                scope: {
                    paramsToPass: '='
                },
                link: function (s, element, attrs) {

                    var slider;
                    s.showClear = false;
                    s.productsInclude = [];
                    s.minPriceToFilter = 0;
                    s.maxPriceToFilter = 0;
                    s.categoriesFilter = s.paramsToPass.categoriesFilter;
                    s.searchResult = s.paramsToPass.searchResult;
                    s.viewAll = s.paramsToPass.viewAll;
                    s.$location = $location;

                    for (var index in s.categoriesFilter) {
                        var category = s.categoriesFilter[index];
                        if (category.checked) {
                            if (s.productsInclude["CATEGORIES"] == undefined) {
                                s.productsInclude["CATEGORIES"] = [];
                            }
                            s.productsInclude["CATEGORIES"].push(category.id);
                        }
                    }

                    s.options = {start: [20, 70], range: {min: 0, max: 100}};

                    s.toggleColorSelectedClass = function (code) {
                        $("#productsColors" + code).toggleClass('colorSelected');
                    };

                    s.toggleFilterSlide = function (id) {
                        $("#" + id).slideToggle();
                    };


                    s.includeProducts = function (attributeVal, attributesName) {

                        if (!attributeVal) return;

                        var location = $.inArray(attributeVal, s.productsInclude[attributesName]);
                        if (location > -1) {
                            s.productsInclude[attributesName].splice(location, 1);
                            if (s.productsInclude[attributesName].length == 0) {
                                delete s.productsInclude[attributesName];
                            }
                        }
                        else {
                            if (s.productsInclude[attributesName] == undefined) {
                                s.productsInclude[attributesName] = [];
                            }
                            s.productsInclude[attributesName].push(attributeVal);
                        }

                        s.showClear =
                            Object.keys(s.productsInclude).length > 0 ||
                            slider.noUiSlider.start != s.minPriceToFilter ||
                            slider.noUiSlider.end != s.maxPriceToFilter;

                        s.productToShow = $filter("productsFilterForCategoriesProduct")
                        ([], s.searchResult, s.minPriceToFilter, s.maxPriceToFilter)

                    }

                    s.clearSelection = function () {

                        for (var key in s.productsInclude) {
                            delete s.productsInclude[key];
                        }

                        $('.option input[type=checkbox]').each(function () {
                            this.checked = false;
                        })

                        $('.option .productColor').removeClass('colorSelected');

                        slider.noUiSlider.set([slider.noUiSlider.start, slider.noUiSlider.end]);

                        s.showClear = false;

                    };

                    s.toggleColapse = function (id) {
                        $('#' + id).siblings('.option').slideToggle(300);
                        $('#' + id).toggleClass('arrowUp');
                    };


                    configSlider();

                    s.productToShow = $filter("productsFilterForCategoriesProduct")([], s.searchResult, s.minPriceToFilter, s.maxPriceToFilter)

                    s.attributesToShow = getAttributesToShow(s.productToShow, s.paramsToPass.attributes.categoriesAttributes);

                    s.productsColors = getColorsInProducts(s.productToShow);


                    function getFormat(categoryId, attributeName) {
                        return "(categoryId_" + categoryId + "-attributeName__" + attributeName + ")";
                    }

                    function getAttributesToShow(productToShow, attrFilter) {

                        /*Build long String to search showInFilter param*/
                        var attributes = [];
                        var attrShowInFilter = "";
                        angular.forEach(attrFilter, function (attr) {
                            if (attr.showInFilter) {
                                attrShowInFilter += getFormat(attr.categoryId, attr.attributeName);
                            }
                        });

                        /*filtering showInFilter param*/
                        for (var index in productToShow) {

                            var prod = productToShow[index];
                            for (var categIndex in prod.attributes) {
                                var categ = prod.attributes[categIndex];
                                if (attrShowInFilter.indexOf(getFormat(prod.categoryId, categ.attributeName)) != -1) {
                                    if (attributes[categ.attributeName] == undefined) {
                                        attributes[categ.attributeName] = [];
                                    }
                                    attributes[categ.attributeName].push(categ.attributeValue)
                                }
                            }
                        }

                        /*filtering repeated parameters*/
                        for (var index in attributes) {
                            attributes[index] = attributes[index].filter(
                                function (val, index, arr) {
                                    return arr.indexOf(val) == index;
                                });
                        }


                        /* Sorting attributes in atrributes by abc */
                        for (var name in attributes) {
                            attributes[name] = Helper.sortArrayByAbc(attributes[name]);
                        }


                        //users


                        /* Builder attributes to show */
                        var attributesToShow = [];
                        for (var name in attributes) {
                            if (Object.keys(attributes[name]).length <= 1) {
                                continue;
                            }
                            attributesToShow.push({
                                name: name,
                                values: []
                            });
                            for (var index in attributes[name]) {
                                attributesToShow[attributesToShow.length - 1].values.push(attributes[name][index]);
                            }
                        }

                        attributesToShow.sort(function (a, b) {
                            if(a.name < b.name) return -1;
                            if(a.name > b.name) return 1;
                            return 0;
                        });

                        return attributesToShow;
                    }


                    function getColorsInProducts(products) {
                        var productsColors = [];
                        angular.forEach(products, function (product) {
                            angular.forEach(product.colors, function (color) {
                                var find = false;
                                angular.forEach(productsColors, function (productColor) {
                                    if (productColor.code == color.code) {
                                        find = true;
                                    }
                                });
                                if (!find) {
                                    productsColors.push(color)
                                }
                            });
                        });

                        return Helper.sortArrayByColorName(productsColors);
                    }


                    function configSlider() {

                        var maxVal;
                        var minVal = 900000;
                        angular.forEach(s.searchResult, function (category) {

                            var products = category.products
                            angular.forEach(products, function (product) {
                                if (product.price < minVal) {
                                    minVal = product.price;
                                    if (!maxVal) {
                                        maxVal = product.price
                                    }
                                }
                                else if (product.price > maxVal) {
                                    maxVal = product.price;
                                }
                            });

                        });

                        s.minPriceToFilter = Math.round(minVal) - 1;
                        s.maxPriceToFilter = Math.round(maxVal || 999999);

                        slider = document.getElementById('slider');
                        var step = s.maxPriceToFilter - s.minPriceToFilter;
                        step = step < 100 ? 2 : 100;
                        noUiSlider.create(slider, {
                            start: [s.minPriceToFilter, s.maxPriceToFilter],
                            connect: true,
                            range: {
                                'min': s.minPriceToFilter,
                                'max': s.maxPriceToFilter,
                            },
                            step: 1, //step < 100 ? 100 : Math.round(step / 100) - 1,
                            margin: step,  //Math.round(step / 100) - 1,
                        });
                        slider.noUiSlider.start = s.minPriceToFilter;
                        slider.noUiSlider.end = s.maxPriceToFilter;

                        slider.noUiSlider.on('update', function (values, handle) {
                            s.$applyAsync(function () {
                                if (handle == '0' && parseInt(values[handle]) != s.maxPriceToFilter) {
                                    s.minPriceToFilter = parseInt(values[handle]);
                                } else if(parseInt(values[1]) != s.minPriceToFilter){
                                    s.maxPriceToFilter = parseInt(values[handle]);
                                }
                                s.showClear =
                                    Object.keys(s.productsInclude).length > 0 ||
                                    slider.noUiSlider.start != s.minPriceToFilter ||
                                    slider.noUiSlider.end != s.maxPriceToFilter;
                            });
                        });
                    }


                }
            };
        }])
});


/**
 * Created by correnti on 15/12/2015.
 */

define('app/directives/scrollToTop',['./module'], function (directives) {
    'use strict';
    directives.directive('scrollToTop', ['$templateCache', function ($templateCache) {
        return {
            restrict: 'E',
            replace: 'true',
            template: $templateCache.get('app/partials/scrollToTop.html'),
            link: function (scope, element, attr) {

                element.bind('click', function () {
                    var _this = this;
                    $('body, html').animate({scrollTop: 0}, 1000, function(){
                    });
                    $(_this).find("p").animate({'opacity' : 0}, 500)
                });

                element.bind('mouseover', function () {
                    $(this).find("p").animate({'opacity' : 1}, 200)
                });
            }
        };
    }]);
});
/**
 * Created by correnti on 18/01/2016.
 */



define('app/directives/Card_Number_4Digits',['./module'], function (directives) {
    'use strict';
    directives.directive('cardNumberFourDigits', function(){
        return{
            restrict: 'A',

            link: function(s, e, a, ctrl){
                if(s.card && s.card.number && s.card.number.length > 0 ){
                    e.addClass('Card_Number_4Digits');
                }
                var input = $(e).find('.inputtext');
                $(input).on({
                    focus: function () {
                        if(e.hasClass('Card_Number_4Digits'))
                        {return;}
                        e.addClass('Card_Number_4Digits');
                    },
                    blur: function(){
                        if($(this).val() != '')
                        {return;}
                        e.removeClass('Card_Number_4Digits');
                    }
                });
            }
        }
    });
});

/**
 * Created by correnti on 19/01/2016.
 */



define('app/directives/icon-phone',['./module'], function (directives) {
    'use strict';
    directives.directive('iconPhone', function(){
        return{
            restrict: 'A',
            replace: true,
            template: "<div><div class='iconPhoneInset'></div></div>",
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconPhone");
            }
        }
    });
});


/**
 * Created by correnti on 19/01/2016.
 */



define('app/directives/icon-user',['./module'], function (directives) {
    'use strict';
    directives.directive('iconUser', function(){
        return{
            restrict: 'A',
            replace: false,
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconUser");
            }
        }
    });
});


/**
 * Created by correnti on 21/01/2016.
 */




define('app/directives/icon-magnifying-glass',['./module'], function (directives) {
    'use strict';
    directives.directive('iconMagnifyingGlass', function(){
        return{
            restrict: 'A',
            replace: false,
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconMagnifyingGlass");
            }
        }
    });
});


/**
 * Created by correnti on 19/01/2016.
 */



define('app/directives/icon-cart',['./module'], function (directives) {
    'use strict';
    directives.directive('iconCart', function(){
        return{
            restrict: 'A',
            replace: false,
            template: "<div class='iconCart'><div class='iconCartHandle'></div><div class='iconCartTop'></div><div class='iconCartBottom'></div><div></div></div>",
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconCart");
            }
        }
    });
});


/**
 * Created by correnti on 21/01/2016.
 */



define('app/directives/icon-home',['./module'], function (directives) {
    'use strict';
    directives.directive('iconHome', function(){
        return{
            restrict: 'A',
            replace: true,
            template: "<div><div class='iconHomeRoof'></div></div>",
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconHome");
            }
        }
    });
});


/**
 * Created by correnti on 21/01/2016.
 */




define('app/directives/icon-x',['./module'], function (directives) {
    'use strict';
    directives.directive('iconX', function(){
        return{
            restrict: 'A',
            replace: false,
            link: function(s, e, a, ctrl){
                e.addClass("iconCss iconX");
            }
        }
    });
});


define('app/directives/icon-help-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconHelpSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-help-svg.html')
        }
    }]);
});
define('app/directives/icon-help-svg-mobile',['./module'], function (directives) {
    'use strict';
    directives.directive('iconHelpSvgMobile', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-help-svg-mobile.html')
        }
    }]);
});
define('app/directives/icon-cart-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconCartSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-cart-svg.html')
        }
    }]);
});
define('app/directives/icon-cart-svg-mobile',['./module'], function (directives) {
    'use strict';
    directives.directive('iconCartSvgMobile', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-cart-svg-mobile.html')
        }
    }]);
});
define('app/directives/icon-user-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconUserSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-user-svg.html')
        }
    }]);
});
define('app/directives/icon-user-svg-mobile',['./module'], function (directives) {
    'use strict';
    directives.directive('iconUserSvgMobile', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-user-svg-mobile.html')
        }
    }]);
});
define('app/directives/icon-search-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconSearchSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-search-svg.html')
        }
    }]);
});
define('app/directives/icon-search-svg-mobile',['./module'], function (directives) {
    'use strict';
    directives.directive('iconSearchSvgMobile', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-search-svg-mobile.html')
        }
    }]);
});
define('app/directives/icon-home-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconHomeSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-home-svg.html')
        }
    }]);
});
define('app/directives/icon-home-svg-mobile',['./module'], function (directives) {
    'use strict';
    directives.directive('iconHomeSvgMobile', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-home-svg-mobile.html')
        }
    }]);
});
define('app/directives/icon-delete-account-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconDeleteAccountSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-delete-account-svg.html')
        }
    }]);
});
define('app/directives/icon-new-delete-button-svg',['./module'], function (directives) {
    'use strict';
    directives.directive('iconNewDeleteButtonSvg', ['$templateCache', function($templateCache){
        return{
            restrict: 'A',
            replace: true,
            template: $templateCache.get('app/partials/icon-new-delete-button-svg.html')
        }
    }]);
});
/**
 * Created by correnti on 04/02/2016.
 */


define('app/directives/virtualFooter',['./module'], function (directives) {
    'use strict';
    directives.directive('virtualFooter', function () {
        return {
            link: function (s, e) {
                e.css({
                    display: 'block',
                    position: 'relative',
                });

                e.attr("id", "virtualFooter")
                $(document).ready(function () {
                    $(window).resize(Helper.footerHandler);
                    setTimeout(Helper.footerHandler(), 100);
                })
            }
        };
    });
});



define('app/directives/check-height',['./module'], function (directives) {
    'use strict';
    directives.directive('checkHeight', ["$window", function ($window) {
        return {
            restrict: 'A',
            controller: function () {
                var ctrl = this;
                var element;
                var dimensions;
                ctrl.setElement = function (_element, _dimensions) {
                    element = _element;
                    dimensions = _dimensions.split("X");
                    ctrl.updateSizes();
                }

                ctrl.updateSizes = function (){
                    var height = $(element).width() / dimensions[0] * dimensions[1];
                    $(element).height(height);
                }
            },
            link: function (s, e, a, ctrl) {
                ctrl.setElement(e, a.checkHeight);
                angular.element($window).bind("resize", function () {
                    ctrl.updateSizes();
                });
                ctrl.updateSizes();
            }
        }
    }]);
});


/**
 * Created by correnti on 07/12/2015.
 */

define('app/directives/orderSearch',['./module'], function (directives) {
    'use strict';

    directives.directive('ordersSearch', ['$templateCache', 'productService', '$location', '$state',
        function ($templateCache, productService, $location, $state) {
            return {
                restrict: 'E',
                template: $templateCache.get('app/partials/orderSearch.html'),
                controller: ['$scope', function (s) {

                    s.autoCompleteValue = '';
                    s.categoryFilter = null;
                    s.categoryName = '';
                    s.allowClosing = true;
                    s.orders = null;
                    s.firstSearchInitiation = true;

                    var lastRequest = '';
                    s.runAutocomplete = function () {
                        lastRequest = s.autoCompleteValue;
                        if (lastRequest == '') {
                            s.autoCompleteResult = {};
                            return;
                        }
                        s.searchOrder(lastRequest);
                    }

                    s.searchOrder = function(word){
                        if((s.myOrdersCtrl.orders.length < 1 && s.orders.length < 1) || word.length < 1) return;
                        if(s.firstSearchInitiation){
                            s.firstSearchInitiation = false;
                            s.orders = angular.copy(s.myOrdersCtrl.orders);
                        }

                        s.myOrdersCtrl.orders = s.orders.filter(function(d){
                            if(d.orderNumber.indexOf(word) != -1)
                                return true;
                            if(d.products.filter(function(dd){if(dd.ProductName.toLowerCase().indexOf(word.toLowerCase()) != -1)return true;}).length > 0)
                                return true;
                        });

                    }

                    s.openSearchOrders = function () {
                        var orders = s.orders;
                        var navsLinks = $("nav ul li a.navLinks");
                        navsLinks.each(function (index) {
                            setTimeout(function (_this) {
                                $(_this).stop().animate({opacity: 0.1}, 500);
                            }, 200 * index, this);
                        });

                        setTimeout(function (navsLinks) {
                            navsLinks.hide();
                            $('#orderSearchSection .autoCompleteCover').stop().animate({
                                width: getAutocompleateWidth() + "px",
                                margin: '0 6px'
                            }, 500).animate({
                                opacity: 1
                            }, 200, function () {
                                $('#orderAutoComplete').focus();
                            });
                            $('#orderSearchSection .autoCompleteCover .iconCss.iconX').fadeIn(300);
                        }, (200 * navsLinks.length), navsLinks);
                    }

                    s.closeSearchForce = function () {
                        $('#orderSearchSection .autoCompleteCover .iconCss.iconX').fadeOut(300);
                        setTimeout(function () {
                            $('#orderSearchSection .autoCompleteCover')
                                .animate({
                                    width: 0 + "px",
                                    opacity: 0.5,
                                    margin: '0 0'
                                }, 500, function () {
                                    if ($location.path() == '/') {
                                        var navsLinks = $("nav ul li a.navLinks");
                                        navsLinks.show();
                                        navsLinks.each(function (index) {
                                            setTimeout(function (_this) {
                                                $(_this).stop().animate({opacity: 1}, 100);
                                            }, 100 * index, this);
                                        });
                                    }
                                });
                        }, 400);

                        s.autoCompleteValue = lastRequest = '';
                        s.autoCompleteResult = {};
                        if(s.orders != null){
                            s.myOrdersCtrl.orders = angular.copy(s.orders);
                            s.orders = null;
                        }

                        s.firstSearchInitiation = true;
                    }

                    s.closeSearchSection = function () {
                        if (!s.allowClosing || (s.autoCompleteValue != null && s.autoCompleteValue.length > 0)/*|| $location.path().indexOf('/search') != -1*/) {
                            return;
                        }
                        s.closeSearchForce();
                    }

                    s.allowClosingLeave = function () {
                        $('#orderAutoComplete').focus();
                        s.allowClosing = true;
                    }

                    $(document).ready(function () {
                        $(window).resize(function () {
                            if ($("#orderSearchSection").width() > 150) {
                                $('#orderSearchSection .autoCompleteCover').width(getAutocompleateWidth());
                            }
                        });
                    });

                    function getAutocompleateWidth() {
                        return ($(document).width() > 1000 ? 680 :
                                $(document).width() > 1000 ? 530 : 300) -
                            ($(".hi-user").width() * 1.5);
                    }

                    $('#product_search_img').click(function (e) {
                        $('#product_search').css("display", "inline-block");
                        $('#product_search').animate({"width": $('#product_search').width() > 0 ? 0 : "150px"},
                            500, function () {
                                if ($('#product_search').width() == 0) {
                                    $(this).css("display", "none");
                                }
                            });
                    });

                    s.searchByCategoryId = function (id, categoryName) {
                        console.log(id);
                        s.categoryFilter = id;
                        s.categoryName = categoryName;
                    }

                }]
            };
        }]);
});


/**
 * Created by kubany on 3/15/2017.
 */
define('app/directives/confirmation-modal-drtv',['./module'], function (directives) {
    'use strict';
    directives.directive('confirmationModal', ['$templateCache', 'ModalService', '$compile', function ($templateCache, ModalService, $compile) {
        return {
            restrict: 'E',
            scope:{
                btn1Cb:'&',
                btn2Cb:'&',
            },
            template: $templateCache.get('app/partials/confirmation-modal.html'),
            controllerAs: 'confCtrl',
            controller: ["$scope", function (s) {
                this.btnClicked = function ($event) {
                    var btnNum = $event.currentTarget.id.split("confBtn_")[1];
                    btnNum == "1" ? s.btn1Cb() : s.btn2Cb();
                };
            }],
            link: function (scope, element, attrs) {
                // ensure id attribute exists
                if (!attrs.id) {
                    console.error('modal must have an id');
                    return;
                }

                if(attrs.numofbuttons){
                    var numOfBtns = !isNaN(attrs.numofbuttons) ? parseInt(attrs.numofbuttons) : 0;
                    for(var i = 0; i < numOfBtns; i++){
                        var btnTxtBold = attrs["btn" + (i+1) +"Txt"].split(',')[0];
                        var btnTxtRegular = attrs["btn" + (i+1) +"Txt"].split(',')[1];
                        var button = $("<button type='button' class='conf-modal-btn' role='button' data-ng-click='confCtrl.btnClicked($event)' id='confBtn_" +  (i+1) +"' role=''>" +
                            "<label class='conf-btn-bold'>"+ btnTxtBold +"</label><label class='conf-btn-regular'>," + btnTxtRegular + "</label> </button>")
                        $compile(button)(scope);
                        $('.conf-modal-btn-container').append(button);
                    }
                }
                // move element to bottom of page (just before </body>) so it can be displayed above everything else
                //element.appendTo('body');

                // close modal on background click
                $(element).on('click', function (e) {
                    var target = $(e.target);
                    if (!target.closest('.modal-body').length && !target.attr("type")) {
                        scope.$evalAsync(Close);
                    }
                });

                // add self (this modal instance) to the modal service so it's accessible from controllers
                var modal = {
                    id: attrs.id,
                    open: Open,
                    close: Close
                };
                ModalService.Add(modal);

                // remove self from modal service when directive is destroyed
                scope.$on('$destroy', function() {
                    ModalService.Remove(attrs.id);
                    element.remove();
                });

                // open modal
                function Open() {
                    $(element).show();
                    //$('body').addClass('modal-open');
                }

                // close modal
                function Close() {
                    $(element).hide();
                    //$('body').removeClass('modal-open');
                }

                function setBtnsCb(cbs){
                    for(var i = 0; i < cbs.length; i++){

                    }
                }
            }
        };
    }]);
});
/**
 * Created by kubany on 10/14/2015.
 */


define('app/directives/index',[
    './e-sec-plus-minus',
    './info-demo',
    './a-sec-src',
    './a-sec-back-img',
    './validateInput',
    './toolTipSearch',
    './toolTipCart',
    './popularItemsDirective',
    './socialMediaDrtv',
    './categoryTypeProductsDrtv',
    './scrollToTop',
    './Card_Number_4Digits',
    './icon-phone',
    './icon-user',
    './icon-magnifying-glass',
    './icon-cart',
    './icon-home',
    './icon-x',
    './icon-help-svg',
    './icon-help-svg-mobile',
    './icon-cart-svg',
    './icon-cart-svg-mobile',
    './icon-user-svg',
    './icon-user-svg-mobile',
    './icon-search-svg',
    './icon-search-svg-mobile',
    './icon-home-svg',
    './icon-home-svg-mobile',
    './icon-delete-account-svg',
    './icon-new-delete-button-svg',
    './virtualFooter',
    './check-height',
    './orderSearch',
    './confirmation-modal-drtv'
], function() {});
/**
 * Created by kubany on 10/14/2015.
 */
define('app/user/directives/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.user.directives', []);
});
define('app/user/directives/version-content',['./module'], function (directives) {
    'use strict';
    directives.directive('versionContent', ['$templateCache', 'versionService', function ($templateCache) {
        var contentUrl;
        return {
            link: function(scope) {
                scope.contentUrl = 'app/user/views/version-page-' + scope.release_version_only + '.html';
            },
            template: '<div ng-include="contentUrl"></div>'
        };
    }
    ]);
});
/**
 * Created by kubany on 10/29/2015.
 */
define('app/user/directives/loginModal',['./module'], function (directives) {
    'use strict';
    directives.directive('loginModal', ['$rootScope', 'userService', 'ipCookie',
        '$templateCache', '$location', '$timeout', 'productsCartService', '$filter', 'Analytics',
        function ($rootScope, userService, $cookie, $templateCache, $location,
                  $timeout, productsCartService, $filter, Analytics) {
            return {
                restrict: 'E',
                replace: false,
                template: $templateCache.get('app/user/partials/login.html'),
                controller: function ($scope) {


                    /* VARIABLES */
                    $scope.rememberMe = false;
                    //$scope.message = "";
                    $scope.message = {text: $filter('translate')('OR'), _class: ''};
                    var _____errorMessage;

                    $scope.setErrorMessage = function(reason) {
                        $timeout.cancel(_____errorMessage);
                        _____errorMessage = $timeout(function () {
                            $scope.message.text = $filter('translate')('OR');
                            $scope.message._class = "";
                            $rootScope.rsMessage.text = "";
                            $rootScope.rsMessage._class = "";
                        }, 10000);
                        $timeout(function () {
                            $scope.message = { text: reason, _class: "invalid" }
                            $rootScope.rsMessage = { text: reason, _class: "invalid" }
                        }, 0);
                    }

                    /*================================ END VARIABLES ======================================*/

                    /* Sign user in */
                    $scope.signIn = function (user, rememberMe) {

                        var userBlocked = $cookie(user.loginUser);
                        if (userBlocked) {
                            var rest = userBlocked.dateUntil - userBlocked.dateFrom;
                            var date = new Date();
                            var millisecondsLess = userBlocked.dateUntil - new Date(date.getTime() - new Date(rest)).getTime();

                            $scope.setErrorMessage(userBlocked.reason);
                            if (millisecondsLess < 0) {
                                $cookie.remove(user.loginUser);
                            }
                            else {
                                return user;
                            }
                        }

                        userService.login(user).then(function (response) {

                            if (response.userId != -1 && response.success) {

                                Analytics.trackEvent('Account', 'signIn', user);
                                if (response.userId === undefined) {
                                    $scope.setErrorMessage(response.reason);
                                    return user;
                                }

                                userCookie.fillParams(user.loginUser, user.loginPassword, user.email, response);
                                $rootScope.userCookie = userCookie;
                                var userKeyTrimmed = userCookie.getKey(userCookie).replace(/[^a-zA-Z ]/g, "");

                                if (rememberMe) {
                                    $cookie(userKeyTrimmed, userCookie);
                                    $cookie('lastLogin', userKeyTrimmed);
                                    var userInfoString = JSON.stringify(userCookie);
                                    localStorage.setItem('rememberMe', userInfoString);
                                    $scope.refreshTimeOut();
                                }
                                else {
                                    $cookie.remove("userCookie" + user.email);
                                    localStorage.removeItem('rememberMe');
                                }

                                productsCartService.joinCartProducts().then(function (cart) {
                                    $scope.cart = cart;
                                },function (error) {
                                    userService.singOut().then(function () {
                                        $cookie.remove('lastLogin');
                                        $rootScope.userCookie = undefined;
                                        $scope.loginUser = {email: '', loginPassword: '', loginUser: '',}

                                        // productsCartService.loadCartProducts().then(function (cart) {
                                        //     $scope.cart = cart;
                                        // });
                                        $(".mini-title").css("display", "none");
                                        $(".mini-title-help").css("display", "none");
                                    });
                                });

                                if ($location.path() == '/register') {
                                    $location.path('/')
                                }

                                wellcome();
                            }
                            else {
                                if (response.reason.toLowerCase().indexOf('blocked') != -1) {

                                    userService.getConfiguration().then(function(conf){
                                       var now = new Date();
                                        userBlocked = {
                                            dateFrom: now.getTime(),
                                            dateUntil: now.getTime() + (conf.loginBlockingIntervalInSeconds * 1000),
                                            reason : response.reason,
                                        }
                                        $cookie(user.loginUser, userBlocked, {
                                            expirationUnit: 'milliseconds', expires: userBlocked.dateUntil - userBlocked.dateFrom,
                                        });

                                    });
                                }
                                $scope.setErrorMessage(response.reason);
                            }
                            return user;
                        }, function(){
                            $scope.setErrorMessage($filter('translate')('login_faild'));
                        });
                    }
                    /*=============================== end Sign in ===============================*/


                    /* increment wrong user login  */
                    var incrementLogins = function () {
                        var test = $cookie("loginsCounter");
                        var loginsCounter = test === undefined ? -1 : test;
                        return function () {
                            if (loginsCounter == -1) {
                                var test = $cookie("loginsCounter");
                                if (test === undefined) {
                                    test = 0;
                                }

                                loginsCounter = test;
                            }
                            var count = ++loginsCounter;
                            $cookie("loginsCounter", count, {expires: 365});
                            return count;
                        }
                    }();
                    /*=============================== end increment logins ===============================*/


                    /* create to user new account in application */
                    $scope.createNewAccount = function (user) {
                        wellcome();
                        $location.path('register');
                    }
                    /*================ end create to user new account in application  ========================*/

                    /* go to about page */
                    $scope.openAboutPage = function (user) {
                        wellcome();
                        $location.path('about');
                    }
                    /*================ end go to about page  ========================*/

                    $scope.forgotPassword = function () {
                        console.log("forgot Password not done yet!");
                        //$location.path('404');
                    }


                    $scope.singWithFacebook = function (user) {
                        console.log("Sing With Facebook not done yet!");
                        userService.facebookLogin().then(function(success){

                        }, function (error){
                            $scope.setErrorMessage(error.data.reason);
                        } );
                    }

                }
            };
        }
    ]);
});


function wellcome() {
    $(".login").css("opacity", "0.2")
    $(".PopUp > div:nth-child(1)").animate({"top": "-150%"}, 600, function () {

        $("#mobile-section").css("left", "-" + $("#mobile-section").css("width"));
        $(".PopUp").fadeOut(100);
        $("body").css("overflow-y", "scroll")
        $(".login").css("opacity", "1");
    });
}
;
/**
 * Created by kubany on 10/14/2015.
 */


define('app/user/directives/index',[
    './version-content',
    './loginModal'
], function() {});
/**
 * Created by kubany on 10/14/2015.
 */

define('app/order/directives/module',['angular'], function (angular) {
    'use strict';
    return angular.module('aos.order.directives', []);
});
/**
 * Created by correnti on 03/01/2016.
 */

define('app/order/directives/UserNotLogin',['./module'], function (directives) {
    'use strict';
    directives.directive('userNotLogin', ['$templateCache', function($templateCache){
        return {
            replace: true,
            template: $templateCache.get('app/order/partials/user-not-login.html'),
        }
    }]);
});



/**
 * Created by correnti on 03/01/2016.
 */


define('app/order/directives/UserAreLogin',['./module'], function (directives) {
    'use strict';
    directives.directive('userAreLogin', ['$rootScope', '$templateCache', 'orderService',
        'registerService', '$timeout', 'accountService', 'Analytics',
        function (rs, $templateCache, orderService, registerService, $timeout, accountService, Analytics) {
            return {
                replace: true,
                template: $templateCache.get('app/order/partials/user-are-login.html'),
                link: {
                    pre: function (s) {
                        s.userDetailsEditMode = false;
                        s.invalidUser = true;
                        s.validSecValidate = function (valid) {
                            s.invalidUser = s.userDetailsEditMode = !valid;
                        }
                        $("#payNowSPErrorLabel").html("");
                        $("#payNowMCErrorLabelExpended").html("");
                    },
                    post: function (s) {

                        var alreadyHaveMasterCreditCart = s.card.number.length > 0;
                        var alreadyHaveSafePayCart = s.savePay.username.length > 0;

                        s.firstTag = true;
                        s.imgRadioButton = s.accountDetails.defaultPaymentMethodId + "" == "20" ? 2
                            : s.savePay.username.length > 0 ? 1
                            : s.card.number.length > 0 ? 2 : 1;

                        s.countries = null;
                        registerService.getAllCountries().then(function (countries) {
                            for (var i  in countries) {
                                if (countries[i].id == s.user.countryId) {
                                    s.country = countries[i];
                                    break;
                                }
                            }
                            s.countries = countries;
                        });

                        s.backToMainShippingDetails = function () {
                            if (s.invalidUser) {
                                return;
                            }
                            s.userDetailsEditMode = false;
                        }

                        s.accountUpdate = function () {

                            s.user.countryId = s.country.name + "," + s.country.isoName;
                            s.user.country = s.country.isoName;
                            if (s.agree_Agreement) {
                                orderService.accountUpdate(s.user).then(function (res) {
                                    UpdateShippingCost();
                                });
                            }
                            else {
                                UpdateShippingCost();
                            }
                        }

                        function UpdateShippingCost() {
                            orderService.getShippingCost(s.user).then(function (shipping) {
                                s.shipping = shipping;
                                $timeout(function () {
                                    s.invalidUser = false;
                                    s.userDetailsEditMode = false;
                                    s.firstTag = false;
                                }, 100)
                            });
                        }


                        s.setDefaultCard = true;
                        s.years = [];
                        var now = new Date();
                        for (var i = 0; i < 10; i++) {
                            s.years.push((now.getFullYear() + i) + "");
                        }



                        s.calculateMonths = function (value) {
                            var arr = Helper.getMonthInYearForMasterCredit(value, s.month);
                            if (arr != null) {
                                s.month = arr;
                                if(s.card && s.card.expirationDate && s.card.expirationDate.month) {
                                    for (var i = 0; i < arr.length; i++) {
                                        if (arr[i] == s.card.expirationDate.month) {
                                            return;
                                        }
                                    }
                                    s.card.expirationDate.month = arr[0];
                                }
                            }
                        };

                        s.month = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
                        if(!(s.card && s.card.expirationDate && s.card.expirationDate.year)){
                            s.card.expirationDate.month = "12"//BUG 166001
                            s.card.expirationDate.year = "2027"//BUG 166001
                            s.calculateMonths(s.card.expirationDate.year)
                        }

                        if (now.getFullYear() == s.card.expirationDate.year) {
                            var currentMonth = now.getMonth() + 1;
                            // s.month = [];
                            // for(var i = currentMonth; i <= 12; i++){
                            //     s.month.push((i < 10 ? "0" + i : "" + i))
                            // }
                        }


                        var safePayBussy = false;
                        var tempPass;

                        function safePay(TransPaymentMethod, accountNumber) {

                            if (safePayBussy) {
                                return;
                            }
                            safePayBussy = true;

                            if (s.savePay && s.savePay.password.length == 12) {
                                if (s.$parent.secretPassword.indexOf(s.savePay.password) != -1) {
                                    tempPass = s.savePay.password;
                                    s.savePay.password = s.$parent.secretPassword;
                                }
                            }
                            orderService.SafePay(s.user, s.savePay, s.card, s.shipping, s.cart, accountNumber, TransPaymentMethod)
                                .then(function (res) {

                                    Analytics.trackEvent('Order', 'paymentCompleted', res);
                                        if (res.success) {
                                            $("#payNowSPErrorLabel").html("");
                                            var warrantyResponse = res.warrantyNumber ? JSON.parse(res.warrantyNumber) : null;
                                            rs.$broadcast('updatePaymentEnd', {
                                                paymentEnd: true,
                                                orderNumber: res.orderNumber,
                                                trackingNumber: res.paymentConfirmationNumber,
                                                cardNumber: +s.card.number + '',
                                                TransPaymentMethod: TransPaymentMethod,
                                                hasWarranty: res.hasWarranty ? true : false,
                                                warrantyNumber : warrantyResponse && warrantyResponse.WarrantyID != null ? warrantyResponse.WarrantyID : "0"
                                            });
                                            Helper.scrollPageUp();
                                            safePayBussy = false;
                                            return;
                                        }
                                        safePayBussy = false;
                                        s.paymentEnd = false;

                                    }, function (err) {
                                        console.log(err);
                                        safePayBussy = false;
                                        s.paymentEnd = false;
                                        var errorObj = JSON.parse(err);
                                        if(errorObj && errorObj.data && errorObj.data.reason){

                                                //$("#payNowMCErrorLabel").html(errorObj.data.reason);
                                                //$("#payNowMCErrorLabelExpended").html(errorObj.data.reason);
                                                $("#payNowSPErrorLabel").html(errorObj.data.reason);
                                        }
                                    }
                                );

                            if (tempPass) {
                                s.savePay.password = tempPass;
                            }
                        }


                        s.payNow_SafePay = function () {
                            if (s.saveSafePay) {
                                if (!alreadyHaveSafePayCart) {
                                    accountService.addSafePayMethod(s.savePay)
                                }
                                else {
                                    accountService.updateSafePayMethod(s.savePay)
                                }
                            }
                            var TransPaymentMethod = "SafePay";
                            var accountNumber = "843200971";
                            safePay(TransPaymentMethod, accountNumber);

                        }


                        s.payNow_masterCredit = function () {
                            if (s.saveMasterCredit) {
                                s.card.number = s.card.number.replace(/\s/g,'');
                                if (!alreadyHaveMasterCreditCart) {
                                    accountService.addMasterCreditMethod(s.card).then(function(success){
                                        s.doPayment();
                                    }, function(error){
                                        $("#payNowMCErrorLabelExpended").html(error);
                                        $("#payNowMCErrorLabel").html(error);
                                    })
                                }
                                else {
                                    accountService.updateMasterCreditMethod(s.card).then(function(success){
                                        s.doPayment();

                                    }, function(error){
                                        $("#payNowMCErrorLabelExpended").html(error);
                                        $("#payNowMCErrorLabel").html(error);
                                    });
                                }
                            }

                        };

                        s.doPayment = function(TransPaymentMethod, accountNumber){
                            var TransPaymentMethod = "MasterCredit";
                            var accountNumber = "112987298763";
                            safePay(TransPaymentMethod, accountNumber);
                        };

                        s.payNow_manual = function () {
                            s.payNow_masterCredit()
                        }

                        s.shippingDetails_next = function () {
                            s.firstTag = false;
                            s.showMasterCart = s.noCards || (s.card && s.card.cartExpired);
                        }

                        s.imgRadioButtonClicked = function (num) {
                            s.imgRadioButton = num;
                            s.showMasterCart = s.noCards || (s.card && s.card.cartExpired);
                            $("#payNowSPErrorLabel").html("");
                            $("#payNowMCErrorLabel").html("");
                            $("#payNowMCErrorLabelExpended").html("");
                        }

                        s.paymentMethod_edit = function () {
                            s.noCards = true;
                        }

                        s.Back_to_shipping_details = function () {
                            s.firstTag = true;
                            s.showMasterCart = s.noCards;
                        }

                        s.toggleShowMasterCart = function(){
                            s.showMasterCart = !s.showMasterCart;
                        }

                        s.setUserDetailsEditMode = function(){
                            s.userDetailsEditMode = true;
                        }
                    }
                }
            }
        }]);
});


/**
 * Created by correnti on 09/01/2016.
 */


define('app/order/directives/orderPaymentSuccess',['./module'], function (directives) {
    'use strict';
    directives.directive('orderPaymentSuccess', ['$templateCache', function($templateCache){
        return {
            replace: true,
            template: $templateCache.get('app/order/partials/order-payment-success.html'),
        }
    }]);
});



/**
 * Created by kubany on 10/14/2015.
 */


define('app/order/directives/index',[
    './UserNotLogin',
    './UserAreLogin',
    './orderPaymentSuccess'
], function() { });
/**
 * Created by kubany on 10/14/2015.
 */


define('app/account/directives/index',[
//    './UserNotLogin',
//    './UserAreLogin',
//    './orderPaymentSuccess'
], function() { });
///**
// * Created by correnti on 19/05/2016.
// */
//

define('app/SECORRENTI/sec-input/directives/sec-input-validation',['./../../../directives/module'], function (directives) {
    'use strict';

});


/**
 * Created by correnti on 19/05/2016.
 */



define('app/SECORRENTI/sec-input/index',[
        './directives/sec-input-validation',

    ],
    function() {});
                        define('app/templates/module',["angular"], function (angular) {                            "use strict";                            var templates = angular.module("aos.templates", []);                            templates.run(function($templateCache) {                              'use strict';

  $templateCache.put('app/partials/category_type_products_tpl.html',
    "<div>\n" +
    "\n" +
    "    <div class=\"cell categoryLeft\">\n" +
    "        <p class=\"filterCount roboto-light\">\n" +
    "            <a class=\"titleItemsCount\">\n" +
    "                {{([] | productsFilterForCategoriesProduct:searchResult:minPriceToFilter:maxPriceToFilter:productsInclude).length}} {{ 'ITEMS' | translate }}\n" +
    "            </a>\n" +
    "            <span data-ng-click=\"toggleFilterSlide('mobileSlide')\">\n" +
    "                <img src=\"../../css/images/Filter.png\" alt=\"filter\"/>\n" +
    "                {{ 'Filter' | translate }}\n" +
    "                ({{([] | productsFilterForCategoriesProduct:searchResult:minPriceToFilter:maxPriceToFilter:productsInclude).length}})\n" +
    "            </span>\n" +
    "        </p>\n" +
    "\n" +
    "\n" +
    "\n" +
    "        <div id=\"mobileSlide\">\n" +
    "            <label class=\"roboto-regular\">{{ 'FILTER_BY' | translate }}\n" +
    "                <label class=\"roboto-regular clear\" ng-click=\"clearSelection()\" translate=\"Clear\"\n" +
    "                       ng-show=\"showClear\"></label>\n" +
    "            </label>\n" +
    "            <ul>\n" +
    "                <!--- categories filter Section -->\n" +
    "                <li ng-if=\"categoriesFilter != null\">\n" +
    "                    <h4 class=\"accordion roboto-regular arrowDown arrowUp\"\n" +
    "                        id=\"accordionCategories\"\n" +
    "                        ng-click=\"toggleColapse('accordionCategories')\"\n" +
    "                        translate=\"CATEGORIES\">\n" +
    "                    </h4>\n" +
    "                    <div class=\"option\" style=\"display: block\">\n" +
    "                        <div ng-repeat=\"categ in categoriesFilter\">\n" +
    "                            <div class=\"fill\">\n" +
    "                                <input name=\"category\" type=\"checkbox\"\n" +
    "                                       ng-model=\"categ.checked\"\n" +
    "                                       ng-click=\"includeProducts(categ.id, 'CATEGORIES')\">\n" +
    "                                <span class=\"roboto-regular\">{{categ.name}}</span>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </li>\n" +
    "                <!--- END categories filter Section -->\n" +
    "\n" +
    "\n" +
    "                <!--- Price filter Section-->\n" +
    "                <li>\n" +
    "                    <!--data-ng-class=\"{ arrowUp : viewAll }\"-->\n" +
    "                    <h4 href=\"javascript:void(0)\" class=\"accordion roboto-regular arrowDown\"\n" +
    "                        id=\"accordionPrice\"\n" +
    "                        ng-click=\"toggleColapse('accordionPrice')\"\n" +
    "                        translate=\"PRICE\" role=\"link\"></h4>\n" +
    "\n" +
    "                    <!--<div class=\"option\">-->\n" +
    "                    <div class=\"option\" style=\"text-align: center\"\n" +
    "                         data-ng-style=\"viewAll ? {'display': 'block'} : {}\">\n" +
    "                        <div id=\"slider\"></div>\n" +
    "                        <br/>\n" +
    "                        <p class=\"sliderSteps left\">${{ minPriceToFilter | number }}</p>\n" +
    "                        <p class=\"sliderSteps \">${{ maxPriceToFilter | number }}</p>\n" +
    "                    </div>\n" +
    "\n" +
    "                </li>\n" +
    "                <!--- END Price filter Section -->\n" +
    "\n" +
    "                <!--- attributes filter Section -->\n" +
    "                <li ng-repeat=\"attrib in attributesToShow\">\n" +
    "                    <h4 href=\"javascript:void(0)\" class=\"accordion roboto-regular arrowDown\" id=\"accordionAttrib{{$index}}\"\n" +
    "                        ng-click=\"toggleColapse('accordionAttrib' + $index)\" role=\"link\">\n" +
    "                        {{attrib.name}}\n" +
    "                    </h4>\n" +
    "\n" +
    "\n" +
    "                    <div class=\"option\">\n" +
    "                        <div ng-repeat=\"attrVal in attrib.values\">\n" +
    "                            <div class=\"fill iconCss\" >\n" +
    "                                <input name='{{attrib.name.replace(\" \", \"_\").toLowerCase()}}_{{$index}}' type=\"checkbox\" ng-model=\"item.selected\"\n" +
    "                                       ng-click=\"includeProducts(attrVal, attrib.name)\" id='{{attrib.name.replace(\" \", \"_\").toLowerCase()}}_{{$index}}'>\n" +
    "                                <label for='{{attrib.name.replace(\" \", \"_\").toLowerCase()}}_{{$index}}' class=\"roboto-regular\" data-ng-click=\"item.selected = !item.selected; includeProducts(attrVal, attrib.name)\">{{::attrVal}}</label>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </li>\n" +
    "                <!--- END attributes filter Section -->\n" +
    "\n" +
    "                <!--- color filter Section -->\n" +
    "                <li ng-if=\"productsColors.length > 0\">\n" +
    "                    <h4 href=\"javascript:void(0)\" class=\"accordion roboto-regular arrowDown\" id=\"accordionColor\"\n" +
    "                        ng-click=\"toggleColapse('accordionColor')\" translate=\"COLOR\" role=\"link\"></h4>\n" +
    "\n" +
    "                    <div class=\"option\">\n" +
    "                        <div ng-repeat=\"color in productsColors\" class=\"inline-block\">\n" +
    "                            <a title=\"{{color.name}}\" class=\"productColor \" id=\"productsColors{{color.code}}\"\n" +
    "                               ng-click=\"includeProducts(color, 'COLOR'); toggleColorSelectedClass(color.code)\"\n" +
    "                               ng-style=\" color.code == 'FFFFFF' ?\n" +
    "                              {'backgroundColor': '#' + color.code, 'border': 'solid 1px #9d9d9d' } :\n" +
    "                              {'backgroundColor': '#' + color.code, 'border': 'solid 1px transparent'}\">\n" +
    "                                <!--- <label></label> -->\n" +
    "                            </a>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                </li>\n" +
    "                <!--- END color filter Section -->\n" +
    "            </ul>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"cell categoryRight\" data-ng-show=\"([] | productsFilterForCategoriesProduct:searchResult:minPriceToFilter:maxPriceToFilter:productsInclude).length != 0\">\n" +
    "        <ul>\n" +
    "            <li ng-repeat=\"product in [] | productsFilterForCategoriesProduct:searchResult:minPriceToFilter:maxPriceToFilter:productsInclude\"\n" +
    "                ng-click=\"$location.path('/product/' + product.productId)\">\n" +
    "                <div class=\"soulOut\" data-ng-show=\"product.productStatus == 'OutOfStock'\">\n" +
    "                    <span class=\"roboto-medium\" translate=\"SOUL_OUT\"></span>\n" +
    "                </div>\n" +
    "                <div class=\"AddToCard\"\n" +
    "                     data-ng-class=\"{ outOfStock : product.productStatus == 'OutOfStock' } \">\n" +
    "                    <label translate=\"SHOP_NOW\"></label>\n" +
    "                    <div icon-cart-svg style=\"width: 18px; height: 18px; \"></div>\n" +
    "                </div>\n" +
    "                <img id=\"{{product.productId}}\" alt=\"\" class=\"imgProduct\"\n" +
    "                     data-ng-class=\"{ outOfStock : product.productStatus == 'OutOfStock' } \"\n" +
    "                     data-ng-src=\"/catalog/fetchImage?image_id={{product.imageUrl}}\">\n" +
    "                <p><a class=\"productName\">{{product.productName}}</a></p>\n" +
    "                <p><a class=\"productPrice\">{{product.price | currency:\"$\"}} </a></p>\n" +
    "            </li>\n" +
    "        </ul>\n" +
    "    </div>\n" +
    "    <div class=\"cell categoryRight textAlignCenter\" data-ng-show=\"([] | productsFilterForCategoriesProduct:searchResult:minPriceToFilter:maxPriceToFilter:productsInclude).length == 0\">\n" +
    "        <label class=\"noProducts roboto-bold \">\n" +
    "            <span translate=\"No_results\"></span>\n" +
    "        </label>\n" +
    "    </div>\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/confirmation-modal.html',
    "<div class=\"modal-content\">\n" +
    "    <div class=\"closeBtn conf-close-btn\"></div>\n" +
    "    <div class=\"confirmation-modal-content\">\n" +
    "        <label class=\"conf-large-thin\">{{'ARE_U_SURE' | translate}}</label>\n" +
    "        <label class=\"conf-large-regular\">{{'CANCEL_YOUR_ORDER' | translate}}</label>\n" +
    "        <div class=\"conf-modal-btn-container\">\n" +
    "\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</div>"
  );


  $templateCache.put('app/partials/e-sec-plus-minus.html',
    "<div class=\"e-sec-plus-minus\">\n" +
    "\n" +
    "    <div class=\"minus\" increment-value-attr=\"-\" ></div>\n" +
    "\n" +
    "    <div>\n" +
    "        <input name=\"quantity\" type=\"text\" ng-model=\"numAttr\" numbers-only />\n" +
    "    </div>\n" +
    "\n" +
    "    <div class=\"plus\" increment-value-attr=\"+\" ></div>\n" +
    "\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/icon-cart-svg-mobile.html',
    "<svg id=\"mobileCart\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "     width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "    <path fill=\"#313131\" d=\"M9,20c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2C11,20.9,10.1,20,9,20z M19,20c-1.1,0-2,0.9-2,2\n" +
    "        c0,1.1,0.9,2,2,2s2-0.9,2-2C21,20.9,20.1,20,19,20z M8.3,15h12.5L24,4H5.5L4.8,1H0v2h3.2l4,16H21v-2H8.8L8.3,15z M6,6h15.3l-2,7\n" +
    "        H7.8L6,6z\"/>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-cart-svg.html',
    "<svg id=\"menuCart\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "     width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "    <path fill=\"#313131\" d=\"M9,20c-1.1,0-2,0.9-2,2c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2C11,20.9,10.1,20,9,20z M19,20c-1.1,0-2,0.9-2,2\n" +
    "        c0,1.1,0.9,2,2,2s2-0.9,2-2C21,20.9,20.1,20,19,20z M8.3,15h12.5L24,4H5.5L4.8,1H0v2h3.2l4,16H21v-2H8.8L8.3,15z M6,6h15.3l-2,7\n" +
    "        H7.8L6,6z\"/>\n" +
    "</svg>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/icon-delete-account-svg.html',
    "\n" +
    "<svg id=\"iconDeleteAccountSvg\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "\t viewBox=\"0 0 18 18\" style=\"enable-background:new 0 0 18 18;\" xml:space=\"preserve\">\n" +
    "<style type=\"text/css\">\n" +
    "\t.st0{fill:#313131;}\n" +
    "    .st1{fill:none;stroke:#313131;stroke-width:2%;stroke-miterlimit:10;}\n" +
    "</style>\n" +
    "\n" +
    "<path class=\"st0\" d=\"M6.8,0.4c-2.3,0-4.2,2.1-4.2,4.8c0,2.7,1.8,4.8,4.2,4.8C9.1,10,11,7.8,11,5.2S9.1,0.4,6.8,0.4z M6.8,8.1\n" +
    "\tc-1.3,0-2.3-1.3-2.3-2.9c0-1.6,1-2.9,2.3-2.9c1.3,0,2.3,1.3,2.3,2.9C9.1,6.8,8,8.1,6.8,8.1z\"/>\n" +
    "<path class=\"st0\" d=\"M9.1,15v1.9c-0.2,0-0.4,0-0.5,0H5.9c-2.1,0-3.8,0-4.9-1.1c-0.7-0.7-1-1.7-1-3c0-1,0.3-1.8,1.1-2.7\n" +
    "\tC1.4,9.8,2,9.7,2.4,10.1c0.2,0.1,0.3,0.4,0.3,0.6c0,0.2-0.1,0.5-0.2,0.7c-0.4,0.5-0.6,0.9-0.6,1.5c0,0.8,0.2,1.4,0.5,1.7\n" +
    "\tc0.5,0.5,1.8,0.5,3.5,0.5h1.8C8.2,15,8.6,15,9.1,15z\"/>\n" +
    "\n" +
    "<line class=\"st1\" x1=\"11.6\" y1=\"10.5\" x2=\"17.4\" y2=\"16.2\"/>\n" +
    "<line class=\"st1\" x1=\"17.4\" y1=\"10.5\" x2=\"11.6\" y2=\"16.2\"/>\n" +
    "</svg>\n"
  );


  $templateCache.put('app/partials/icon-help-svg-mobile.html',
    "<svg id=\"mobileHelp\" version=\"1.1\"\n" +
    "     xmlns=\"http://www.w3.org/2000/svg\"\n" +
    "     xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n" +
    "     x=\"0px\"\n" +
    "     y=\"0px\"\n" +
    "     width=\"24px\"\n" +
    "     height=\"24px\"\n" +
    "     viewBox=\"0 0 24 24\"\n" +
    "     enable-background=\"new 0 0 24 24\"\n" +
    "     xml:space=\"preserve\">\n" +
    "    <path fill=\"#313131\" d=\"M11,18 L13,18 L13,16 L11,16 L11,18 Z M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 Z M12,6 C9.79,6 8,7.79 8,10 L10,10 C10,8.9 10.9,8 12,8 C13.1,8 14,8.9 14,10 C14,12 11,11.75 11,15 L13,15 C13,12.75 16,12.5 16,10 C16,7.79 14.21,6 12,6 Z\"></path>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-help-svg.html',
    "<svg id=\"menuHelp\" version=\"1.1\"\n" +
    "     xmlns=\"http://www.w3.org/2000/svg\"\n" +
    "     xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n" +
    "     x=\"0px\"\n" +
    "     y=\"0px\"\n" +
    "     width=\"24px\"\n" +
    "     height=\"24px\"\n" +
    "     viewBox=\"0 0 24 24\"\n" +
    "     enable-background=\"new 0 0 24 24\"\n" +
    "     xml:space=\"preserve\">\n" +
    "    <path fill=\"#313131\" d=\"M11,18 L13,18 L13,16 L11,16 L11,18 Z M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M12,20 C7.59,20 4,16.41 4,12 C4,7.59 7.59,4 12,4 C16.41,4 20,7.59 20,12 C20,16.41 16.41,20 12,20 Z M12,6 C9.79,6 8,7.79 8,10 L10,10 C10,8.9 10.9,8 12,8 C13.1,8 14,8.9 14,10 C14,12 11,11.75 11,15 L13,15 C13,12.75 16,12.5 16,10 C16,7.79 14.21,6 12,6 Z\"></path>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-home-svg-mobile.html',
    "<svg id=\"mobileHome\" version=\"1.1\"\n" +
    "\t xmlns=\"http://www.w3.org/2000/svg\"\n" +
    "\t xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n" +
    "\t x=\"0px\"\n" +
    "\t y=\"0px\"\n" +
    "\t width=\"24px\"\n" +
    "\t height=\"24px\"\n" +
    "\t viewBox=\"0 0 24 24\"\n" +
    "\t enable-background=\"new 0 0 24 24\"\n" +
    "\t xml:space=\"preserve\">\n" +
    "\t<path fill=\"#313131\" d=\"M21,24H3V10l-1.7,1.4L0,9.8L12,0l12,9.8l-1.3,1.5L21,10V24z M16,22h3V8.3l-7-5.7L5,8.3V22h3v-8h8V22z M10,22 h4v-6h-4V22z\"/>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-home-svg.html',
    "<svg id=\"menuHome\" version=\"1.1\"\n" +
    "\t xmlns=\"http://www.w3.org/2000/svg\"\n" +
    "\t xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n" +
    "\t x=\"0px\"\n" +
    "\t y=\"0px\"\n" +
    "\t width=\"24px\"\n" +
    "\t height=\"24px\"\n" +
    "\t viewBox=\"0 0 24 24\"\n" +
    "\t enable-background=\"new 0 0 24 24\"\n" +
    "\t xml:space=\"preserve\">\n" +
    "\t<path fill=\"#313131\" d=\"M21,24H3V10l-1.7,1.4L0,9.8L12,0l12,9.8l-1.3,1.5L21,10V24z M16,22h3V8.3l-7-5.7L5,8.3V22h3v-8h8V22z M10,22 h4v-6h-4V22z\"/>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-search-svg-mobile.html',
    "<svg id=\"mobileSearch\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "\t width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "<path fill=\"#313131\" d=\"M23.7,22l-6.8-5.6c0,0-0.1,0-0.1-0.1c3.1-3.8,2.9-9.4-0.6-12.9c-1.8-1.8-4.2-2.8-6.7-2.8\n" +
    "\tc-2.5,0-4.9,1-6.7,2.8c-3.7,3.7-3.7,9.8,0,13.6c1.8,1.8,4.2,2.8,6.7,2.8c2.3,0,4.4-0.8,6.1-2.2c0,0,0,0.1,0.1,0.1l6.8,5.6\n" +
    "\tc0.2,0.2,0.4,0.3,0.6,0.3c0.2,0,0.4-0.1,0.6-0.3C24.1,22.9,24.1,22.3,23.7,22z M9.5,17.9c-2.1,0-4-0.8-5.5-2.3c-3-3.1-3-8,0-11.1\n" +
    "\tc1.5-1.5,3.4-2.3,5.5-2.3c2.1,0,4,0.8,5.5,2.3c3,3.1,3,8,0,11.1C13.5,17.1,11.6,17.9,9.5,17.9z\"/>\n" +
    "</svg>"
  );


  $templateCache.put('app/partials/icon-search-svg.html',
    "\n" +
    "\n" +
    "<svg id=\"menuSearch\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "\t width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "<path fill=\"#313131\" d=\"M23.7,22l-6.8-5.6c0,0-0.1,0-0.1-0.1c3.1-3.8,2.9-9.4-0.6-12.9c-1.8-1.8-4.2-2.8-6.7-2.8\n" +
    "\tc-2.5,0-4.9,1-6.7,2.8c-3.7,3.7-3.7,9.8,0,13.6c1.8,1.8,4.2,2.8,6.7,2.8c2.3,0,4.4-0.8,6.1-2.2c0,0,0,0.1,0.1,0.1l6.8,5.6\n" +
    "\tc0.2,0.2,0.4,0.3,0.6,0.3c0.2,0,0.4-0.1,0.6-0.3C24.1,22.9,24.1,22.3,23.7,22z M9.5,17.9c-2.1,0-4-0.8-5.5-2.3c-3-3.1-3-8,0-11.1\n" +
    "\tc1.5-1.5,3.4-2.3,5.5-2.3c2.1,0,4,0.8,5.5,2.3c3,3.1,3,8,0,11.1C13.5,17.1,11.6,17.9,9.5,17.9z\"/>\n" +
    "</svg>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/icon-user-svg-mobile.html',
    "<a title=\"{{ 'USER' | translate }}\">\n" +
    "    <svg id=\"mobileUser\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "     width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "        <path fill=\"#313131\" d=\"M12,13.6c3.3,0,5.9-3.1,5.9-6.8C17.9,3.1,15.3,0,12,0C8.7,0,6.1,3.1,6.1,6.8C6.1,10.6,8.7,13.6,12,13.6z\n" +
    "             M12,2.1c2.1,0,3.8,2.1,3.8,4.7c0,2.6-1.7,4.7-3.8,4.7c-2.1,0-3.8-2.1-3.8-4.7C8.2,4.2,9.9,2.1,12,2.1z M20,14.3\n" +
    "            c-0.4-0.4-1.1-0.3-1.5,0.1c-0.4,0.4-0.3,1.1,0.1,1.5c0.6,0.5,1.1,1.8,1.1,2.4c0,1.4-0.3,2.3-0.8,2.8C18,22,16,22,13.3,21.9\n" +
    "            c-0.9,0-1.8,0-2.7,0C8,22,6,22,5.1,21.1c-0.5-0.5-0.8-1.4-0.8-2.8c0-0.9,0.3-1.7,1-2.5c0.4-0.4,0.3-1.1-0.1-1.4\n" +
    "            C4.7,14,4.1,14,3.7,14.5c-1,1.2-1.5,2.4-1.5,3.8c0,1.9,0.5,3.3,1.4,4.2c1.5,1.5,4,1.5,7.1,1.5c0.9,0,1.8,0,2.7,0\n" +
    "            c0.4,0,0.8,0,1.2,0c2.5,0,4.6-0.2,5.9-1.5c0.9-0.9,1.4-2.3,1.4-4.2C21.8,17.2,21.1,15.3,20,14.3z\"/>\n" +
    "    </svg>\n" +
    "</a>"
  );


  $templateCache.put('app/partials/icon-user-svg.html',
    "<a id=\"hrefUserIcon\" title=\"{{ 'USER' | translate }}\">\n" +
    "    <svg id=\"menuUser\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n" +
    "     width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n" +
    "        <path id=\"menuUserSVGPath\" fill=\"#313131\" d=\"M12,13.6c3.3,0,5.9-3.1,5.9-6.8C17.9,3.1,15.3,0,12,0C8.7,0,6.1,3.1,6.1,6.8C6.1,10.6,8.7,13.6,12,13.6z\n" +
    "             M12,2.1c2.1,0,3.8,2.1,3.8,4.7c0,2.6-1.7,4.7-3.8,4.7c-2.1,0-3.8-2.1-3.8-4.7C8.2,4.2,9.9,2.1,12,2.1z M20,14.3\n" +
    "            c-0.4-0.4-1.1-0.3-1.5,0.1c-0.4,0.4-0.3,1.1,0.1,1.5c0.6,0.5,1.1,1.8,1.1,2.4c0,1.4-0.3,2.3-0.8,2.8C18,22,16,22,13.3,21.9\n" +
    "            c-0.9,0-1.8,0-2.7,0C8,22,6,22,5.1,21.1c-0.5-0.5-0.8-1.4-0.8-2.8c0-0.9,0.3-1.7,1-2.5c0.4-0.4,0.3-1.1-0.1-1.4\n" +
    "            C4.7,14,4.1,14,3.7,14.5c-1,1.2-1.5,2.4-1.5,3.8c0,1.9,0.5,3.3,1.4,4.2c1.5,1.5,4,1.5,7.1,1.5c0.9,0,1.8,0,2.7,0\n" +
    "            c0.4,0,0.8,0,1.2,0c2.5,0,4.6-0.2,5.9-1.5c0.9-0.9,1.4-2.3,1.4-4.2C21.8,17.2,21.1,15.3,20,14.3z\"/>\n" +
    "    </svg>\n" +
    "</a>"
  );


  $templateCache.put('app/partials/mobileSearch.html',
    "<div id=\"mobileSearch\" data-ng-cloak>\n" +
    "    <input name=\"mobile_search\" type=\"text\" class=\"roboto-medium\" placeholder=\"{{ 'Search' | translate}}\"\n" +
    "           data-ng-keypress=\"checkEnterKey($event)\"\n" +
    "           data-ng-model=\"autoCompleteValue\"\n" +
    "           data-ng-keyup=\"runAutocomplete()\"\n" +
    "    >\n" +
    "    <div class=\"img\" icon-search-svg data-ng-click=\"goToCategoryPage()\"></div>\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/orderSearch.html',
    "\n" +
    "<div id=\"orderSearchSection\"\n" +
    "     data-ng-mouseenter=\"allowClosing = false\"\n" +
    "     data-ng-mouseleave=\"allowClosingLeave(true)\"\n" +
    "     data-ng-click=\"closeSearchSection($event)\">\n" +
    "\n" +
    "    <div id=\"orderInput\" data-ng-click=\"$event.stopPropagation($event)\">\n" +
    "        <div id=\"orderSearch\">\n" +
    "            <a title=\"{{ 'SEARCH' | translate }}\">\n" +
    "                <div icon-search-svg data-ng-click=\"openSearchOrders($event)\" ></div>\n" +
    "            </a>\n" +
    "            <div class=\"autoCompleteCover\">\n" +
    "                <input id=\"orderAutoComplete\" type=\"text\" class=\"roboto-regular\"\n" +
    "                       placeholder=\"{{'SearchOrder' | translate }}\"\n" +
    "                       data-ng-model=\"autoCompleteValue\"\n" +
    "                       data-ng-keyup=\"runAutocomplete($event)\"\n" +
    "                       data-ng-blur=\"closeSearchSection($event)\">\n" +
    "\n" +
    "                <div data-ng-click=\"closeSearchForce($event)\"  style=\"position: absolute; right: 0; top:0\" >\n" +
    "                    <img src=\"../../css/images/closeDark.png\" style=\"width:20px; height:20px; padding: 12px 0\" >\n" +
    "                </div>\n" +
    "\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/popular-Items-tpl.html',
    "\n" +
    "<!-- POPULAR ITEMS -->\n" +
    "<article>\n" +
    "    <h3 class=\"roboto-regular center\" translate=\"POPULAR_ITEMS\">\n" +
    "        <!-- {{'SPACIAL_OFFER' | translate}} -->\n" +
    "    </h3>\n" +
    "    <div class=\"grid-table\">\n" +
    "        <div ng-repeat=\"product in popularProducts\" ng-if=\"popularProducts.length > 0\">\n" +
    "            <figure>\n" +
    "                <img data-ng-src=\"{{product.imageUrl}}\" alt=\"Special-offer\" >\n" +
    "            </figure>\n" +
    "            <label class=\"shop_now center\">{{product.productName}}</label>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</article>\n" +
    "<!-- end POPULAR ITEMS -->\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/scrollToTop.html',
    "<div id=\"scrollToTop\">\n" +
    "    <img name=\"go_up_btn\" src=\"css/images/GoUp.png\" alt=\"GO UP\"/>\n" +
    "\n" +
    "    <p translate=\"GO_UP\"></p>\n" +
    "</div>"
  );


  $templateCache.put('app/partials/secInput.html',
    "<div>\n" +
    "    <a class=\"must\" ng-show=\"warnings.length > 0 && !noRedStar\">*</a>\n" +
    "\n" +
    "    <label class=\"validate-label\"\n" +
    "           ng-class=\"{ validateInvalid : !textToShow.valid}\"\n" +
    "           ng-click=\"validateLabelClicked(id)\">\n" +
    "        {{textToShow.text}}\n" +
    "    </label>\n" +
    "\n" +
    "    <input type=\"{{inputType}}\" name=\"{{id}}\" autocapitalize=\"off\"\n" +
    "           autocomplete=\"off\" autocorrect=\"off\" class=\"inputtext\"\n" +
    "           data-ng-class=\"{ validateInvalid : !textToShow.valid }\"\n" +
    "           data-ng-hide=\"inputType == 'transclude'\"\n" +
    "           data-ng-model=\"modelAttr\"\n" +
    "           data-ng-focus=\"inputFocus(id)\"\n" +
    "           data-ng-blur=\"inputBlur(id)\"\n" +
    "           data-ng-keyup=\"inputKeyup(id)\"\n" +
    "           id=\"secInput_{{id}}\" />\n" +
    "\n" +
    "    <div ng-transclude data-ng-show=\"inputType == 'transclude'\"></div>\n" +
    "\n" +
    "    <div class=\"validate-info\" ng-show=\"warnings.length > 0 && !doNotShowInfo\">\n" +
    "        <ul>\n" +
    "            <li data-ng-repeat=\"info in warnings\" data-ng-show=\"info.info != '' && info.show\" >\n" +
    "                <a>{{ info.info }}</a>\n" +
    "            </li>\n" +
    "        </ul>\n" +
    "    </div>\n" +
    "\n" +
    "\n" +
    "</div>\n" +
    "\n"
  );


  $templateCache.put('app/partials/secTextarea.html',
    "<div>\n" +
    "    <a class=\"must\" ng-show=\"warnings.length > 0 && !noRedStar\">*</a>\n" +
    "\n" +
    "    <label class=\"validate-label\"\n" +
    "           ng-class=\"{ validateInvalid : !textToShow.valid}\"\n" +
    "           ng-click=\"validateLabelClicked(id)\">\n" +
    "        {{textToShow.text}}\n" +
    "    </label>\n" +
    "    <textarea name=\"{{id}}\" class=\"inputtext\"\n" +
    "           data-ng-class=\"{ validateInvalid : !textToShow.valid }\"\n" +
    "           data-ng-model=\"modelAttr\"\n" +
    "           data-ng-focus=\"inputFocus(id)\"\n" +
    "           data-ng-blur=\"inputBlur(id)\"\n" +
    "           data-ng-keyup=\"inputKeyup(id)\"\n" +
    "           id=\"secInput_{{id}}\" />\n" +
    "\n" +
    "    <div class=\"validate-info\" ng-show=\"warnings.length > 0\">\n" +
    "        <ul>\n" +
    "            <li data-ng-repeat=\"info in warnings\" data-ng-show=\"info.info != '' && info.show\" >\n" +
    "                <a>{{ info.info }}</a>\n" +
    "            </li>\n" +
    "        </ul>\n" +
    "    </div>\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/social-media-tpl.html',
    "\r" +
    "\n" +
    "<footer>\r" +
    "\n" +
    "    <div>\r" +
    "\n" +
    "        <!-- FOLLOW US -->\r" +
    "\n" +
    "        <h3 class=\"roboto-regular center\" translate=\"FOLLOW_US\"></h3>\r" +
    "\n" +
    "        <div id=\"follow\" class=\"center\">\r" +
    "\n" +
    "            <a target=\"_blank\" href=\" https://www.facebook.com/MicroFocus/\">\r" +
    "\n" +
    "                <img name=\"follow_facebook\" src=\"css/images/facebook.png\" alt=\"icon\" data-ng-click=\"linkTo('')\" />\r" +
    "\n" +
    "            </a>\r" +
    "\n" +
    "            <a target=\"_blank\" href=\"https://twitter.com/MicroFocus\">\r" +
    "\n" +
    "                <img name=\"follow_twitter\" src=\"css/images/twitter.png\" alt=\"icon\" />\r" +
    "\n" +
    "            </a>\r" +
    "\n" +
    "            <a target=\"_blank\" href=\"https://www.linkedin.com/company/1024?trk=tyah&trkInfo=clickedVertical%3Ashowcase%2CclickedEntityId%3A1024%2Cidx%3A2-1-2%2CtarId%3A145431482.327%2Ctas%3Ahewlett%20packard%20enterprise%20software\">\r" +
    "\n" +
    "                <img name=\"follow_linkedin\" src=\"css/images/linkedin.png\" alt=\"icon\" />\r" +
    "\n" +
    "            </a>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <label> © Advantage Inc, 2021. Release 3.2 </label>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "</footer>\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n" +
    "\r" +
    "\n"
  );


  $templateCache.put('app/partials/toolTipCart.html',
    "<div>\n" +
    "    <div ng-hide=\"cart.productsInCart.length > 0\" class=\"emptyCart\" data-ng-click=\"redirect('/shoppingCart')\">\n" +
    "        <label class=\"center items roboto-bold\"> {{ 'ITEMS' | translate}}\n" +
    "            <span class=\"roboto-regular\">(0)</span>\n" +
    "        </label>\n" +
    "        <label class=\"center roboto-medium\" translate=\"Your_shopping_cart_is_empty\"></label>\n" +
    "    </div>\n" +
    "    <table ng-show=\"cart.productsInCart.length > 0\"  >\n" +
    "        <tbody >\n" +
    "            <tr ng-repeat=\"product in cart.productsInCart track by $index\" id=\"product{{product.id}}\"\n" +
    "                data-ng-class=\"{ lastProduct : $last }\" >\n" +
    "                <td>\n" +
    "                    <a href=\"#/product/{{product.productId}}?color={{product.color.code}}&quantity={{product.quantity}}&pageState=edit\">\n" +
    "                        <img class=\"imageUrl\" ng-src=\"/catalog/fetchImage?image_id={{product.imageUrl}}\" alt=\"imgProduct\" />\n" +
    "                    </a>\n" +
    "                </td>\n" +
    "                <td>\n" +
    "                    <a href=\"#/product/{{product.productId}}?color={{product.color.code}}&quantity={{product.quantity}}&pageState=edit\">\n" +
    "                        <h3>{{ product.productName  | uppercase | secCatWord:30 }}</h3>\n" +
    "                        <label>{{'QTY' | translate}} {{product.quantity}}</label>\n" +
    "                        <label>{{'Color' | translate }}\n" +
    "                            <span>{{product.color.name}}</span>\n" +
    "                        </label>\n" +
    "                    </a>\n" +
    "                </td>\n" +
    "                <td>\n" +
    "                    <p class=\"price roboto-regular\">{{ product.price * product.quantity | currency:'$' }}</p>\n" +
    "                    <div class=\"closeDiv\" ng-click=\"removeProduct($index, $event)\">\n" +
    "                        <div icon-x class=\"removeProduct\"></div>\n" +
    "                    </div>\n" +
    "                </td>\n" +
    "            </tr>\n" +
    "        </tbody>\n" +
    "        <tfoot  data-ng-click=\"redirect('/shoppingCart')\">\n" +
    "            <tr>\n" +
    "                <td colspan=\"2\">\n" +
    "                    <span class=\"roboto-medium\">{{'TOTAL' | translate}}\n" +
    "                        <label class=\"roboto-regular\">({{cart | productsCartCount}} {{ (cart | productsCartCount) > 1 ? 'Items' : 'Item' | translate}})</label>\n" +
    "                    </span>\n" +
    "                </td>\n" +
    "                <td>\n" +
    "                    <span class=\"roboto-medium cart-total\" >{{cart | productsCartSum | currency:'$'}}</span>\n" +
    "                </td>\n" +
    "            </tr>\n" +
    "            <tr>\n" +
    "                <td colspan=\"3\">\n" +
    "                    <button id=\"checkOutPopUp\" name=\"check_out_btn\" role=\"button\" class=\"roboto-medium\" data-ng-click=\"checkout($event)\">{{'CHECK_OUT' | translate}}  ({{ cart | productsCartSum:shippingCost | currency:'$' }})</button>\n" +
    "                </td>\n" +
    "            </tr>\n" +
    "        </tfoot>\n" +
    "\n" +
    "    </table>\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/partials/toolTipSearch.html',
    "\n" +
    "<div id=\"searchSection\"\n" +
    "     data-ng-mouseenter=\"allowClosing = false\"\n" +
    "     data-ng-mouseleave=\"allowClosingLeave()\"\n" +
    "     data-ng-click=\"closeSearchSection()\">\n" +
    "\n" +
    "    <div id=\"input\" data-ng-click=\"$event.stopPropagation()\">\n" +
    "        <div id=\"search\">\n" +
    "            <a title=\"{{ 'SEARCH' | translate }}\">\n" +
    "                <div icon-search-svg data-ng-click=\"openSearchProducts()\" ></div>\n" +
    "            </a>\n" +
    "            <div class=\"autoCompleteCover\">\n" +
    "                <input id=\"autoComplete\" type=\"text\" class=\"roboto-regular\"\n" +
    "                       placeholder=\"{{'Search' | translate }} AdvantageOnlineShopping.com\"\n" +
    "                       data-ng-keypress=\"checkEnterKey($event)\"\n" +
    "                       data-ng-model=\"autoCompleteValue\"\n" +
    "                       data-ng-keyup=\"runAutocomplete()\"\n" +
    "                       >\n" +
    "\n" +
    "                <div data-ng-click=\"closeSearchForce()\"  style=\"position: absolute; right: 0; top:0\" >\n" +
    "                    <img src=\"../../css/images/closeDark.png\" style=\"width:20px; height:20px; padding: 12px 0\" >\n" +
    "                </div>\n" +
    "\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "    <div id=\"output\" data-ng-show=\"autoCompleteResult.length > 0\" >\n" +
    "        <div class=\"searchPopUp\" data-ng-click=\"$event.stopPropagation()\" >\n" +
    "            <div class=\"categories\">\n" +
    "                <h3 class=\"roboto-medium\" translate=\"CATEGORIES\"\n" +
    "                    data-ng-mouseenter=\"searchByCategoryId(null, '')\">\n" +
    "                </h3>\n" +
    "                <a href=\"#/search/{{categoryFilter}}?viewAll={{autoCompleteValue}}\"\n" +
    "                   data-ng-repeat=\"result in autoCompleteResult\">\n" +
    "                    <label class=\"roboto-light\"\n" +
    "\n" +
    "                           data-ng-mouseenter=\"searchByCategoryId(result.categoryId, result.categoryName)\">\n" +
    "                        {{result.categoryName | lowercase}}\n" +
    "                    </label>\n" +
    "                </a>\n" +
    "            </div>\n" +
    "            <div class=\"top6Products\">\n" +
    "                <h3 class=\"roboto-medium\" >{{ 'TOP' | translate }} {{ 'RESULTS_FOR' | translate }}: \"{{autoCompleteValue}}\"\n" +
    "                    <p style=\"font-size: 11px !important; font-weight: 300 !important;\" > {{ categoryName }} </p>\n" +
    "                </h3>\n" +
    "                <a href=\"#/search/{{categoryFilter}}?viewAll={{autoCompleteValue}}\" translate=\"View_All\"\n" +
    "                   class=\"roboto-medium viewAll\"></a>\n" +
    "                <a class=\"product\" href=\"#/product/{{product.productId}}\"\n" +
    "                   data-ng-click=\"closeSearchSection()\"\n" +
    "                   data-ng-repeat=\"product in [] | filterFullArrayforAutoComplate:autoCompleteResult:categoryFilter\">\n" +
    "                    <img data-ng-src=\"/catalog/fetchImage?image_id={{product.imageUrl}}\" />\n" +
    "                    <p class=\"roboto-regular\">{{product.productName | uppercase}}</p>\n" +
    "                    <span>{{product.price | currency:'$'}}</span>\n" +
    "                </a>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "\n" +
    "    </div>\n" +
    "\n" +
    "\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/user/partials/login.html',
    "<div class=\"PopUp\">\n" +
    "    <div>\n" +
    "\n" +
    "        <div class=\"loader\">\n" +
    "            <div>\n" +
    "                <svg width=\"50\" height=\"50\" viewBox=\"0 0 50 50\" xmlns=\"http://www.w3.org/2000/svg\">\n" +
    "                    <defs>\n" +
    "                        <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\n" +
    "                            <stop stop-color=\"#54B3AD\" stop-opacity=\"0\" offset=\"0%\"/>\n" +
    "                            <stop stop-color=\"#54B3AD\" stop-opacity=\".631\" offset=\"63.146%\"/>\n" +
    "                            <stop stop-color=\"#54B3AD\" offset=\"100%\"/>\n" +
    "                        </linearGradient>\n" +
    "                    </defs>\n" +
    "                    <g fill=\"none\" fill-rule=\"evenodd\">\n" +
    "                        <g transform=\"translate(1 1)\">\n" +
    "                            <path d=\"M36 18c0-9.94-8.06-18-18-18\" id=\"Oval-2\" stroke=\"url(#a)\" stroke-width=\"2\">\n" +
    "                                <animateTransform\n" +
    "                                        attributeName=\"transform\"\n" +
    "                                        type=\"rotate\"\n" +
    "                                        from=\"0 18 18\"\n" +
    "                                        to=\"360 18 18\"\n" +
    "                                        dur=\"0.9s\"\n" +
    "                                        repeatCount=\"indefinite\"/>\n" +
    "                            </path>\n" +
    "                            <circle fill=\"#54B3AD\" cx=\"36\" cy=\"18\" r=\"1\">\n" +
    "                                <animateTransform\n" +
    "                                        attributeName=\"transform\"\n" +
    "                                        type=\"rotate\"\n" +
    "                                        from=\"0 18 18\"\n" +
    "                                        to=\"360 18 18\"\n" +
    "                                        dur=\"0.9s\"\n" +
    "                                        repeatCount=\"indefinite\"/>\n" +
    "                            </circle>\n" +
    "                        </g>\n" +
    "                    </g>\n" +
    "                </svg>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"closeBtn loginPopUpCloseBtn\"></div>\n" +
    "\n" +
    "        <div class=\"login\" ng-controller=\"userController\">\n" +
    "\n" +
    "            <img src=\"../../css/images/logo.png\">\n" +
    "\n" +
    "            <span class=\"facebook\" translate=\"FACEBOOK_SIGN_IN\" data-ng-click=\"singWithFacebook()\"></span>\n" +
    "            <label id=\"signInResultMessage\" class=\"or {{ message._class }} center\">{{message.text}}</label>\n" +
    "\n" +
    "            <sec-form>\n" +
    "\n" +
    "                <sec-view a-hint=\"{{'User_name' | translate}}\"\n" +
    "                          a-do-not-show-info=\"true\"\n" +
    "                          a-star=\"false\"\n" +
    "                          sec-model=\"loginUser.loginUser\"\n" +
    "                          sec-require=\"mainCtrl.getRequire('User_name')\"\n" +
    "                          sec-name=\"username\">\n" +
    "                </sec-view>\n" +
    "\n" +
    "                <sec-view a-hint=\"{{'Password' | translate}}\"\n" +
    "                          a-do-not-show-info=\"true\"\n" +
    "                          a-star=\"false\"\n" +
    "                          a-type=\"password\"\n" +
    "                          sec-model=\"loginUser.loginPassword\"\n" +
    "                          sec-require=\"mainCtrl.getRequire('Password')\"\n" +
    "                          sec-name=\"password\">\n" +
    "                </sec-view>\n" +
    "\n" +
    "                <sec-view a-hint=\"{{'Email' | translate}}\"\n" +
    "                          a-do-not-show-info=\"true\"\n" +
    "                          a-star=\"false\"\n" +
    "                          ng-show=\"mainCtrl.config.emailAddressInLogin\"\n" +
    "                          sec-disable-validation=\"!mainCtrl.config.emailAddressInLogin\"\n" +
    "                          sec-model=\"loginUser.email\"\n" +
    "                          sec-name=\"email\">\n" +
    "                </sec-view>\n" +
    "\n" +
    "\n" +
    "                <div class=\"left option \" style=\"top: 20px\">\n" +
    "                    <input name=\"remember_me\" type=\"checkbox\" ng-model=\"mainCtrl.rememberMe\">\n" +
    "                    <span translate=\"REMEMBER_ME\"></span>\n" +
    "                </div>\n" +
    "\n" +
    "                <sec-sender class=\"roboto-medium\" a-value=\"{{'SIGN_IN' | translate}}\"\n" +
    "                            sec-send=\"signIn(loginUser, mainCtrl.rememberMe)\"></sec-sender>\n" +
    "\n" +
    "\n" +
    "            </sec-form>\n" +
    "\n" +
    "            <a href=\"javascript:void(0)\" role=\"link\" class=\"forgot-Passwowd\" translate=\"FORGOT_PASSWORD\"\n" +
    "                   data-ng-click=\"forgotPassword()\"></a>\n" +
    "            <a href=\"javascript:void(0)\" role=\"link\" class=\"create-new-account\" translate=\"CREATE_NEW_ACCOUNT\"\n" +
    "                      data-ng-click=\"createNewAccount()\"></a>\n" +
    "\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "</div>"
  );


  $templateCache.put('app/order/partials/order-payment-success.html',
    "<div>\n" +
    "\n" +
    "    <h2> <span class=\"roboto-regular\" translate=\"Thank_you_for_buying_with_Advantage\"> </span> </h2>\n" +
    "\n" +
    "    <p class=\"roboto-regular\"> {{ 'Yor_tracking_number_is' | translate }} <label id=\"trackingNumberLabel\">{{ trackingNumber }}</label>\n" +
    "        <span class=\"separator\">|</span>\n" +
    "        {{ 'Your_order_number_is' | translate }} <label id=\"orderNumberLabel\">{{orderNumber}}</label>\n" +
    "        <span class=\"separator\" data-ng-show=\"hasWarranty\">|</span>\n" +
    "        <label data-ng-show=\"hasWarranty\">{{ 'Your_warranty_number_is' | translate }} </label><label data-ng-show=\"hasWarranty\" id=\"warrantyNumber\">{{warrantyNumber}}</label>\n" +
    "    </p>\n" +
    "\n" +
    "    <div>\n" +
    "        <div class=\"seccion borderRight\">\n" +
    "            <span translate=\"Shipping_to\"> </span>\n" +
    "            <div>\n" +
    "                <div class=\"innerSeccion\">\n" +
    "                    <div icon-user ></div>\n" +
    "                    <label>{{user.firstName}} {{user.lastName}}</label>\n" +
    "                </div>\n" +
    "                <div class=\"innerSeccion\">\n" +
    "                    <div icon-home ></div>\n" +
    "                    <label>{{ user.address }}</label>\n" +
    "                    <label>{{ user.cityName }}</label>\n" +
    "                    <label>{{ user.stateProvince }}</label>\n" +
    "                </div>\n" +
    "                <div class=\"innerSeccion\">\n" +
    "                    <div icon-phone ></div>\n" +
    "                    <label>{{ user.phoneNumber }}</label>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"seccion borderRight\">\n" +
    "            <span translate=\"Payment_Method\"></span>\n" +
    "            <div class=\"innerSeccion\">\n" +
    "                <label>\n" +
    "                    {{TransPaymentMethod}}\n" +
    "                    <a class=\"floater\" data-ng-show=\"TransPaymentMethod == 'MasterCredit'\">\n" +
    "                        <span data-ng-repeat=\"_4numbers in cardNumber track by $index\" >\n" +
    "                            {{ _4numbers | showLast4DigitsCard:$last:$index }}\n" +
    "                        </span>\n" +
    "                    </a>\n" +
    "                </label>\n" +
    "            </div>\n" +
    "            <div class=\"innerSeccion\">\n" +
    "                <label>\n" +
    "                    {{ 'Date_Ordered' | translate}}\n" +
    "                    <a class=\"floater\">{{Date_Ordered}}</a>\n" +
    "                </label>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"seccion\">\n" +
    "            <span translate=\"Order_Summary\"></span>\n" +
    "            <div class=\"innerSeccion\">\n" +
    "                <label>\n" +
    "                    {{ 'Subtotal' | translate}}\n" +
    "                    <a class=\"floater\"> {{ subTotal | currency:$ }} </a>\n" +
    "                </label>\n" +
    "            </div>\n" +
    "            <div class=\"innerSeccion\">\n" +
    "                <label>\n" +
    "                    {{ 'shipping' | translate}}\n" +
    "                    <a class=\"floater\"> {{shippingCost | currency:'$'}}</a>\n" +
    "                </label>\n" +
    "            </div>\n" +
    "            <div class=\"innerSeccion\">\n" +
    "                <label class=\"total\">\n" +
    "                    {{ 'TOTAL' | translate}}\n" +
    "                    <a class=\"floater\">  {{ total | currency:$ }} </a>\n" +
    "                </label>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "    </div>\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/order/partials/user-are-login.html',
    "<div>\n" +
    "\n" +
    "\n" +
    "    <div id=\"detailslink\">\n" +
    "        <label class=\"roboto-regular\" ng-class=\"{ selected : firstTag }\">1. {{ mainCtrl.config.spellingMistakes ? 'SHIPING_DETAILS' : 'SHIPPING_DETAILS' | translate}} </label>\n" +
    "        <label class=\"roboto-regular\" ng-class=\"{ selected : !firstTag }\">2. {{ 'PAYMENT_METHOD' | translate }}</label>\n" +
    "    </div>\n" +
    "\n" +
    "    <!-- USER DETAILS SECTION-->\n" +
    "\n" +
    "    <div id=\"userSection\" ng-show=\"firstTag\">\n" +
    "\n" +
    "        <div data-ng-show=\"!userDetailsEditMode\">\n" +
    "            <div id=\"userDetails\">\n" +
    "                <div>\n" +
    "                    <img src=\"css/images/User.jpg\" alt=\"user\">\n" +
    "                    <!--<div icon-user></div>-->\n" +
    "                    <label>{{user.firstName}} {{user.lastName}}</label>\n" +
    "                </div>\n" +
    "                <div>\n" +
    "                    <!--<img src=\"css/images/.jpg\" alt=\"user\">-->\n" +
    "                    <div icon-home></div>\n" +
    "                    <label data-ng-show=\"user.address != ''\">{{ user.address }}</label>\n" +
    "                    <label data-ng-show=\"user.cityName != ''\">{{ user.cityName }}</label>\n" +
    "                    <label data-ng-show=\"country.name != ''\">{{ country.name }}</label>\n" +
    "                    <label data-ng-show=\"user.stateProvince != ''\">{{ user.stateProvince }}</label>\n" +
    "                    <label data-ng-show=\"user.zipcode != ''\">{{ user.zipcode }}</label>\n" +
    "                </div>\n" +
    "                <div>\n" +
    "                    <div icon-phone></div>\n" +
    "                    <label>{{ user.phoneNumber }}</label>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"blueLink\">\n" +
    "                <a role=\"link\" data-ng-click=\"setUserDetailsEditMode()\"\n" +
    "                   translate=\"Edit_shipping_Details\" href=\"javascript:void(0)\"></a>\n" +
    "                <label class=\"float-button\">{{ 'SHIPPING_BY' | translate }}:\n" +
    "                    <img src=\"css/images/Shipex.png\" alt=\"ShipEx\"/></label>\n" +
    "            </div>\n" +
    "            <div class=\"mobileBtnHandler\">\n" +
    "                <button id=\"next_btn\" role=\"button\" data-ng-click=\"shippingDetails_next()\" class=\"a-button nextBtn marginTop75\" translate=\"NEXT\">\n" +
    "                </button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "\n" +
    "        <div data-ng-show=\"userDetailsEditMode\" id=\"userDetailsEditMode\">\n" +
    "\n" +
    "            <!-- EDIT USER DETAILS SECTION-->\n" +
    "\n" +
    "            <sec-form sec-get-form-validation-when-ready=\"validSecValidate(valid)\">\n" +
    "\n" +
    "                <h6 class=\"roboto-bold\"> {{ mainCtrl.config.spellingMistakes ? 'Reciever_Details' : 'Receiver_Details' | translate}} </h6>\n" +
    "\n" +
    "                <div class=\"spliter\">\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'First_Name' | translate}}\"\n" +
    "                              sec-model=\"user.firstName\"\n" +
    "                              sec-min-length=\"mainCtrl.getMin(2)\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(30)\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'Last_Name' | translate}}\"\n" +
    "                              sec-model=\"user.lastName\"\n" +
    "                              sec-min-length=\"mainCtrl.getMin(2)\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(30)\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"spliter\">\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'Phone_Number' | translate}}\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(20)\"\n" +
    "                              sec-model=\"user.phoneNumber\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                </div>\n" +
    "\n" +
    "\n" +
    "                <h6 translate=\"Address\" class=\"roboto-bold\"></h6>\n" +
    "\n" +
    "                <div class=\"spliter\">\n" +
    "                    <sec-view a-hint=\"Country\"\n" +
    "                              sec-require=\"mainCtrl.getRequire('Country')\"\n" +
    "                              a-type=\"select\"\n" +
    "                              a-show=\"name\"\n" +
    "                              sec-model=\"country\"\n" +
    "                              sec-select-options=\"countries\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{ mainCtrl.config.spellingMistakes ? 'Ciity' : 'City' | translate}}\"\n" +
    "                              sec-model=\"user.cityName\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(25)\">\n" +
    "                    </sec-view>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"spliter\">\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'Address' | translate}}\"\n" +
    "                              sec-model=\"user.address\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(50)\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'Postal_Code' | translate}}\"\n" +
    "                              sec-model=\"user.zipcode\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(10)\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"spliter\">\n" +
    "                    <sec-view a-hint=\"{{'State__Province__Region' | translate}}\"\n" +
    "                              sec-model=\"user.stateProvince\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(10)\">\n" +
    "                    </sec-view>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"option marginTop\">\n" +
    "                    <input name=\"agree_agreement\" ng-model=\"agree_Agreement\" type=\"checkbox\"/>\n" +
    "                    <span class=\"roboto-light\" translate=\"Save_changes_in_profile_for_future_use\"></span>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"blueLink\">\n" +
    "                    <sec-sender class=\"roboto-medium\"\n" +
    "                                a-value=\"{{'NEXT' | translate}}\"\n" +
    "                                sec-send=\"accountUpdate()\">\n" +
    "                    </sec-sender>\n" +
    "                    <a class=\"roboto-medium float-button a-link linkToPress\"\n" +
    "                       data-ng-class=\"{ buttonDisable : invalidUser}\"\n" +
    "                       data-ng-click=\"backToMainShippingDetails()\" translate=\"BACK\">\n" +
    "                    </a>\n" +
    "                </div>\n" +
    "\n" +
    "            </sec-form>\n" +
    "\n" +
    "            <!-- END EDIT USER DETAILS SECTION-->\n" +
    "\n" +
    "        </div>\n" +
    "\n" +
    "    </div>\n" +
    "\n" +
    "    <!-- END USER DETAILS SECTION-->\n" +
    "\n" +
    "\n" +
    "    <!-- EDIT EDIT PAYMENT SECTION -->\n" +
    "\n" +
    "    <div id=\"paymentMethod\" data-ng-hide=\"firstTag\">\n" +
    "        <div>\n" +
    "            <label class=\"Choose_payment roboto-medium\" translate=\"Choose_payment_method_below\">\n" +
    "            </label>\n" +
    "            <div class=\"paymentMethods\" ng-init=\"checkedRadio = 1\">\n" +
    "                <div class=\"imgRadioButton\" data-ng-click=\"imgRadioButtonClicked(1); checkedRadio = 1\"\n" +
    "                     data-ng-class=\"{ selected : imgRadioButton == 1 }\">\n" +
    "                    <input type=\"radio\" name=\"safepay\" ng-checked=\"checkedRadio == 1\" style=\"position:absolute; top:25px; left:24px; opacity:0\">\n" +
    "                    <img src=\"css/images/SafePay.png\" alt=\"Safepay\"/>\n" +
    "                </div>\n" +
    "                <div class=\"imgRadioButton\" data-ng-click=\"imgRadioButton = 2; checkedRadio = 2\"\n" +
    "                data-ng-class=\"{ selected : imgRadioButton == 2 }\">\n" +
    "                    <input type=\"radio\" name=\"masterCredit\" ng-checked=\"checkedRadio == 2\" style=\"position:absolute; top:25px; left:24px; opacity:0\">\n" +
    "                    <img src=\"css/images/Master_credit.png\" alt=\"Master credit\"/>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "\n" +
    "            <!---------------------------- SAFEPAY SECTION ---------------------------->\n" +
    "\n" +
    "            <div ng-show=\"imgRadioButton == 1\">\n" +
    "\n" +
    "                <div class=\"notice\">\n" +
    "                    <h4 translate=\"Notice\"></h4>\n" +
    "\n" +
    "                    <p class=\"roboto-light\">{{ 'This_is_a_demo' | translate }} {{ 'Please_enter_a_fake_data' |\n" +
    "                        translate }}</p>\n" +
    "                </div>\n" +
    "\n" +
    "                <label class=\"payNow_error_label\" id=\"payNowSPErrorLabel\"></label>\n" +
    "\n" +
    "\n" +
    "                <sec-form >\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'SafePay_User_name' | translate}}\"\n" +
    "                              sec-model=\"savePay.username\"\n" +
    "                              sec-require=\"mainCtrl.getRequire('SafePay_User_name')\"\n" +
    "                              sec-min-length=\"mainCtrl.getMin(5)\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(15)\"\n" +
    "                              sec-pattern=\"mainCtrl.getPattern('Username')\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                    <sec-view a-hint=\"{{'SafePay_Password' | translate}}\"\n" +
    "                              a-type=\"password\"\n" +
    "                              sec-model=\"savePay.password\"\n" +
    "                              sec-require=\"mainCtrl.getRequire('SafePay_Password')\"\n" +
    "                              sec-min-length=\"mainCtrl.getMin(4)\"\n" +
    "                              sec-max-length=\"mainCtrl.getMax(12)\"\n" +
    "                              sec-pattern=\"mainCtrl.getPattern('Password')\">\n" +
    "                    </sec-view>\n" +
    "\n" +
    "                    <div class=\"option marginTop\">\n" +
    "                        <input name=\"save_safepay\" ng-model=\"saveSafePay\" type=\"checkbox\">\n" +
    "                        <span class=\"roboto-light ng-binding\" translate=\"Save_changes_in_profile_for_future_use\"> </span>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"blueLink margin15px\">\n" +
    "                        <a href=\"javascript:void(0)\" role=\"link\" data-ng-click=\"Back_to_shipping_details()\" translate=\"Back_to_shipping_details\"></a>\n" +
    "                        <!--<a data-ng-click=\"firstTag = true\" translate=\"Back_to_shipping_details\"></a>-->\n" +
    "                        <label class=\"float_right\" style=\"display: table\">\n" +
    "                            <sec-sender id=\"payNowSPDrtv\" class=\"roboto-medium payNowButtonMarginWithError\" a-value=\"{{'PAY_NOW' | translate}}\"\n" +
    "                                        a-hint=\"_SAFEPAY\"\n" +
    "                                        sec-send=\"payNow_SafePay()\" style=\"margin-right: 20%;\"></sec-sender>\n" +
    "                        </label>\n" +
    "                    </div>\n" +
    "\n" +
    "                </sec-form>\n" +
    "\n" +
    "            </div>\n" +
    "\n" +
    "            <!-------------------------- END SAFEPAY SECTION -------------------------->\n" +
    "\n" +
    "\n" +
    "            <!-------------------------- MASTERCREDIT SECTION --------------------------->\n" +
    "\n" +
    "            <div ng-show=\"imgRadioButton == 2 && !noCards && !showMasterCart\">\n" +
    "\n" +
    "                <div class=\"masterCreditSeccion\">\n" +
    "                    <div class=\"roboto-regular\">\n" +
    "                        <span class=\"MasterCredit\">MasterCredit</span>\n" +
    "                        <span data-ng-repeat=\"_4numbers in CardNumber track by $index\">\n" +
    "                            {{ _4numbers | showLast4DigitsCard:$last:$index}}\n" +
    "                        </span>\n" +
    "                        <label class=\"edit \" data-ng-click=\"toggleShowMasterCart()\" translate=\"Edit\">\n" +
    "                        </label>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"blueLink marginBottom\">\n" +
    "                    <a href=\"javascript:void(0)\" role=\"link\" ng-click=\"Back_to_shipping_details()\" translate=\"Back_to_shipping_details\"></a>\n" +
    "                    <label style=\"float: right;display: table;\">\n" +
    "                        <button style=\"    margin-bottom: 5px;\" id=\"pay_now_btn_MasterCredit\" name=\"pay_now_btn_MasterCredit\" class=\"roboto-medium float-button a-button\" data-ng-click=\"payNow_manual()\" role=\"button\">{{'PAY_NOW' | translate}}</button>\n" +
    "                        <label class=\"payNow_error_label\" id=\"payNowMCErrorLabelExpended\"></label>\n" +
    "                    </label>\n" +
    "                </div>\n" +
    "\n" +
    "            </div>\n" +
    "\n" +
    "            <!-------------------------- END MASTERCREDIT SECTION --------------------->\n" +
    "\n" +
    "\n" +
    "            <!---------------------------- MANUAL PAYMENT SECTION ---------------------------->\n" +
    "\n" +
    "            <div ng-show=\"(imgRadioButton == 2) && (noCards || showMasterCart)\">\n" +
    "\n" +
    "                <div class=\"notice\">\n" +
    "                    <h4 translate=\"Notice\"></h4>\n" +
    "                    <p class=\"roboto-light\">{{ 'This_is_a_demo' | translate }} {{ 'Please_enter_a_fake_data' | translate }}</p>\n" +
    "                </div>\n" +
    "\n" +
    "                <sec-form>\n" +
    "\n" +
    "                    <div class=\"spliter\">\n" +
    "\n" +
    "                        <sec-view a-hint=\"{{'Card_number' | translate}}\"\n" +
    "                                  a-secret-field=\"true\"\n" +
    "                                  a-type=\"creditCard\"\n" +
    "                                  sec-model=\"card.number\"\n" +
    "                                  sec-require=\"mainCtrl.getRequire('Card_number')\"\n" +
    "                                  sec-card-number=\"mainCtrl.getCardNumber(16)\">\n" +
    "                        </sec-view>\n" +
    "\n" +
    "\n" +
    "                        <sec-view a-hint=\"{{'CCV_Number' | translate}}\" class=\"creditCard\"\n" +
    "                                  a-secret-field=\"true\"\n" +
    "                                  sec-model=\"card.cvv\"\n" +
    "                                  sec-require=\"mainCtrl.getRequire('CCV_Number')\"\n" +
    "                                  sec-pattern=\"mainCtrl.getPattern('CCV_Number')\">\n" +
    "                        </sec-view>\n" +
    "\n" +
    "                    </div>\n" +
    "                    <label class=\"roboto-regular expiration_date_title\" translate=\"Expiration_Date\"></label>\n" +
    "                    <div class=\"spliter\">\n" +
    "\n" +
    "                        <div class=\"payment_date\">\n" +
    "\n" +
    "                            <sec-view a-hint=\"{{ 'MM' | translate }}\"\n" +
    "                                      a-type=\"select\"\n" +
    "                                      a-do-not-show-info=\"true\"\n" +
    "                                      sec-require=\"mainCtrl.getRequire('Month')\"\n" +
    "                                      sec-model=\"card.expirationDate.month\"\n" +
    "                                      sec-select-options=\"month\"\n" +
    "                            >\n" +
    "                            </sec-view>\n" +
    "\n" +
    "                            <sec-view a-hint=\"{{ 'YY' | translate }}\"\n" +
    "                                      a-type=\"select\"\n" +
    "                                      a-do-not-show-info=\"true\"\n" +
    "                                      sec-require=\"mainCtrl.getRequire('Year')\"\n" +
    "                                      sec-model=\"card.expirationDate.year\"\n" +
    "                                      sec-select-change=\"calculateMonths(value)\"\n" +
    "                                      sec-select-options=\"years\">\n" +
    "                            </sec-view>\n" +
    "                            <!--sec-value-change=\"\"-->\n" +
    "\n" +
    "                        </div>\n" +
    "\n" +
    "\n" +
    "                        <sec-view a-hint=\"{{ 'Cartholder_Name' | translate }}\"\n" +
    "                                  sec-require=\"mainCtrl.getRequire('Cartholder_Name')\"\n" +
    "                                  sec-model=\"card.name\">\n" +
    "                        </sec-view>\n" +
    "\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"option marginTop\">\n" +
    "                        <input name=\"save_master_credit\" ng-model=\"saveMasterCredit\" type=\"checkbox\" class=\"ng-pristine ng-untouched ng-valid\">\n" +
    "                        <span class=\"roboto-light ng-binding\" translate=\"Save_changes_in_profile_for_future_use\"></span>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"blueLink\">\n" +
    "                        <a href=\"javascript:void(0)\" role=\"link\" ng-click=\"Back_to_shipping_details()\" translate=\"Back_to_shipping_details\"></a>\n" +
    "                        <label class=\"float_right\" style=\"display: table\">\n" +
    "                            <sec-sender class=\"roboto-medium\" a-value=\"{{'PAY_NOW' | translate}}\"\n" +
    "                                        a-hint=\"_ManualPayment\"\n" +
    "                                        sec-send=\"payNow_masterCredit()\"\n" +
    "                                        style=\"margin-right: 30%;\n" +
    "                                        padding-bottom: 5px;\"></sec-sender>\n" +
    "                            <label class=\"payNow_error_label\" id=\"payNowMCErrorLabel\"></label>\n" +
    "                        </label>\n" +
    "                    </div>\n" +
    "\n" +
    "                </sec-form>\n" +
    "\n" +
    "            </div>\n" +
    "\n" +
    "            <!---------------------------- END MANUAL PAYMENT SECTION ---------------------------->\n" +
    "\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "    <!-- END EDIT PAYMENT SECTION-->\n" +
    "\n" +
    "</div>\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n"
  );


  $templateCache.put('app/order/partials/user-not-login.html',
    "<div>\n" +
    "<!--<h5 class=\"roboto-regular bigPadding\" translate=\"IDENTIFICATION\"></h5>-->\n" +
    "<div class=\"noUserSection\">\n" +
    "    <label class=\"roboto-medium\" translate=\"Already_have_an_account\" ></label>\n" +
    "\n" +
    "    <sec-form>\n" +
    "        <sec-view a-hint=\"{{'User_name' | translate}}\"\n" +
    "                  a-hint-description=\"InOrderPayment\"\n" +
    "                  a-star=\"false\"\n" +
    "                  sec-model=\"orderPaymentLogin.loginUser\"\n" +
    "                  sec-require=\"mainCtrl.getRequire('User_name')\"\n" +
    "                   >\n" +
    "        </sec-view>\n" +
    "\n" +
    "        <!--sec-pattern=\"((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{0,12})\" pattern-error-attr=\"Use_up_to_12_characters_Include_at_least_one_letter_and_one_number\"-->\n" +
    "\n" +
    "        <sec-view a-hint=\"{{'Password' | translate}}\"\n" +
    "                  a-hint-description=\"InOrderPayment\"\n" +
    "                  a-star=\"false\"\n" +
    "                  a-type=\"password\"\n" +
    "                  sec-model=\"orderPaymentLogin.loginPassword\"\n" +
    "                  sec-require=\"mainCtrl.getRequire('Password')\"\n" +
    "                   >\n" +
    "        </sec-view>\n" +
    "\n" +
    "        <sec-view a-hint=\"{{'Email' | translate}}\"\n" +
    "                  a-hint-description=\"InOrderPayment\"\n" +
    "                  a-star=\"false\"\n" +
    "                  ng-show=\"config.emailAddressInLogin\"\n" +
    "                  sec-model=\"orderPaymentLogin.email\"\n" +
    "                  sec-disable-validation=\"!config.emailAddressInLogin\"\n" +
    "                  sec-require=\"mainCtrl.getRequire('Email')\"\n" +
    "                  sec-pattern=\"mainCtrl.getPattern('Email')\">\n" +
    "        </sec-view>\n" +
    "\n" +
    "        <label translate=\"Forgot_your_password\"\n" +
    "               class=\"roboto-regular\"\n" +
    "               id=\"Forgot_your_password\">\n" +
    "        </label>\n" +
    "\n" +
    "        <br />\n" +
    "\n" +
    "\n" +
    "        <sec-sender class=\"roboto-medium\"\n" +
    "                    a-value=\"{{'LOGIN' | translate}}\"\n" +
    "                    sec-send=\"signIn(orderPaymentLogin)\"></sec-sender>\n" +
    "        <!--D37018- Changing target signIn function from 'userNotLoginCtrl.orderPaymentLogin_signIn' to directly go 'loginModal.signIn'-->\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "\n" +
    "        <br />\n" +
    "\n" +
    "        <label ng-class=\"{ invalid : rsMessage._class == 'invalid' }\">{{ rsMessage.text }}</label>\n" +
    "    </sec-form>\n" +
    "</div>\n" +
    "<div id=\"newClient\" class=\"noUserSection .noUserLogin\">\n" +
    "    <div class=\"cover\">\n" +
    "        <div data-ng-class=\"{ noEmail : !config.emailAddressInLogin }\">\n" +
    "            <label class=\"roboto-medium\" translate=\"New_client\"></label>\n" +
    "            <p translate=\"Create_your_account_easily\"></p>\n" +
    "        </div>\n" +
    "        <sec-form>\n" +
    "            <sec-sender style=\"margin: 18px 28px;\"\n" +
    "                        class=\"roboto-medium\"\n" +
    "                        a-value=\"{{'REGISTRATION' | translate}}\"\n" +
    "                        sec-send=\"registrationRedirect()\"></sec-sender>\n" +
    "        </sec-form>\n" +
    "    </div>\n" +
    "</div>\n" +
    "</div>\n"
  );


  $templateCache.put('app/account/partials/a.html',
    "\n" +
    "\n" +
    "<h1></h1>"
  );
                            });                            return templates;                        });
/**
 * Created by kubany on 10/13/2015
 */


define('app',[

    'angular',
    'jquery',
    'bootstrap',
    'jPushMenu',
    './app/configuration/appConfig',
    './app/user/userConfig',
    './app/order/orderConfig',
    './app/account/accountConfig',
    './app/configuration/commonConfig',


    './app/controllers/index',
    './app/user/controllers/index',
    './app/order/controllers/index',
    './app/account/controllers/index',


    './app/user/services/index',
    './app/order/services/index',
    './app/services/index',
    './app/account/services/index',


    './app/filters/index',


    './app/directives/index',
    './app/user/directives/index',
    './app/order/directives/index',
    './app/account/directives/index',
    './app/SECORRENTI/sec-input/index',

    './app/templates/module',

], function (angular, templates, bootstrap, jPushMenu, catalogConfig, userConfig, orderConfig, accountConfig, commonConfig) {

    return angular.module('aos', [

        'pascalprecht.translate',
        'ui.router',
        'ui.bootstrap',
        'ipCookie',
        'ngAnimate',
        'angular-google-analytics',
        'toaster',
        'aos.controllers',
        'aos.services',
        'aos.directives',
        'aos.filters',
        'aos.templates',

        'aos.user.controllers',
        'aos.user.services',
        'aos.user.directives',

        'aos.order.controllers',
        'aos.order.services',
        'aos.order.directives',


        'aos.account.controllers',
        'aos.account.services',
        //'aos.account.directives',


    ]).

    config(catalogConfig).

    config(userConfig).

    config(orderConfig).

    config(accountConfig).

    config(commonConfig).



    run(function ($rootScope, $state, ipCookie, Analytics) {

        // First, checks if it isn't implemented yet.
        if (!String.prototype.format) {
            String.prototype.format = function() {
                var args = arguments;
                return this.replace(/{(\d+)}/g, function(match, number) {
                    return typeof args[number] != 'undefined'
                        ? args[number]
                        : match
                        ;
                });
            };
        }
            //$http.defaults.headers.get = { 'Content-Type': "application/json", }
            // $rootScope.expiredSession = false;
            var pcBlocked = ipCookie("pcBlocked");
            if (pcBlocked) {
                if (new Date().getTime() > pcBlocked) {
                    ipCookie.remove("pcBlocked");
                }
                else {
                    $state.go('404');
                }
            }

            $rootScope.userCookieLastEntry = ipCookie('lastLogin');
            if ($rootScope.userCookieLastEntry) {
                var cookie = ipCookie($rootScope.userCookieLastEntry);
                if (cookie) {
                    $rootScope.userCookie = cookie;
                }
            }

            $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {
                console.log(event);
                console.log(toState);
                console.log(toParams);
                console.log(fromState);
                console.log(fromParams);
                console.log(error);
                Helper.disableLoader(0);

                if(toState.name == "MyOrders")
                    $state.go("default");
                // if(f.status === 401 && b.name === 'MyOrders'){//session expired
                //     $rootScope.expiredSession = true;
                //
                // }
                //$state.go('404');
            });

            $rootScope.breadcrumb = [{
                name: "Home Page",
                path: "/",
            }];

        $rootScope.$on('$stateChangeStart', function (event, toState, toParams) {
            //var requireLogin = toState.data.requireLogin;
            //var showWelcome = toState.data.showWelcome;
            //var underConstruction = toState.data.underConstruction;

            /*
             showWelcome != 'undefined' && showWelcome ? $(document.body).addClass('welcome-page') : $(document.body).removeClass('welcome-page');
             underConstruction != 'undefined' && underConstruction ?
             $(document.body).addClass('under-construction') :
             $(document.body).removeClass('under-construction');

             if (requireLogin && typeof $rootScope.currentUser === 'undefined') {
             event.preventDefault();
             // get me a login modal!
             }
             */
            //alert("start");
            Helper.enableLoader(999);

        });
        $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams) {
            Helper.disableLoader(0);
        });
    });

});

var l = function (a) {
    console.log(a)
}

var t = function (a) {
    alert(a)
}

var print = function (a) {
    console.log(" ");
    console.log("  ");
    console.log(a);
    console.log("******************************");
    console.log(" ");
    console.log("  ");
}
;
/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
!function(a,b){"function"==typeof define&&define.amd?define('angular-translate',[],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else{if(!angular.isFunction(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");a=b[d](a,c)}}),a},i=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||i(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return h(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=0,C=!0,D="default",E={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},F="2.7.2",G=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};G.displayName="angular-translate/service: getFirstBrowserLanguage";var H=function(){var a=G()||"";return E[D]&&(a=E[D](a)),a};H.displayName="angular-translate/service: getLocale";var I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J=function(){return this.toString().replace(/^\s+|\s+$/g,"")},K=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(I(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],I(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&I(b,angular.lowercase(k[0]))>-1)return k[0]}return a},L=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],M(b));return this};this.translations=L,this.cloakClassName=function(a){return a?(x=a,this):x};var M=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?M(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};M.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return N(a),this};var N=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return O(a),this};var O=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&I(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var P=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=P,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},D=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():H();return e=u.length?K(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?B:(B=a,this)},this.statefulFilter=function(a){return void 0===a?C:(C=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,A=b.get(n||"$translateDefaultInterpolation"),D=!1,E={},G={},H=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return H(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=J.apply(a));var n=function(){var a=e?G[e]:G[i];if(l=0,k&&!a){var b=f.get(v);if(a=G[b],g&&g.length){var c=I(g,b);l=0===c?1:0,I(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){ab(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else ab(a,b,c,h).then(m.resolve,m.reject);return m.promise},Q=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},R=function(a){i=a,c.$emit("$translateChangeSuccess",{language:a}),k&&f.put(H.storageKey(),i),A.setLocale(i);var b=function(a,b){E[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(E,b),c.$emit("$translateChangeEnd",{language:a})},S=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),D=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,M(a))}):angular.extend(d,M(b)),D=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var T=function(a){var c=b.get(a);c.setLocale(e||i),E[c.getInterpolationIdentifier()]=c};T.displayName="interpolationFactoryAdder",angular.forEach(w,T)}var U=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(G[a]){var c=function(a){L(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",G[a].then(c,b.reject)}else b.reject();return b.promise},V=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?V(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",U(a).then(g,f.reject),f.promise},W=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return W(a,e.substr(2),c,d);d.setLocale(i)}return e},X=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},Y=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];V(i,b,c,e).then(h.resolve,function(){Y(a+1,b,c,e,f).then(h.resolve)})}else h.resolve(f?f:X(b,c));return h.promise},Z=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=W(f,b,c,d),e||(e=Z(a+1,b,c,d))}return e},$=function(a,b,c,d){return Y(u>0?u:l,a,b,c,d)},_=function(a,b,c){return Z(u>0?u:l,a,b,c)},ab=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?E[c]:A;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?H(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!D&&(l=X(a,b)),i&&g&&g.length?$(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(Q(a))}):m&&!D&&l?f.resolve(e?e:l):e?f.resolve(e):f.reject(Q(a))}return f.promise},bb=function(a,b,c){var d,e=i?t[i]:t,f=A;if(E&&Object.prototype.hasOwnProperty.call(E,c)&&(f=E[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?bb(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!D&&(j=X(a,b)),i&&g&&g.length?(l=0,d=_(a,b,f)):d=m&&!D&&j?j:Q(a)}return d},cb=function(a){j===a&&(j=void 0),G[a]=void 0};if(H.preferredLanguage=function(a){return a&&N(a),e},H.cloakClassName=function(){return x},H.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(O(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)G[g[b]]||(G[g[b]]=S(g[b]));H.use(H.use())}return h?g[0]:g},H.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=I(g,a);b>-1&&(u=b)}else u=0},H.proposedLanguage=function(){return j},H.storage=function(){return f},H.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=K(a);return e&&(a=e),!z&&t[a]||!o||G[a]?j===a&&G[a]?G[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),R(a)):(j=a,G[a]=S(a).then(function(a){return L(a.key,a.table),b.resolve(a.key),R(a.key),a},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),G[a]["finally"](function(){cb(a)})),b.promise},H.storageKey=function(){return P()},H.isPostCompilingEnabled=function(){return y},H.isForceAsyncReloadEnabled=function(){return z},H.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){L(c.key,c.table),a===i&&R(i),b()};h.displayName="refreshPostProcessor",S(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(S(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(S(i));var n=function(a){t={},angular.forEach(a,function(a){L(a.key,a.table)}),i&&R(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},H.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=H.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=J.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=bb(a,b,c):(q||r)&&(j=Q(a))),"undefined"!=typeof j)break}return j||""===j||(j=A.interpolate(a,b),m&&!D&&(j=X(a,b))),j},H.versionInfo=function(){return F},H.loaderCache=function(){return s},H.directivePriority=function(){return B},H.statefulFilter=function(){return C},o&&(angular.equals(t,{})&&H.use(H.use()),g&&g.length))for(var db=function(a){return L(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},eb=0,fb=g.length;fb>eb;eb++){var gb=g[eb];(z||!t[gb])&&(G[gb]=S(gb).then(db))}return H}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,f){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,h){var i=h.translateValues?h.translateValues:void 0,j=h.translateInterpolation?h.translateInterpolation:void 0,k=b[0].outerHTML.match(/translate-value-+/i),l="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",m="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,n,o){b.interpolateParams={},b.preText="",b.postText="";var p={},q=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),k)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},r=function(a){if(angular.isFunction(r._unwatchOld)&&(r._unwatchOld(),r._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=g.apply(n.text()).match(l);if(angular.isArray(d)){b.preText=d[1],b.postText=d[3],p.translate=c(d[2])(b.$parent);var e=n.text().match(m);angular.isArray(e)&&e[2]&&e[2].length&&(r._unwatchOld=b.$watch(e[2],function(a){p.translate=a,x()}))}else p.translate=n.text().replace(/^\s+|\s+$/g,"")}else p.translate=a;x()},s=function(a){o.$observe(a,function(b){p[a]=b,x()})};q(b.interpolateParams,o,h);var t=!0;o.$observe("translate",function(a){"undefined"==typeof a?r(""):""===a&&t||(p.translate=a,x()),t=!1});for(var u in o)o.hasOwnProperty(u)&&"translateAttr"===u.substr(0,13)&&s(u);if(o.$observe("translateDefault",function(a){b.defaultText=a}),i&&o.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),k){var v=function(a){o.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&v(w)}var x=function(){for(var a in p)p.hasOwnProperty(a)&&void 0!==p[a]&&y(a,p[a],b,b.interpolateParams,b.defaultText)},y=function(b,c,d,e,f){c?a(c,e,j,f).then(function(a){z(a,d,!0,b)},function(a){z(a,d,!1,b)}):z(c,d,!1,b)},z=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),n.html(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),i="undefined"!=typeof h.translateCompile,j=i&&"false"!==h.translateCompile;(g&&!i||j)&&d(n.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=o.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),n.attr(k,b)}};(i||k||o.translateDefault)&&b.$watch("interpolateParams",x,!0);var A=f.$on("$translateChangeSuccess",x);n.text().length?r(o.translate?o.translate:""):o.translate&&r(o.translate),x(),b.$on("$destroy",A)}}}}function f(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(b.cloakClassName())},e=function(){c.removeClass(b.cloakClassName())},f=a.$on("$translateChangeEnd",function(){e(),f(),f=null});return d(),function(a,c,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(a){b(a).then(e,d)})}}}}function g(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function h(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",f),f.$inject=["$rootScope","$translate"],f.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",g),g.$inject=["$parse","$translate"],g.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.$inject=["$cacheFactory"],h.displayName="$translationCache","pascalprecht.translate"});
/**
 * Created by correnti on 28/12/2015.
 */
 

var english = {
    "dvantage": "dvantage",
    "DEMO": "DEMO",
    'PRODUCT': 'PRODUCT',
    'OUR_PRODUCTS': 'OUR PRODUCTS',
    'HOT_PRODUCTS': 'Hot Products',
    'DEAL_OF_THE_DAY': 'Deal of the Day',
    'CONTACT_US': 'CONTACT US',
    'AOS': 'AOS',
    'Login': 'Login',
    'LOGIN': 'LOGIN',
    'LOGOUT': 'This is a paragraph.',
    'SPACIAL_OFFER': 'SPECIAL OFFER',
    'POPULAR_ITEMS': 'POPULAR ITEMS',
    'FOLLOW_US': 'FOLLOW US',
    'LEGALS_FOOTER': '© Advantage Inc, 2020.',
    'FILTER_BY': 'FILTER BY: ',
    'Filter': 'Filter',
    'SHOP_NOW': 'SHOP NOW',
    'ADD_TO_CART': 'ADD TO CART',
    'UPDATE_CART': 'UPDATE CART',
    'HOME': 'HOME',
    'BUY_NOW': 'BUY NOW',
    'STARTING_AT': 'Starting at',
    'SEE_OFFER': 'SEE OFFER',
    'ONLINE_SHOPPING': 'Online shopping',
    'FACEBOOK_SIGN_IN': 'SIGN IN WITH FACEBOOK',
    'OR': 'OR',
    'Name': 'Name',
    'Password': 'Password',
    'New_Password': 'New Password',
    'Old_Password': 'Old Password',
    'Confirm_New_password': 'Confirm New Password',
    'Email': 'Email',
    'SIGN_IN': 'SIGN IN',
    'FORGOT_PASSWORD': 'Forgot your password?',
    'CREATE_NEW_ACCOUNT': 'CREATE NEW ACCOUNT',
    'REMEMBER_ME': 'REMEMBER ME',
    'PRICE': 'PRICE',

    'Hi': 'Hi',
    'Sign_out': 'Sign out',
    'My_account': 'My account',
    "PRODUCT_SPECIFICATIONS": "PRODUCT SPECIFICATIONS",
    "View_details": "View Details",
    'Shop_Now': 'Shop Now',
    'EXPLORE_NOW': 'EXPLORE NOW',
    'Quantity:': 'Quantity:',
    'QUANTITY': 'QUANTITY',
    'QTY': 'QTY:', //(Quantity)
    'GO_UP': 'GO UP',
    'CREATE_ACCOUNT': 'CREATE ACCOUNT',
    'This_is_a_demo': 'This is a demo site.',
    'Please_enter_a_fake_data': 'Do not use real data.',
    'NOTICE': 'NOTICE',
    'Notice': 'Notice',
    'Laptops': 'Laptops',
    'ACCOUNT_DETAILS': 'ACCOUNT DETAILS',
    'PERSONAL_DETAILS': 'PERSONAL DETAILS',
    'ADDRESS': 'ADDRESS',
    'User_Name': 'User Name',
    'First_Name': 'First Name',
    'Last_Name': 'Last Name',
    'Phone_Number': 'Phone Number',
    'Country': 'Country',
    'Address': 'Address',
    'Postal_Code': 'Postal Code',
    'State__Province__Region': 'State / Province / Region',
    'offers_promotion': 'Receive exclusive offers and promotions from Advantage',
    'REGISTER': 'REGISTER',
    'REGISTRATION': 'REGISTRATION',
    'ALREADY_HAVE_AN_ACCOUNT': 'ALREADY HAVE AN ACCOUNT?',
    'Already_have_an_account': 'Already have an account?',
    'Clear': 'Clear',
    'Your_shopping_cart_is_empty': 'Your shopping cart is empty',


    'User_Name_required': 'User Name required!',
    'Email_field_required': 'Email required!',
    'confirm_password_required': 'Confirm password required!',
    'Password_not_match': "Password does not match!",
    'Invalid_email_address': 'Invalid email address',
    'Password_field_required': 'Password field required',
    'Password_5_minlength_field_error': 'Password requires at least 5 characters',
    'Password_10_maxlength_field_error': 'Password requires a maximum of 10 characters',
    'Password_regex': 'uppercase, lowercase and number required',
    'User_Name_pattern': "3-15 characters (0-9, A-Z, a-z, '_, ., -', allowed)",
    'I_agree_to_the_Advantage_com_Agreement': 'I agree to the www.AdvantageOnlineShopping.com Conditions of Use and Privacy Notice',
    'Must_agree_to_the_Advantage_com_Agreement': 'You must agree to the the Advantage.com Conditions of Use and Privacy Notice.',

    'letters_number_symbols_only': 'Use letters, numbers, and the following symbols only: .-_',

    'CHECK_OUT': 'CHECKOUT',
    'TOTAL': 'TOTAL',
    'Items': 'Items',
    'Item': 'Item',
    'ITEMS': 'ITEMS',
    'ITEM': 'ITEM',
    'Color': 'Color:',
    'SHOPPING_CART': 'SHOPPING CART',
    'PAYMENT_OPTIONS': 'PAYMENT OPTIONS',
    'PRODUCT_NAME': 'PRODUCT NAME',
    'Search': 'Search',
    'SearchOrder': 'Search in orders ',
    'CATEGORIES': 'CATEGORIES',
    'Categories': 'Categories',
    'Category': 'Category',
    'Product': 'Product',
    'TOP': 'TOP',
    'RESULTS_FOR': 'RESULTS FOR',
    'TOP_RESULTS_FOR': 'TOP RESULTS FOR',
    'View_All': 'View All',
    'EDIT': 'EDIT',
    'Edit': 'Edit',
    'REMOVE': 'REMOVE',

    'IDENTIFICATION': 'IDENTIFICATION',
    'ORDER_PAYMENT': 'ORDER PAYMENT',
    'Forgot_your_password': 'Forgot your password?',
    'New_client': 'New user?',
    'Create_your_account_easily': 'Create your account to track your order',
    'SHIPPING': 'SHIPPING',
    'shipping': 'shipping',
    'PAYMENT_METHOD': 'PAYMENT METHOD',
    'SHIPPING_BY': 'SHIPPING BY',
    'Edit_shipping_Details': 'Edit shipping details',
    'NEXT': 'NEXT',
    'BACK': 'BACK',
    'Choose_payment_method_below': 'Choose payment method below ',
    'Back_to_shipping_details': 'Back to shipping details',
    'PAY_NOW': 'PAY NOW',
    'Cartholder_Name': 'Cardholder name',
    'CCV_Number': 'CVV number',
    'Invalid_Card_number': 'Invalid card number',
    'Invalid_CCV_number': 'Invalid CVV number',
    'SafePay_User_name': 'SafePay username',
    'SafePay_Password': 'SafePay password',
    'Card_number': 'Card number',
    'MM': 'MM',
    'YY': 'YYYY',
    'Expiration_Date': 'Expiration date',
    'Thank_you_for_buying_with_Advantage': 'Thank you for buying with Advantage',
    'Yor_tracking_number_is': 'Your tracking number is',
    'Your_order_number_is': 'Your order number is',
    'Your_warranty_number_is': 'Your warranty number is',
    'Shipping_to': 'Shipping to',
    'Payment_Method': 'Payment method',

    'Date_Ordered': 'Date ordered',
    'Subtotal': 'Subtotal',
    'field_is_required': 'field is required',
    'User_name': 'Username',
    'Confirm_password': 'Confirm password',
    'MY_ACCOUNT': 'MY ACCOUNT',
    'Account_Details': 'Account details',

    'Preferred_payment_method': 'Preferred payment method',
    'Preferred_payment_method2': 'Payment method',
    'Notify_me_about_Promotions': 'Notify me about promotions',
    'MasterCredit': 'MasterCredit',
    'CONNECTION_DETAILS': 'CONNECTION DETAILS',
    'Change_Password': 'Change password',
    'SAVE': 'SAVE',
    'Save_changes_in_profile_for_future_use': 'Save changes in profile for future use',
    'SOUL_OUT': 'SOLD OUT',
    'your_Account_was_created_successfully': 'Your account was created successfully',
    'CONTINUE_SHOPPING': 'CONTINUE SHOPPING',
    'Problem_sending_mail_please_try_later': 'Problem sending mail. Try again later.',
    'Subject': 'Subject',
    'SUPPORT': 'SUPPORT',

    'toast_Product_Added_Successfully': 'Product added successfully',
    'toast_Product_Updated_Successfully': 'Product updated successfully',
    'Search_Result': "Search result",
    'Preferred_payment_has_not_been_set': 'Preferred payment was not specified',
    'SafePay': 'SafePay',
    'Set_SafePay_as_Preferred_payment': 'Set SafePay as your preferred payment',
    'Set_MasterCredit_as_Preferred_payment': 'Set MasterCredit as your preferred payment',
    'No_results_for': 'No results for',
    'No_results': 'No results',
    'No_results_punchout': 'No search results found. However, you can extend your search through the new SAP user experience (uses SAPUI5)',
    'No_results_punchout_note': 'NOTE: Micro Focus is not responsible for anything that happens once you open the SAP Fiori Demo Kit page.',
    'SAP_BUTTON' : 'Go to the SAP Fiori Demo App',
    'SEND': 'SEND',
    'Product_removed': 'Product removed',
    'USER': 'USER',
    'SEARCH': 'SEARCH',
    'add_warranty': 'Add Warranty',











    'register_faild': 'Registration failed. Please try again.',
    'login_faild': 'Login failed. Please try again later.',

    'email_no_formatted_correctly': 'Your email address isn\'t formatted correctly',
    'valid_email_required': '',

    'Use_up_of': 'Use ',
    'character_or_longer' :'character or longer',
    'Use_maximum': 'Use maximum',

    'Use_up_to_12_characters_Include_at_least_one_letter_and_one_number': 'Use between 4-12 characters, including at least one upper case letter, one lower case letter, and one number.',

    'Including_one_upper_letter': 'Including at least one upper letter',
    'Including_one_lower_letter': 'Including at least one lower letter',
    'Including_one_number': 'Including at least one number',

    'one_upper_letter_required': 'One upper letter required',
    'one_lower_letter_required': 'One lower letter required',
    'one_number_required': 'One number required',

    'Same_as': 'Same as',
    'This_field_not_match_with': 's do not match',
    'field': 'field',

    'required': 'required',
    'numbers' : 'numbers',
    'Use_exactly' : 'Use exactly',
    'Year': 'Year',
    'Month': 'Month',
    //'Valid_CCV_number_required': 'Valid CCV number required',
    'Valid_CCV_number_required': 'Use exactly 3 digits',

    'AgreeAgreementRequire': 'I agree to the www.AdvantageOnlineShopping.com Conditions of Use and Privacy Notice',

    'ExpirationCart' : 'Expiration date has passed. Try another card',
    'CHAT_WITH_US': 'CHAT WITH US',

    'MY_ORDERS': 'MY ORDERS',


    'SHIPPING_DETAILS': 'SHIPPING DETAILS',
    'SHIPING_DETAILS': 'SHIPING DETAILS',

    'Shipping_Details': 'Shipping details',
    'Shiping_Details': 'Shiping details',

    'Receiver_Details': 'Recipient details',
    'Reciever_Details': 'Recipeint Details',

    'City': 'City',
    'Ciity': 'Ciity',


    'ORDER_SUMMARY': 'ORDER SUMMARY',
    'Order_Summary': 'Order Summary',

    'ORDERR_SUMMARY': 'ORDERR SUMMARY',
    'Orderr_Summary': 'Orderr Summary',

    'ORDER_NUMBER': 'ORDER NUMBER',
    'ORDER_DATE': 'ORDER DATE',
    'ORDER_TIME': 'ORDER TIME',
    'TOTAL_PRICE': 'TOTAL PRICE',
'WARRANTY' : 'WARRANTY',
    'COLOR': 'COLOR',

    'My_Orders': 'My orders',

    'No_orders': 'No orders',
    'reviews': 'reviews',
    'ARE_U_SURE' : 'Are you sure you want to',
    'CANCEL_YOUR_ORDER': 'cancel your order?',
    'YES_CANCEL': 'YES, CANCEL',
    'NO_KEEP_ORDER': 'NO, KEEP MY ORDER',


    // ABOUT PAGE
    'ABOUT_PAGE': 'ABOUT',
    'ABOUT': 'About',
    'AOS_VERSIONS': 'AOS Versions',
    'CONFIG_TOOL': 'Management Console',
    'THE_APP_IS_AVAILABLE_IN_3_FORM_FACTORS': 'THE APPLICATION IS AVAILABLE IN 3 FORM FACTORS:',
    'ABOUT_FIRST_PARAGRAPH': 'Advantage Online Shopping (AOS) is a fictional company used by Micro Focus as the “application under test” during customer-facing product demonstrations.',
    'ABOUT_SECOND_PARAGRAPH': 'Its primary assets are a fully-functional website and a mobile client, each designed using modern programming practices, focusing on high quality and scalability.  AOS is built using DevOps practices, specifically Agile backlog management and continuous testing, including functional, non-functional, performance and security testing. ',
    "PRODUCT_QUANTITY_ERROR_MESSAGE" : "Oops! We only have {0} in stock. We updated your order accordingly"

};














define("englishLanguage", function(){});

/*!
 * Bez v1.0.10-g5ae0136
 * http://github.com/rdallasgray/bez
 * 
 * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions
 * 
 * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
 * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt
*/jQuery.extend({bez:function(a){var b="bez_"+jQuery.makeArray(arguments).join("_").replace(".","p");if(typeof jQuery.easing[b]!="function"){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){var b=a,c=0,d;while(++c<14){d=f(b,0)-a;if(Math.abs(d)<.001)break;b-=d/g(b)}return b};return function(a){return f(h(a),1)}};jQuery.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}});

define("jquery-bez", ["jquery"], function(){});

/*
 Color animation 1.6.0
 http://www.bitstorm.org/jquery/color-animation/
 Copyright 2011, 2013 Edwin Martin <edwin@bitstorm.org>
 Released under the MIT and GPL licenses.
*/
(function(d){function h(a,b,e){var c="rgb"+(d.support.rgba?"a":"")+"("+parseInt(a[0]+e*(b[0]-a[0]),10)+","+parseInt(a[1]+e*(b[1]-a[1]),10)+","+parseInt(a[2]+e*(b[2]-a[2]),10);d.support.rgba&&(c+=","+(a&&b?parseFloat(a[3]+e*(b[3]-a[3])):1));return c+")"}function f(a){var b;return(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]:(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a))?[17*parseInt(b[1],16),17*parseInt(b[2],
16),17*parseInt(b[3],16),1]:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1]:(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])]:l[a]}d.extend(!0,d,{support:{rgba:function(){var a=d("script:first"),b=a.css("color"),e=!1;if(/^rgba/.test(b))e=!0;else try{e=b!=a.css("color","rgba(0, 0, 0, 0.5)").css("color"),
a.css("color",b)}catch(c){}return e}()}});var k="color backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor outlineColor".split(" ");d.each(k,function(a,b){d.Tween.propHooks[b]={get:function(a){return d(a.elem).css(b)},set:function(a){var c=a.elem.style,g=f(d(a.elem).css(b)),m=f(a.end);a.run=function(a){c[b]=h(g,m,a)}}}});d.Tween.propHooks.borderColor={set:function(a){var b=a.elem.style,e=[],c=k.slice(2,6);d.each(c,function(b,c){e[c]=f(d(a.elem).css(c))});var g=f(a.end);
a.run=function(a){d.each(c,function(d,c){b[c]=h(e[c],g,a)})}}};var l={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,
0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,
0,1],transparent:[255,255,255,0]}})(jQuery);

define("jquery.animate-colors", ["jquery"], function(){});

/**
 * Created by correnti on 16/11/2015.
 */
var startPossition = 900000000;
var pagesPossition = startPossition;
var stickyPossition = startPossition;


var Helper = Helper || {};
Helper.____closeTooTipCart;
Helper.____showPage;
Helper.mobile_section_moved;

Helper.defaultTimeLoaderToEnable = 1000;

var enableLoaderActivate = false;
var ____enableLoaderActivate;

var timerDetector = 0;
Helper.enableLoader = function (_timerDetector) {
    if(enableLoaderActivate || timerDetector > 900){
        return;
    }
    timerDetector = _timerDetector != undefined ? _timerDetector : 0;
    enableLoaderActivate = true;
    ____enableLoaderActivate = setTimeout(function () {
        $("div.loader").css({display: "block"});
        $("div.loader").stop().animate({opacity: 1}, 100);
    }, Helper.defaultTimeLoaderToEnable);
};

Helper.disableLoader = function (_timerDetector) {
    timerDetector = _timerDetector != undefined ? _timerDetector : timerDetector;
    if(timerDetector == 999){
        return;
    }
    if(enableLoaderActivate){
        clearTimeout(____enableLoaderActivate);
        $("div.loader").stop().animate({opacity: 0}, 300, function () {
            $(this).css({display: "none"});
            enableLoaderActivate = false;
        });
    }
};

Helper.forAllPage = function () {

    clearTimeout(Helper.____showPage)
    Helper.____showPage = setTimeout(function () {
        $(".waitBackground").stop().animate({opacity: 0,}, 100, function () {
            $(this).css({display: "none",});
            $("div.loader").stop().animate({opacity: 0}, 700, function () {
                $(this).css({display: "none",});
            });
        });
    }, 1000);
    Helper.scrollPageUp();
    Helper.UpdatePageFixed();
    setTimeout(Helper.footerHandler, 200);
}


Helper.footerHandler = function () {

    if ($("footer").height()) {

        setTimeout(function () {
            var paddingTop = $(window).width() > 480 ? 90 : 0;
            if (document.location.hash == "#/" || document.location.hash == "#/orderPayment") {
                paddingTop = 0;
                $("footer").css({
                    "position": "static",
                    "margin-top": 0
                })
                $("#virtualFooter").height(0);
                return;
            }
            $("#virtualFooter").height($("footer").height() + paddingTop);
            $("#virtualFooter").css('width', "100%");

            var miss = $(window).height() - ($("#virtualFooter").offset().top + $("#virtualFooter").height());
            $("footer").css({"position": miss > 0 ? "fixed" : "absolute"})
        }, 200)
    }
    else {
        setTimeout(Helper.footerHandler, 200)
    }
}

Helper.scrollPageUp = function () {
    $("body, html").scrollTop(0);
}

Helper.parseBoolean = function (str) {
    return str != undefined && str.toLowerCase() == 'true'
}


Helper.UpdatePageFixed = function () {
    if (document.URL.indexOf("category") == -1) {
        $('.pages').removeClass('fixed');
        $('.sticky').removeClass('fixed');
    }
    pagesPossition = startPossition;
    stickyPossition = startPossition;
    Helper.checkPagePossitions()
};


Helper.getRandom = function (length) {
    var ranVal = '';
    for (var i = 0; i < length; i++) {
        ranVal += (Math.floor(Math.random() * 9) + 1)
    }
    return ranVal;
}

Helper.getMonthInYearForMasterCredit = function (year, months) {
    var date = new Date();
    if (date.getFullYear() == year) {
        var new_array = [];
        for (var i = date.getMonth() + 1; i <= 12; i++) {
            new_array.push(i < 10 ? "0" + i : i + "");
        }
        return ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
    }
    if (months.length != 12) {
        return ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"];
    }
    return null;
}

Helper.checkPagePossitions = function () {

    if ($('.pages').length > 0) {

        var scrollTop = $('body').scrollTop() > 0 ? $('body').scrollTop() : $('html').scrollTop();

        if (pagesPossition < scrollTop + $('header').height()) {
            $('.pages').addClass('fixed');
        }
        else {
            pagesPossition = $('.pages').offset().top;
            $('.pages').removeClass('fixed');
        }
    }

    if ($('.sticky').length > 0) {
        if (stickyPossition < scrollTop
            + 100 + ($('.pages').length > 0) ? $('.pages').height() : 0) {
            $('.sticky').addClass('fixed');
        }
        else {
            stickyPossition = $('.sticky').offset().top;
            $('.sticky').removeClass('fixed');
        }
    }
}

Helper.mobileSectionHandler = function () {

    if ($("#mobile-section").css("left") == "0px") {
        $(".mobileTitle .mini-title").fadeOut();
        $(".mobileTitle .mini-title-help").fadeOut();
    }
    $("#mobile-section").animate({
        left: $("#mobile-section").css("left") != "0px" ? "0px" : "-" + Helper.mobile_section_moved
    }, 200, function () {
        $(".mobileTitle").css('left', $(this).width());
    });
}

Helper.mobileSectionClose = function () {

    $("#mobile-section").stop().animate({
        left: "-" + Helper.mobile_section_moved
    }, 200);
    $("#loginMobileMiniTitle").fadeOut();
    $("#helpMobileMiniTitle").fadeOut();
}

Helper.sortArrayByAbc = function (arr) {
    return arr.sort(function (a, b) {
        return a == b ? 0 : a < b ? -1 : 1;
    });
}

Helper.sortAttributesByName = function (attrs) {
    return attrs.sort(function (a, b) {
        return a.attributeName == b.attributeName ? 0 : a.attributeName < b.attributeName ? -1 : 1;
    });
}

Helper.sortArrayByColorName = function (colors) {
    return colors.sort(function (a, b) {
        return a.name == b.name ? 0 : a.name < b.name ? -1 : 1;
    });
}


var Main = Main || {};

Main.addAnimPlaceholderEventListener = function () {
}


$(document).ready(function () {

    $(window).on({
        resize: _resize,
        scroll: _scroll,
    });

    function _scroll() {
        Helper.checkPagePossitions();
        _resize();
    }

    _resize();
    function _resize() {
        $(".mini-title").css("display", "none");
        $(".mini-title-help").css("display", "none");
        Helper.mobileSectionClose();
    }
});


define("mainScript", ["jquery"], function(){});

/**
 * Created by correnti on 13/12/2015.
 */


var Loger = Loger ? Loger : function () {
};


Loger.Params = function (params, url) {
    spaces(3);
    console.log('Param to pass to ' + url);
    if (params) {
        if (params.orderPaymentInformation && params.orderPaymentInformation.Transaction_SafePay_Password) {
            console.log({
                "Transaction_AccountNumber": params.Transaction_AccountNumber,
                "Transaction_Currency": params.Transaction_Currency,
                "Transaction_CustomerPhone": params.Transaction_CustomerPhone,
                "Transaction_MasterCredit_CVVNumber": params.Transaction_MasterCredit_CVVNumber,
                "Transaction_MasterCredit_CardNumber": params.Transaction_MasterCredit_CardNumber,
                "Transaction_MasterCredit_CustomerName": params.Transaction_MasterCredit_CustomerName,
                "Transaction_MasterCredit_ExpirationDate": params.Transaction_MasterCredit_ExpirationDate,
                "Transaction_PaymentMethod": params.Transaction_PaymentMethod,
                "Transaction_ReferenceNumber": params.Transaction_ReferenceNumber,
                "Transaction_SafePay_UserName": params.Transaction_SafePay_UserName,
                "Transaction_TransactionDate": params.Transaction_TransactionDate,
                "Transaction_Type": params.Transaction_Type
            });
        }
        else if (params.safePayPassword) {
            console.log({safePayUsername: params.safePayUsername, referenceId: params.referenceId});
        }
        else if (params.password) {
            console.log({
                "accountType": params.accountType, "address": params.address,
                "allowOffersPromotion": params.allowOffersPromotion, "cityName": params.cityName,
                "countryId": params.countryId, "email": params.email,
                "firstName": params.firstName, "lastName": params.lastName,
                "loginName": params.loginName, "phoneNumber": params.phoneNumber,
                "stateProvince": params.stateProvince, "zipcode": params.zipcode,
            });
        }
        else {
            console.log(params);
        }
    }
    spaces(1);
};
Loger.Extract = function (file, obj, paths) {
    spaces(3);
    lines(2);
    console.log('Extracted file: ' + file);
    spaces(1);
    console.log("Recieve: ");
    console.log(obj);
    spaces(1);
    for (var i = 0; i < paths.length; i++) {
        console.log(paths[i])
    }
    spaces(1);
    lines(2);
    spaces(3);
};

Loger.CallingWSDL = function (obj) {
    spaces(1);
    console.log("========================   Reading wsdl  =================================")
    console.log("url: " + obj.path);
    console.log("method: " + obj.method);
};

Loger.Calling = function (str) {
    spaces(1);
    console.log("===========================   Calling  ===================================")
    console.log("Path: " + str);
};

Loger.Received = function (str) {
    console.log("============================  Received  ==================================")
    console.log(str)
    spaces(1);
};

function spaces(num) {
    var v = ""
    for (var i = 0; i < num; i++) {
        v += " ";
        console.log("" + v)
    }
}

function lines(num) {
    var v = ""
    for (var i = 0; i < num; i++) {
        v += " ";
        console.log("==========================================================================" + v)
    }
}


var services_properties = []

//var catalogKey = "http://localhost:8080/catalog";
//var orderKey = "http://localhost:8080/order";
//var accountKey = "http://localhost:8080/account";
//var serviceKey = "http://localhost:8080/service";
//var wsdlPath = 'http://localhost:8080/accountservice';
var catalogKey = serverKey = orderKey = wsdlPath = "undefined";
/*accountKey =*//* serviceKey =*/

var server = {
    namespaceURL: 'com.advantage.online.store.accountservice',

    haveInternet: function () {
        return serverKey.indexOf("localhost");
    },

    getKey: function () {
        return serverKey;
    },
    setKey: function (_serverKey) {
        serverKey = _serverKey;
    },
    setCatalogKey: function (_catalogKey) {
        catalogKey = _catalogKey;
    },
    setOrderKey: function (_orderKey) {
        orderKey = _orderKey;
    },
    setWsdlPath: function (_wsdlPath) {
        wsdlPath = _wsdlPath;

        console.log("File extracted: ");
        Loger.Extract("", "", [
            'Catalog path: ' + catalogKey,
            'Order path: ' + orderKey,
            //'Account path: ' + accountKey,
            //'Service path: ' + serviceKey,
            'Account WSDL (Web Services Description Language) path: ' + wsdlPath,
        ]);
    },

    catalog: {

        getKey: function () {
            return catalogKey;
        }
        ,

        nvHandler: function (code) {
            var paramToReturn = catalogKey + "products/id/" + code;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getPopularProducts: function () {
            var paramToReturn = "app/tempFiles/popularProducts.json";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getAllData: function () {
            var paramToReturn = catalogKey + "categories/all_data";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getMostPopularComments: function () {
            var paramToReturn = catalogKey + "MostPopularComments";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getCategories: function () {
            var paramToReturn = catalogKey + "categories";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getCategoryById: function (id) {
            var paramToReturn = catalogKey + "categories/" + id + "/products";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getDeals: function () {
            var paramToReturn = catalogKey + "deals";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getDealOfTheDay: function () {
            var paramToReturn = catalogKey + "deals/search?dealOfTheDay=true";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getProducts: function () {
            var paramToReturn = catalogKey + "products.json";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getProductById: function (id) {
            var paramToReturn = catalogKey + 'products/' + id;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getProductsBySearch: function (word, quantity) {
            var paramToReturn = catalogKey + "products/search?name=" + word;
            if (quantity > 0) {
                paramToReturn += "&quantityPerEachCategory=" + quantity;
            }
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getAllCategoriesAttributes: function () {
            var paramToReturn = catalogKey + "categories/attributes";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        sendSupportEmail: function () {
            var paramToReturn = catalogKey + "support/contact_us/email";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getConfigurations: function () {

            var paramToReturn = catalogKey + "DemoAppConfig/parameters/by_tool/ALL";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getAccountConfiguration: function () {

            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetAccountConfigurationRequest',
                response: "GetAccountConfigurationResponse",
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,


    }
    ,
    order: {

        updateUserCart: function (userId) {
            var paramToReturn = orderKey + "carts/" + userId;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        removeProductToUser: function (userId, productId, color) {
            var paramToReturn = orderKey + "carts/" + userId +
                "/product/" + productId +
                "/color/" + color;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        updateProductToUser: function (userId, productId, color, quantity, oldColor) {
            var path = server.order.addProductToUser(userId, productId, oldColor, quantity);
            var paramToReturn = color != oldColor ? path += "&new_color=" + color : path;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        addProductToUser: function (userId, productId, color, quantity, hasWarranty) {
            var paramToReturn = orderKey + "carts/" + userId + "/product/" + productId +
                "/color/" + color + "?quantity=" + quantity + (hasWarranty != null && hasWarranty ? "&hasWarranty=true" : "");
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        loadCartProducts: function (userId) {
            var paramToReturn = orderKey + "carts/" + userId;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        clearCart: function (userId) {
            var paramToReturn = orderKey + "carts/" + userId;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getShippingCost: function () {
            var paramToReturn = orderKey + "shippingcost/";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        safePay: function (userId) {

            var paramToReturn = orderKey + "orders/users/" + userId;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        accountUpdate: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountUpdateRequest',
                response: 'AccountUpdateResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        },

        deleteOrder: function(order, userId){
            var paramToReturn = orderKey +  "orders/history/users/" + userId + "/" + order.orderNumber;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        },

    }
    ,
    account: {

        getOrders: function (userId) {
            var paramToReturn = orderKey + "orders/history/lines/users/" + userId;
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
        ,

        getAllCountries: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetCountriesRequest',
                response: 'GetCountriesResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        register: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountCreateRequest',
                response: 'AccountCreateResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        login: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountLoginRequest',
                response: 'AccountLoginResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        getAccountById: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetAccountByIdRequest',
                response: 'GetAccountByIdResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        getAccountById_new: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetAccountByIdNewRequest',
                response: 'GetAccountByIdNewResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        getAccountPaymentPreferences: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetAccountPaymentPreferencesRequest',
                response: 'PaymentPreferences'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        getAddressesByAccountId: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'GetAddressesByAccountIdRequest',
                response: 'GetAddressesByAccountIdResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,
        deleteAccount: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountPermanentDeleteRequest',
                response: 'accountPermanentDeleteResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        accountUpdate: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountUpdateRequest',
                response: 'AccountUpdateResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        updateMasterCreditMethod: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'UpdateMasterCreditMethodRequest',
                response: 'UpdateMasterCreditMethodResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        addMasterCreditMethod: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AddMasterCreditMethodRequest',
                response: 'PaymentPreferencesStatusResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        updateSafePayMethod: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'UpdateSafePayMethodRequest',
                response: 'UpdateSafePayMethodResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        addSafePayMethod: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AddSafePayMethodRequest',
                response: 'AddSafePayMethodResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        changePassword: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'ChangePasswordRequest',
                response: 'ChangePasswordResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        accountLogout: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'AccountLogoutRequest',
                response: 'AccountLogoutResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        }
        ,

        paymentMethodUpdate: function () {
            var wsdlToReturn = {
                path: wsdlPath,
                method: 'PaymentMethodUpdateRequest',
                response: 'PaymentMethodUpdateResponse'
            }
            Loger.CallingWSDL(wsdlToReturn);
            return wsdlToReturn;
        },

        facebookLogin : function(){
            var paramToReturn = catalogKey + "facebookLogin";
            Loger.Calling(paramToReturn);
            return paramToReturn;
        }
    }
    ,
}
;
define("server", function(){});

/*! nouislider - 8.2.1 - 2015-12-02 21:43:14 */

(function (factory) {

	/*

    if ( typeof define === 'function' && define.amd ) {

        // AMD. Register as an anonymous module.
        define([], factory);

    } else if ( typeof exports === 'object' ) {

        // Node/CommonJS
        module.exports = factory();

    } else {

        // Browser globals
     */
	window.noUiSlider = factory();
    //}

}

(function( ){

	'use strict';


	// Removes duplicates from an array.
	function unique(array) {
		return array.filter(function(a){
			return !this[a] ? this[a] = true : false;
		}, {});
	}

	// Round a value to the closest 'to'.
	function closest ( value, to ) {
		return Math.round(value / to) * to;
	}

	// Current position of an element relative to the document.
	function offset ( elem ) {

	var rect = elem.getBoundingClientRect(),
		doc = elem.ownerDocument,
		docElem = doc.documentElement,
		pageOffset = getPageOffset();

		// getBoundingClientRect contains left scroll in Chrome on Android.
		// I haven't found a feature detection that proves this. Worst case
		// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.
		if ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {
			pageOffset.x = 0;
		}

		return {
			top: rect.top + pageOffset.y - docElem.clientTop,
			left: rect.left + pageOffset.x - docElem.clientLeft
		};
	}

	// Checks whether a value is numerical.
	function isNumeric ( a ) {
		return typeof a === 'number' && !isNaN( a ) && isFinite( a );
	}

	// Rounds a number to 7 supported decimals.
	function accurateNumber( number ) {
		var p = Math.pow(10, 7);
		return Number((Math.round(number*p)/p).toFixed(7));
	}

	// Sets a class and removes it after [duration] ms.
	function addClassFor ( element, className, duration ) {
		addClass(element, className);
		setTimeout(function(){
			removeClass(element, className);
		}, duration);
	}

	// Limits a value to 0 - 100
	function limit ( a ) {
		return Math.max(Math.min(a, 100), 0);
	}

	// Wraps a variable as an array, if it isn't one yet.
	function asArray ( a ) {
		return Array.isArray(a) ? a : [a];
	}

	// Counts decimals
	function countDecimals ( numStr ) {
		var pieces = numStr.split(".");
		return pieces.length > 1 ? pieces[1].length : 0;
	}

	// http://youmightnotneedjquery.com/#add_class
	function addClass ( el, className ) {
		if ( el.classList ) {
			el.classList.add(className);
		} else {
			el.className += ' ' + className;
		}
	}

	// http://youmightnotneedjquery.com/#remove_class
	function removeClass ( el, className ) {
		if ( el.classList ) {
			el.classList.remove(className);
		} else {
			el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
		}
	}

	// http://youmightnotneedjquery.com/#has_class
	function hasClass ( el, className ) {
		if ( el.classList ) {
			el.classList.contains(className);
		} else {
			new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
		}
	}

	// https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes
	function getPageOffset ( ) {

		var supportPageOffset = window.pageXOffset !== undefined,
			isCSS1Compat = ((document.compatMode || "") === "CSS1Compat"),
			x = supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,
			y = supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;

		return {
			x: x,
			y: y
		};
	}

	// Shorthand for stopPropagation so we don't have to create a dynamic method
	function stopPropagation ( e ) {
		e.stopPropagation();
	}

	// todo
	function addCssPrefix(cssPrefix) {
		return function(className) {
			return cssPrefix + className;
		};
	}


	var
	// Determine the events to bind. IE11 implements pointerEvents without
	// a prefix, which breaks compatibility with the IE10 implementation.
	/** @const */
	actions = window.navigator.pointerEnabled ? {
		start: 'pointerdown',
		move: 'pointermove',
		end: 'pointerup'
	} : window.navigator.msPointerEnabled ? {
		start: 'MSPointerDown',
		move: 'MSPointerMove',
		end: 'MSPointerUp'
	} : {
		start: 'mousedown touchstart',
		move: 'mousemove touchmove',
		end: 'mouseup touchend'
	},
	defaultCssPrefix = 'noUi-';


// Value calculation

	// Determine the size of a sub-range in relation to a full range.
	function subRangeRatio ( pa, pb ) {
		return (100 / (pb - pa));
	}

	// (percentage) How many percent is this value of this range?
	function fromPercentage ( range, value ) {
		return (value * 100) / ( range[1] - range[0] );
	}

	// (percentage) Where is this value on this range?
	function toPercentage ( range, value ) {
		return fromPercentage( range, range[0] < 0 ?
			value + Math.abs(range[0]) :
				value - range[0] );
	}

	// (value) How much is this percentage on this range?
	function isPercentage ( range, value ) {
		return ((value * ( range[1] - range[0] )) / 100) + range[0];
	}


// Range conversion

	function getJ ( value, arr ) {

		var j = 1;

		while ( value >= arr[j] ){
			j += 1;
		}

		return j;
	}

	// (percentage) Input a value, find where, on a scale of 0-100, it applies.
	function toStepping ( xVal, xPct, value ) {

		if ( value >= xVal.slice(-1)[0] ){
			return 100;
		}

		var j = getJ( value, xVal ), va, vb, pa, pb;

		va = xVal[j-1];
		vb = xVal[j];
		pa = xPct[j-1];
		pb = xPct[j];

		return pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));
	}

	// (value) Input a percentage, find where it is on the specified range.
	function fromStepping ( xVal, xPct, value ) {

		// There is no range group that fits 100
		if ( value >= 100 ){
			return xVal.slice(-1)[0];
		}

		var j = getJ( value, xPct ), va, vb, pa, pb;

		va = xVal[j-1];
		vb = xVal[j];
		pa = xPct[j-1];
		pb = xPct[j];

		return isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));
	}

	// (percentage) Get the step that applies at a certain value.
	function getStep ( xPct, xSteps, snap, value ) {

		if ( value === 100 ) {
			return value;
		}

		var j = getJ( value, xPct ), a, b;

		// If 'snap' is set, steps are used as fixed points on the slider.
		if ( snap ) {

			a = xPct[j-1];
			b = xPct[j];

			// Find the closest position, a or b.
			if ((value - a) > ((b-a)/2)){
				return b;
			}

			return a;
		}

		if ( !xSteps[j-1] ){
			return value;
		}

		return xPct[j-1] + closest(
			value - xPct[j-1],
			xSteps[j-1]
		);
	}


// Entry parsing

	function handleEntryPoint ( index, value, that ) {

		var percentage;

		// Wrap numerical input in an array.
		if ( typeof value === "number" ) {
			value = [value];
		}

		// Reject any invalid input, by testing whether value is an array.
		if ( Object.prototype.toString.call( value ) !== '[object Array]' ){
			throw new Error("noUiSlider: 'range' contains invalid value.");
		}

		// Covert min/max syntax to 0 and 100.
		if ( index === 'min' ) {
			percentage = 0;
		} else if ( index === 'max' ) {
			percentage = 100;
		} else {
			percentage = parseFloat( index );
		}

		// Check for correct input.
		if ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {
			throw new Error("noUiSlider: 'range' value isn't numeric.");
		}

		// Store values.
		that.xPct.push( percentage );
		that.xVal.push( value[0] );

		// NaN will evaluate to false too, but to keep
		// logging clear, set step explicitly. Make sure
		// not to override the 'step' setting with false.
		if ( !percentage ) {
			if ( !isNaN( value[1] ) ) {
				that.xSteps[0] = value[1];
			}
		} else {
			that.xSteps.push( isNaN(value[1]) ? false : value[1] );
		}
	}

	function handleStepPoint ( i, n, that ) {

		// Ignore 'false' stepping.
		if ( !n ) {
			return true;
		}

		// Factor to range ratio
		that.xSteps[i] = fromPercentage([
			 that.xVal[i]
			,that.xVal[i+1]
		], n) / subRangeRatio (
			that.xPct[i],
			that.xPct[i+1] );
	}


// Interface

	// The interface to Spectrum handles all direction-based
	// conversions, so the above values are unaware.

	function Spectrum ( entry, snap, direction, singleStep ) {

		this.xPct = [];
		this.xVal = [];
		this.xSteps = [ singleStep || false ];
		this.xNumSteps = [ false ];

		this.snap = snap;
		this.direction = direction;

		var index, ordered = [ /* [0, 'min'], [1, '50%'], [2, 'max'] */ ];

		// Map the object keys to an array.
		for ( index in entry ) {
			if ( entry.hasOwnProperty(index) ) {
				ordered.push([entry[index], index]);
			}
		}

		// Sort all entries by value (numeric sort).
		if ( ordered.length && typeof ordered[0][0] === "object" ) {
			ordered.sort(function(a, b) { return a[0][0] - b[0][0]; });
		} else {
			ordered.sort(function(a, b) { return a[0] - b[0]; });
		}


		// Convert all entries to subranges.
		for ( index = 0; index < ordered.length; index++ ) {
			handleEntryPoint(ordered[index][1], ordered[index][0], this);
		}

		// Store the actual step values.
		// xSteps is sorted in the same order as xPct and xVal.
		this.xNumSteps = this.xSteps.slice(0);

		// Convert all numeric steps to the percentage of the subrange they represent.
		for ( index = 0; index < this.xNumSteps.length; index++ ) {
			handleStepPoint(index, this.xNumSteps[index], this);
		}
	}

	Spectrum.prototype.getMargin = function ( value ) {
		return this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;
	};

	Spectrum.prototype.toStepping = function ( value ) {

		value = toStepping( this.xVal, this.xPct, value );

		// Invert the value if this is a right-to-left slider.
		if ( this.direction ) {
			value = 100 - value;
		}

		return value;
	};

	Spectrum.prototype.fromStepping = function ( value ) {

		// Invert the value if this is a right-to-left slider.
		if ( this.direction ) {
			value = 100 - value;
		}

		return accurateNumber(fromStepping( this.xVal, this.xPct, value ));
	};

	Spectrum.prototype.getStep = function ( value ) {

		// Find the proper step for rtl sliders by search in inverse direction.
		// Fixes issue #262.
		if ( this.direction ) {
			value = 100 - value;
		}

		value = getStep(this.xPct, this.xSteps, this.snap, value );

		if ( this.direction ) {
			value = 100 - value;
		}

		return value;
	};

	Spectrum.prototype.getApplicableStep = function ( value ) {

		// If the value is 100%, return the negative step twice.
		var j = getJ(value, this.xPct), offset = value === 100 ? 2 : 1;
		return [this.xNumSteps[j-2], this.xVal[j-offset], this.xNumSteps[j-offset]];
	};

	// Outside testing
	Spectrum.prototype.convert = function ( value ) {
		return this.getStep(this.toStepping(value));
	};

/*	Every input option is tested and parsed. This'll prevent
	endless validation in internal methods. These tests are
	structured with an item for every option available. An
	option can be marked as required by setting the 'r' flag.
	The testing function is provided with three arguments:
		- The provided value for the option;
		- A reference to the options object;
		- The name for the option;

	The testing function returns false when an error is detected,
	or true when everything is OK. It can also modify the option
	object, to make sure all values can be correctly looped elsewhere. */

	var defaultFormatter = { 'to': function( value ){
		return value !== undefined && value.toFixed(2);
	}, 'from': Number };

	function testStep ( parsed, entry ) {

		if ( !isNumeric( entry ) ) {
			throw new Error("noUiSlider: 'step' is not numeric.");
		}

		// The step option can still be used to set stepping
		// for linear sliders. Overwritten if set in 'range'.
		parsed.singleStep = entry;
	}

	function testRange ( parsed, entry ) {

		// Filter incorrect input.
		if ( typeof entry !== 'object' || Array.isArray(entry) ) {
			throw new Error("noUiSlider: 'range' is not an object.");
		}

		// Catch missing start or end.
		if ( entry.min === undefined || entry.max === undefined ) {
			throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
		}

		// Catch equal start or end.
		if ( entry.min === entry.max ) {
			throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");
		}

		parsed.spectrum = new Spectrum(entry, parsed.snap, parsed.dir, parsed.singleStep);
	}

	function testStart ( parsed, entry ) {

		entry = asArray(entry);

		// Validate input. Values aren't tested, as the public .val method
		// will always provide a valid location.
		if ( !Array.isArray( entry ) || !entry.length || entry.length > 2 ) {
			throw new Error("noUiSlider: 'start' option is incorrect.");
		}

		// Store the number of handles.
		parsed.handles = entry.length;

		// When the slider is initialized, the .val method will
		// be called with the start options.
		parsed.start = entry;
	}

	function testSnap ( parsed, entry ) {

		// Enforce 100% stepping within subranges.
		parsed.snap = entry;

		if ( typeof entry !== 'boolean' ){
			throw new Error("noUiSlider: 'snap' option must be a boolean.");
		}
	}

	function testAnimate ( parsed, entry ) {

		// Enforce 100% stepping within subranges.
		parsed.animate = entry;

		if ( typeof entry !== 'boolean' ){
			throw new Error("noUiSlider: 'animate' option must be a boolean.");
		}
	}

	function testConnect ( parsed, entry ) {

		if ( entry === 'lower' && parsed.handles === 1 ) {
			parsed.connect = 1;
		} else if ( entry === 'upper' && parsed.handles === 1 ) {
			parsed.connect = 2;
		} else if ( entry === true && parsed.handles === 2 ) {
			parsed.connect = 3;
		} else if ( entry === false ) {
			parsed.connect = 0;
		} else {
			throw new Error("noUiSlider: 'connect' option doesn't match handle count.");
		}
	}

	function testOrientation ( parsed, entry ) {

		// Set orientation to an a numerical value for easy
		// array selection.
		switch ( entry ){
		  case 'horizontal':
			parsed.ort = 0;
			break;
		  case 'vertical':
			parsed.ort = 1;
			break;
		  default:
			throw new Error("noUiSlider: 'orientation' option is invalid.");
		}
	}

	function testMargin ( parsed, entry ) {

		if ( !isNumeric(entry) ){
			throw new Error("noUiSlider: 'margin' option must be numeric.");
		}

		parsed.margin = parsed.spectrum.getMargin(entry);

		if ( !parsed.margin ) {
			throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.");
		}
	}

	function testLimit ( parsed, entry ) {

		if ( !isNumeric(entry) ){
			throw new Error("noUiSlider: 'limit' option must be numeric.");
		}

		parsed.limit = parsed.spectrum.getMargin(entry);

		if ( !parsed.limit ) {
			throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.");
		}
	}

	function testDirection ( parsed, entry ) {

		// Set direction as a numerical value for easy parsing.
		// Invert connection for RTL sliders, so that the proper
		// handles get the connect/background classes.
		switch ( entry ) {
		  case 'ltr':
			parsed.dir = 0;
			break;
		  case 'rtl':
			parsed.dir = 1;
			parsed.connect = [0,2,1,3][parsed.connect];
			break;
		  default:
			throw new Error("noUiSlider: 'direction' option was not recognized.");
		}
	}

	function testBehaviour ( parsed, entry ) {

		// Make sure the input is a string.
		if ( typeof entry !== 'string' ) {
			throw new Error("noUiSlider: 'behaviour' must be a string containing options.");
		}

		// Check if the string contains any keywords.
		// None are required.
		var tap = entry.indexOf('tap') >= 0,
			drag = entry.indexOf('drag') >= 0,
			fixed = entry.indexOf('fixed') >= 0,
			snap = entry.indexOf('snap') >= 0,
			hover = entry.indexOf('hover') >= 0;

		// Fix #472
		if ( drag && !parsed.connect ) {
			throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");
		}

		parsed.events = {
			tap: tap || snap,
			drag: drag,
			fixed: fixed,
			snap: snap,
			hover: hover
		};
	}

	function testTooltips ( parsed, entry ) {

		var i;

		if ( entry === false ) {
			return;
		} else if ( entry === true ) {

			parsed.tooltips = [];

			for ( i = 0; i < parsed.handles; i++ ) {
				parsed.tooltips.push(true);
			}

		} else {

			parsed.tooltips = asArray(entry);

			if ( parsed.tooltips.length !== parsed.handles ) {
				throw new Error("noUiSlider: must pass a formatter for all handles.");
			}

			parsed.tooltips.forEach(function(formatter){
				if ( typeof formatter !== 'boolean' && (typeof formatter !== 'object' || typeof formatter.to !== 'function') ) {
					throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");
				}
			});
		}
	}

	function testFormat ( parsed, entry ) {

		parsed.format = entry;

		// Any object with a to and from method is supported.
		if ( typeof entry.to === 'function' && typeof entry.from === 'function' ) {
			return true;
		}

		throw new Error( "noUiSlider: 'format' requires 'to' and 'from' methods.");
	}

	function testCssPrefix ( parsed, entry ) {

		if ( entry !== undefined && typeof entry !== 'string' ) {
			throw new Error( "noUiSlider: 'cssPrefix' must be a string.");
		}

		parsed.cssPrefix = entry;
	}

	// Test all developer settings and parse to assumption-safe values.
	function testOptions ( options ) {

		// To prove a fix for #537, freeze options here.
		// If the object is modified, an error will be thrown.
		// Object.freeze(options);

		var parsed = {
			margin: 0,
			limit: 0,
			animate: true,
			format: defaultFormatter
		}, tests;

		// Tests are executed in the order they are presented here.
		tests = {
			'step': { r: false, t: testStep },
			'start': { r: true, t: testStart },
			'connect': { r: true, t: testConnect },
			'direction': { r: true, t: testDirection },
			'snap': { r: false, t: testSnap },
			'animate': { r: false, t: testAnimate },
			'range': { r: true, t: testRange },
			'orientation': { r: false, t: testOrientation },
			'margin': { r: false, t: testMargin },
			'limit': { r: false, t: testLimit },
			'behaviour': { r: true, t: testBehaviour },
			'format': { r: false, t: testFormat },
			'tooltips': { r: false, t: testTooltips },
			'cssPrefix': { r: false, t: testCssPrefix }
		};

		var defaults = {
			'connect': false,
			'direction': 'ltr',
			'behaviour': 'tap',
			'orientation': 'horizontal'
		};

		// Run all options through a testing mechanism to ensure correct
		// input. It should be noted that options might get modified to
		// be handled properly. E.g. wrapping integers in arrays.
		Object.keys(tests).forEach(function( name ){

			// If the option isn't set, but it is required, throw an error.
			if ( options[name] === undefined && defaults[name] === undefined ) {

				if ( tests[name].r ) {
					throw new Error("noUiSlider: '" + name + "' is required.");
				}

				return true;
			}

			tests[name].t( parsed, options[name] === undefined ? defaults[name] : options[name] );
		});

		// Forward pips options
		parsed.pips = options.pips;

		// Pre-define the styles.
		parsed.style = parsed.ort ? 'top' : 'left';

		return parsed;
	}


function closure ( target, options ){

	// All variables local to 'closure' are prefixed with 'scope_'
	var scope_Target = target,
		scope_Locations = [-1, -1],
		scope_Base,
		scope_Handles,
		scope_Spectrum = options.spectrum,
		scope_Values = [],
		scope_Events = {},
		scope_Self;

  var cssClasses = [
    /*  0 */  'target'
    /*  1 */ ,'base'
    /*  2 */ ,'origin'
    /*  3 */ ,'handle'
    /*  4 */ ,'horizontal'
    /*  5 */ ,'vertical'
    /*  6 */ ,'background'
    /*  7 */ ,'connect'
    /*  8 */ ,'ltr'
    /*  9 */ ,'rtl'
    /* 10 */ ,'draggable'
    /* 11 */ ,''
    /* 12 */ ,'state-drag'
    /* 13 */ ,''
    /* 14 */ ,'state-tap'
    /* 15 */ ,'active'
    /* 16 */ ,''
    /* 17 */ ,'stacking'
    /* 18 */ ,'tooltip'
    /* 19 */ ,''
    /* 20 */ ,'pips'
    /* 21 */ ,'marker'
    /* 22 */ ,'value'
  ].map(addCssPrefix(options.cssPrefix || defaultCssPrefix));


	// Delimit proposed values for handle positions.
	function getPositions ( a, b, delimit ) {

		// Add movement to current position.
		var c = a + b[0], d = a + b[1];

		// Only alter the other position on drag,
		// not on standard sliding.
		if ( delimit ) {
			if ( c < 0 ) {
				d += Math.abs(c);
			}
			if ( d > 100 ) {
				c -= ( d - 100 );
			}

			// Limit values to 0 and 100.
			return [limit(c), limit(d)];
		}

		return [c,d];
	}

	// Provide a clean event with standardized offset values.
	function fixEvent ( e, pageOffset ) {

		// Prevent scrolling and panning on touch events, while
		// attempting to slide. The tap event also depends on this.
		e.preventDefault();

		// Filter the event to register the type, which can be
		// touch, mouse or pointer. Offset changes need to be
		// made on an event specific basis.
		var touch = e.type.indexOf('touch') === 0,
			mouse = e.type.indexOf('mouse') === 0,
			pointer = e.type.indexOf('pointer') === 0,
			x,y, event = e;

		// IE10 implemented pointer events with a prefix;
		if ( e.type.indexOf('MSPointer') === 0 ) {
			pointer = true;
		}

		if ( touch ) {
			// noUiSlider supports one movement at a time,
			// so we can select the first 'changedTouch'.
			x = e.changedTouches[0].pageX;
			y = e.changedTouches[0].pageY;
		}

		pageOffset = pageOffset || getPageOffset();

		if ( mouse || pointer ) {
			x = e.clientX + pageOffset.x;
			y = e.clientY + pageOffset.y;
		}

		event.pageOffset = pageOffset;
		event.points = [x, y];
		event.cursor = mouse || pointer; // Fix #435

		return event;
	}

	// Append a handle to the base.
	function addHandle ( direction, index ) {

		var origin = document.createElement('div'),
			handle = document.createElement('div'),
			additions = [ '-lower', '-upper' ];

		if ( direction ) {
			additions.reverse();
		}

		addClass(handle, cssClasses[3]);
		addClass(handle, cssClasses[3] + additions[index]);

		addClass(origin, cssClasses[2]);
		origin.appendChild(handle);

		return origin;
	}

	// Add the proper connection classes.
	function addConnection ( connect, target, handles ) {

		// Apply the required connection classes to the elements
		// that need them. Some classes are made up for several
		// segments listed in the class list, to allow easy
		// renaming and provide a minor compression benefit.
		switch ( connect ) {
			case 1:	addClass(target, cssClasses[7]);
					addClass(handles[0], cssClasses[6]);
					break;
			case 3: addClass(handles[1], cssClasses[6]);
					/* falls through */
			case 2: addClass(handles[0], cssClasses[7]);
					/* falls through */
			case 0: addClass(target, cssClasses[6]);
					break;
		}
	}

	// Add handles to the slider base.
	function addHandles ( nrHandles, direction, base ) {

		var index, handles = [];

		// Append handles.
		for ( index = 0; index < nrHandles; index += 1 ) {

			// Keep a list of all added handles.
			handles.push( base.appendChild(addHandle( direction, index )) );
		}

		return handles;
	}

	// Initialize a single slider.
	function addSlider ( direction, orientation, target ) {

		// Apply classes and data to the target.
		addClass(target, cssClasses[0]);
		addClass(target, cssClasses[8 + direction]);
		addClass(target, cssClasses[4 + orientation]);

		var div = document.createElement('div');
		addClass(div, cssClasses[1]);
		target.appendChild(div);
		return div;
	}


	function addTooltip ( handle, index ) {

		if ( !options.tooltips[index] ) {
			return false;
		}

		var element = document.createElement('div');
		element.className = cssClasses[18];
		return handle.firstChild.appendChild(element);
	}

	// The tooltips option is a shorthand for using the 'update' event.
	function tooltips ( ) {

		if ( options.dir ) {
			options.tooltips.reverse();
		}

		// Tooltips are added with options.tooltips in original order.
		var tips = scope_Handles.map(addTooltip);

		if ( options.dir ) {
			tips.reverse();
			options.tooltips.reverse();
		}

		bindEvent('update', function(f, o, r) {
			if ( tips[o] ) {
				tips[o].innerHTML = options.tooltips[o] === true ? f[o] : options.tooltips[o].to(r[o]);
			}
		});
	}


	function getGroup ( mode, values, stepped ) {

		// Use the range.
		if ( mode === 'range' || mode === 'steps' ) {
			return scope_Spectrum.xVal;
		}

		if ( mode === 'count' ) {

			// Divide 0 - 100 in 'count' parts.
			var spread = ( 100 / (values-1) ), v, i = 0;
			values = [];

			// List these parts and have them handled as 'positions'.
			while ((v=i++*spread) <= 100 ) {
				values.push(v);
			}

			mode = 'positions';
		}

		if ( mode === 'positions' ) {

			// Map all percentages to on-range values.
			return values.map(function( value ){
				return scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );
			});
		}

		if ( mode === 'values' ) {

			// If the value must be stepped, it needs to be converted to a percentage first.
			if ( stepped ) {

				return values.map(function( value ){

					// Convert to percentage, apply step, return to value.
					return scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );
				});

			}

			// Otherwise, we can simply use the values.
			return values;
		}
	}

	function generateSpread ( density, mode, group ) {

		function safeIncrement(value, increment) {
			// Avoid floating point variance by dropping the smallest decimal places.
			return (value + increment).toFixed(7) / 1;
		}

		var originalSpectrumDirection = scope_Spectrum.direction,
			indexes = {},
			firstInRange = scope_Spectrum.xVal[0],
			lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],
			ignoreFirst = false,
			ignoreLast = false,
			prevPct = 0;

		// This function loops the spectrum in an ltr linear fashion,
		// while the toStepping method is direction aware. Trick it into
		// believing it is ltr.
		scope_Spectrum.direction = 0;

		// Create a copy of the group, sort it and filter away all duplicates.
		group = unique(group.slice().sort(function(a, b){ return a - b; }));

		// Make sure the range starts with the first element.
		if ( group[0] !== firstInRange ) {
			group.unshift(firstInRange);
			ignoreFirst = true;
		}

		// Likewise for the last one.
		if ( group[group.length - 1] !== lastInRange ) {
			group.push(lastInRange);
			ignoreLast = true;
		}

		group.forEach(function ( current, index ) {

			// Get the current step and the lower + upper positions.
			var step, i, q,
				low = current,
				high = group[index+1],
				newPct, pctDifference, pctPos, type,
				steps, realSteps, stepsize;

			// When using 'steps' mode, use the provided steps.
			// Otherwise, we'll step on to the next subrange.
			if ( mode === 'steps' ) {
				step = scope_Spectrum.xNumSteps[ index ];
			}

			// Default to a 'full' step.
			if ( !step ) {
				step = high-low;
			}

			// Low can be 0, so test for false. If high is undefined,
			// we are at the last subrange. Index 0 is already handled.
			if ( low === false || high === undefined ) {
				return;
			}

			// Find all steps in the subrange.
			for ( i = low; i <= high; i = safeIncrement(i, step) ) {

				// Get the percentage value for the current step,
				// calculate the size for the subrange.
				newPct = scope_Spectrum.toStepping( i );
				pctDifference = newPct - prevPct;

				steps = pctDifference / density;
				realSteps = Math.round(steps);

				// This ratio represents the ammount of percentage-space a point indicates.
				// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.
				// Round the percentage offset to an even number, then divide by two
				// to spread the offset on both sides of the range.
				stepsize = pctDifference/realSteps;

				// Divide all points evenly, adding the correct number to this subrange.
				// Run up to <= so that 100% gets a point, event if ignoreLast is set.
				for ( q = 1; q <= realSteps; q += 1 ) {

					// The ratio between the rounded value and the actual size might be ~1% off.
					// Correct the percentage offset by the number of points
					// per subrange. density = 1 will result in 100 points on the
					// full range, 2 for 50, 4 for 25, etc.
					pctPos = prevPct + ( q * stepsize );
					indexes[pctPos.toFixed(5)] = ['x', 0];
				}

				// Determine the point type.
				type = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );

				// Enforce the 'ignoreFirst' option by overwriting the type for 0.
				if ( !index && ignoreFirst ) {
					type = 0;
				}

				if ( !(i === high && ignoreLast)) {
					// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.
					indexes[newPct.toFixed(5)] = [i, type];
				}

				// Update the percentage count.
				prevPct = newPct;
			}
		});

		// Reset the spectrum.
		scope_Spectrum.direction = originalSpectrumDirection;

		return indexes;
	}

	function addMarking ( spread, filterFunc, formatter ) {

		var style = ['horizontal', 'vertical'][options.ort],
			element = document.createElement('div');

		addClass(element, cssClasses[20]);
		addClass(element, cssClasses[20] + '-' + style);

		function getSize( type ){
			return [ '-normal', '-large', '-sub' ][type];
		}

		function getTags( offset, source, values ) {
			return 'class="' + source + ' ' +
				source + '-' + style + ' ' +
				source + getSize(values[1]) +
				'" style="' + options.style + ': ' + offset + '%"';
		}

		function addSpread ( offset, values ){

			if ( scope_Spectrum.direction ) {
				offset = 100 - offset;
			}

			// Apply the filter function, if it is set.
			values[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];

			// Add a marker for every point
			element.innerHTML += '<div ' + getTags(offset, cssClasses[21], values) + '></div>';

			// Values are only appended for points marked '1' or '2'.
			if ( values[1] ) {
				element.innerHTML += '<div '+getTags(offset, cssClasses[22], values)+'>' + formatter.to(values[0]) + '</div>';
			}
		}

		// Append all points.
		Object.keys(spread).forEach(function(a){
			addSpread(a, spread[a]);
		});

		return element;
	}

	function pips ( grid ) {

	var mode = grid.mode,
		density = grid.density || 1,
		filter = grid.filter || false,
		values = grid.values || false,
		stepped = grid.stepped || false,
		group = getGroup( mode, values, stepped ),
		spread = generateSpread( density, mode, group ),
		format = grid.format || {
			to: Math.round
		};

		return scope_Target.appendChild(addMarking(
			spread,
			filter,
			format
		));
	}


	// Shorthand for base dimensions.
	function baseSize ( ) {
		return scope_Base['offset' + ['Width', 'Height'][options.ort]];
	}

	// External event handling
	function fireEvent ( event, handleNumber, tap ) {

		if ( handleNumber !== undefined && options.handles !== 1 ) {
			handleNumber = Math.abs(handleNumber - options.dir);
		}

		Object.keys(scope_Events).forEach(function( targetEvent ) {

			var eventType = targetEvent.split('.')[0];

			if ( event === eventType ) {
				scope_Events[targetEvent].forEach(function( callback ) {
					// .reverse is in place
					// Return values as array, so arg_1[arg_2] is always valid.
					callback.call(scope_Self, asArray(valueGet()), handleNumber, asArray(inSliderOrder(Array.prototype.slice.call(scope_Values))), tap || false);
				});
			}
		});
	}

	// Returns the input array, respecting the slider direction configuration.
	function inSliderOrder ( values ) {

		// If only one handle is used, return a single value.
		if ( values.length === 1 ){
			return values[0];
		}

		if ( options.dir ) {
			return values.reverse();
		}

		return values;
	}


	// Handler for attaching events trough a proxy.
	function attach ( events, element, callback, data ) {

		// This function can be used to 'filter' events to the slider.
		// element is a node, not a nodeList

		var method = function ( e ){

			if ( scope_Target.hasAttribute('disabled') ) {
				return false;
			}

			// Stop if an active 'tap' transition is taking place.
			if ( hasClass(scope_Target, cssClasses[14]) ) {
				return false;
			}

			e = fixEvent(e, data.pageOffset);

			// Ignore right or middle clicks on start #454
			if ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {
				return false;
			}

			// Ignore right or middle clicks on start #454
			if ( data.hover && e.buttons ) {
				return false;
			}

			e.calcPoint = e.points[ options.ort ];

			// Call the event handler with the event [ and additional data ].
			callback ( e, data );

		}, methods = [];

		// Bind a closure on the target for every event type.
		events.split(' ').forEach(function( eventName ){
			element.addEventListener(eventName, method, false);
			methods.push([eventName, method]);
		});

		return methods;
	}

	// Handle movement on document for handle and range drag.
	function move ( event, data ) {

		// Fix #498
		// Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).
		// https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero
		// IE9 has .buttons and .which zero on mousemove.
		// Firefox breaks the spec MDN defines.
		if ( navigator.appVersion.indexOf("MSIE 9") === -1 && event.buttons === 0 && data.buttonsProperty !== 0 ) {
			return end(event, data);
		}

		var handles = data.handles || scope_Handles, positions, state = false,
			proposal = ((event.calcPoint - data.start) * 100) / data.baseSize,
			handleNumber = handles[0] === scope_Handles[0] ? 0 : 1, i;

		// Calculate relative positions for the handles.
		positions = getPositions( proposal, data.positions, handles.length > 1);

		state = setHandle ( handles[0], positions[handleNumber], handles.length === 1 );

		if ( handles.length > 1 ) {

			state = setHandle ( handles[1], positions[handleNumber?0:1], false ) || state;

			if ( state ) {
				// fire for both handles
				for ( i = 0; i < data.handles.length; i++ ) {
					fireEvent('slide', i);
				}
			}
		} else if ( state ) {
			// Fire for a single handle
			fireEvent('slide', handleNumber);
		}
	}

	// Unbind move events on document, call callbacks.
	function end ( event, data ) {

		// The handle is no longer active, so remove the class.
		var active = scope_Base.querySelector( '.' + cssClasses[15] ),
			handleNumber = data.handles[0] === scope_Handles[0] ? 0 : 1;

		if ( active !== null ) {
			removeClass(active, cssClasses[15]);
		}

		// Remove cursor styles and text-selection events bound to the body.
		if ( event.cursor ) {
			document.body.style.cursor = '';
			document.body.removeEventListener('selectstart', document.body.noUiListener);
		}

		var d = document.documentElement;

		// Unbind the move and end events, which are added on 'start'.
		d.noUiListeners.forEach(function( c ) {
			d.removeEventListener(c[0], c[1]);
		});

		// Remove dragging class.
		removeClass(scope_Target, cssClasses[12]);

		// Fire the change and set events.
		fireEvent('set', handleNumber);
		fireEvent('change', handleNumber);

		// If this is a standard handle movement, fire the end event.
		if ( data.handleNumber !== undefined ) {
			fireEvent('end', data.handleNumber);
		}
	}

	// Fire 'end' when a mouse or pen leaves the document.
	function documentLeave ( event, data ) {
		if ( event.type === "mouseout" && event.target.nodeName === "HTML" && event.relatedTarget === null ){
			end ( event, data );
		}
	}

	// Bind move events on document.
	function start ( event, data ) {

		var d = document.documentElement;

		// Mark the handle as 'active' so it can be styled.
		if ( data.handles.length === 1 ) {
			addClass(data.handles[0].children[0], cssClasses[15]);

			// Support 'disabled' handles
			if ( data.handles[0].hasAttribute('disabled') ) {
				return false;
			}
		}

		// Fix #551, where a handle gets selected instead of dragged.
		event.preventDefault();

		// A drag should never propagate up to the 'tap' event.
		event.stopPropagation();

		// Attach the move and end events.
		var moveEvent = attach(actions.move, d, move, {
			start: event.calcPoint,
			baseSize: baseSize(),
			pageOffset: event.pageOffset,
			handles: data.handles,
			handleNumber: data.handleNumber,
			buttonsProperty: event.buttons,
			positions: [
				scope_Locations[0],
				scope_Locations[scope_Handles.length - 1]
			]
		}), endEvent = attach(actions.end, d, end, {
			handles: data.handles,
			handleNumber: data.handleNumber
		});

		var outEvent = attach("mouseout", d, documentLeave, {
			handles: data.handles,
			handleNumber: data.handleNumber
		});

		d.noUiListeners = moveEvent.concat(endEvent, outEvent);

		// Text selection isn't an issue on touch devices,
		// so adding cursor styles can be skipped.
		if ( event.cursor ) {

			// Prevent the 'I' cursor and extend the range-drag cursor.
			document.body.style.cursor = getComputedStyle(event.target).cursor;

			// Mark the target with a dragging state.
			if ( scope_Handles.length > 1 ) {
				addClass(scope_Target, cssClasses[12]);
			}

			var f = function(){
				return false;
			};

			document.body.noUiListener = f;

			// Prevent text selection when dragging the handles.
			document.body.addEventListener('selectstart', f, false);
		}

		if ( data.handleNumber !== undefined ) {
			fireEvent('start', data.handleNumber);
		}
	}

	// Move closest handle to tapped location.
	function tap ( event ) {

		var location = event.calcPoint, total = 0, handleNumber, to;

		// The tap event shouldn't propagate up and cause 'edge' to run.
		event.stopPropagation();

		// Add up the handle offsets.
		scope_Handles.forEach(function(a){
			total += offset(a)[ options.style ];
		});

		// Find the handle closest to the tapped position.
		handleNumber = ( location < total/2 || scope_Handles.length === 1 ) ? 0 : 1;

		location -= offset(scope_Base)[ options.style ];

		// Calculate the new position.
		to = ( location * 100 ) / baseSize();

		if ( !options.events.snap ) {
			// Flag the slider as it is now in a transitional state.
			// Transition takes 300 ms, so re-enable the slider afterwards.
			addClassFor( scope_Target, cssClasses[14], 300 );
		}

		// Support 'disabled' handles
		if ( scope_Handles[handleNumber].hasAttribute('disabled') ) {
			return false;
		}

		// Find the closest handle and calculate the tapped point.
		// The set handle to the new position.
		setHandle( scope_Handles[handleNumber], to );

		fireEvent('slide', handleNumber, true);
		fireEvent('set', handleNumber, true);
		fireEvent('change', handleNumber, true);

		if ( options.events.snap ) {
			start(event, { handles: [scope_Handles[handleNumber]] });
		}
	}

	// Fires a 'hover' event for a hovered mouse/pen position.
	function hover ( event ) {

		var location = event.calcPoint - offset(scope_Base)[ options.style ],
			to = scope_Spectrum.getStep(( location * 100 ) / baseSize()),
			value = scope_Spectrum.fromStepping( to );

		Object.keys(scope_Events).forEach(function( targetEvent ) {
			if ( 'hover' === targetEvent.split('.')[0] ) {
				scope_Events[targetEvent].forEach(function( callback ) {
					callback.call( scope_Self, value );
				});
			}
		});
	}

	// Attach events to several slider parts.
	function events ( behaviour ) {

		var i, drag;

		// Attach the standard drag event to the handles.
		if ( !behaviour.fixed ) {

			for ( i = 0; i < scope_Handles.length; i += 1 ) {

				// These events are only bound to the visual handle
				// element, not the 'real' origin element.
				attach ( actions.start, scope_Handles[i].children[0], start, {
					handles: [ scope_Handles[i] ],
					handleNumber: i
				});
			}
		}

		// Attach the tap event to the slider base.
		if ( behaviour.tap ) {

			attach ( actions.start, scope_Base, tap, {
				handles: scope_Handles
			});
		}

		// Fire hover events
		if ( behaviour.hover ) {
			attach ( actions.move, scope_Base, hover, { hover: true } );
			for ( i = 0; i < scope_Handles.length; i += 1 ) {
				['mousemove MSPointerMove pointermove'].forEach(function( eventName ){
					scope_Handles[i].children[0].addEventListener(eventName, stopPropagation, false);
				});
			}
		}

		// Make the range draggable.
		if ( behaviour.drag ){

			drag = [scope_Base.querySelector( '.' + cssClasses[7] )];
			addClass(drag[0], cssClasses[10]);

			// When the range is fixed, the entire range can
			// be dragged by the handles. The handle in the first
			// origin will propagate the start event upward,
			// but it needs to be bound manually on the other.
			if ( behaviour.fixed ) {
				drag.push(scope_Handles[(drag[0] === scope_Handles[0] ? 1 : 0)].children[0]);
			}

			drag.forEach(function( element ) {
				attach ( actions.start, element, start, {
					handles: scope_Handles
				});
			});
		}
	}


	// Test suggested values and apply margin, step.
	function setHandle ( handle, to, noLimitOption ) {

		var trigger = handle !== scope_Handles[0] ? 1 : 0,
			lowerMargin = scope_Locations[0] + options.margin,
			upperMargin = scope_Locations[1] - options.margin,
			lowerLimit = scope_Locations[0] + options.limit,
			upperLimit = scope_Locations[1] - options.limit;

		// For sliders with multiple handles,
		// limit movement to the other handle.
		// Apply the margin option by adding it to the handle positions.
		if ( scope_Handles.length > 1 ) {
			to = trigger ? Math.max( to, lowerMargin ) : Math.min( to, upperMargin );
		}

		// The limit option has the opposite effect, limiting handles to a
		// maximum distance from another. Limit must be > 0, as otherwise
		// handles would be unmoveable. 'noLimitOption' is set to 'false'
		// for the .val() method, except for pass 4/4.
		if ( noLimitOption !== false && options.limit && scope_Handles.length > 1 ) {
			to = trigger ? Math.min ( to, lowerLimit ) : Math.max( to, upperLimit );
		}

		// Handle the step option.
		to = scope_Spectrum.getStep( to );

		// Limit to 0/100 for .val input, trim anything beyond 7 digits, as
		// JavaScript has some issues in its floating point implementation.
		to = limit(parseFloat(to.toFixed(7)));

		// Return false if handle can't move
		if ( to === scope_Locations[trigger] ) {
			return false;
		}

		// Set the handle to the new position.
		// Use requestAnimationFrame for efficient painting.
		// No significant effect in Chrome, Edge sees dramatic
		// performace improvements.
		if ( window.requestAnimationFrame ) {
			window.requestAnimationFrame(function(){
				handle.style[options.style] = to + '%';
			});
		} else {
			handle.style[options.style] = to + '%';
		}

		// Force proper handle stacking
		if ( !handle.previousSibling ) {
			removeClass(handle, cssClasses[17]);
			if ( to > 50 ) {
				addClass(handle, cssClasses[17]);
			}
		}

		// Update locations.
		scope_Locations[trigger] = to;

		// Convert the value to the slider stepping/range.
		scope_Values[trigger] = scope_Spectrum.fromStepping( to );

		fireEvent('update', trigger);

		return true;
	}

	// Loop values from value method and apply them.
	function setValues ( count, values ) {

		var i, trigger, to;

		// With the limit option, we'll need another limiting pass.
		if ( options.limit ) {
			count += 1;
		}

		// If there are multiple handles to be set run the setting
		// mechanism twice for the first handle, to make sure it
		// can be bounced of the second one properly.
		for ( i = 0; i < count; i += 1 ) {

			trigger = i%2;

			// Get the current argument from the array.
			to = values[trigger];

			// Setting with null indicates an 'ignore'.
			// Inputting 'false' is invalid.
			if ( to !== null && to !== false ) {

				// If a formatted number was passed, attemt to decode it.
				if ( typeof to === 'number' ) {
					to = String(to);
				}

				to = options.format.from( to );

				// Request an update for all links if the value was invalid.
				// Do so too if setting the handle fails.
				if ( to === false || isNaN(to) || setHandle( scope_Handles[trigger], scope_Spectrum.toStepping( to ), i === (3 - options.dir) ) === false ) {
					fireEvent('update', trigger);
				}
			}
		}
	}

	// Set the slider value.
	function valueSet ( input ) {

		var count, values = asArray( input ), i;

		// The RTL settings is implemented by reversing the front-end,
		// internal mechanisms are the same.
		if ( options.dir && options.handles > 1 ) {
			values.reverse();
		}

		// Animation is optional.
		// Make sure the initial values where set before using animated placement.
		if ( options.animate && scope_Locations[0] !== -1 ) {
			addClassFor( scope_Target, cssClasses[14], 300 );
		}

		// Determine how often to set the handles.
		count = scope_Handles.length > 1 ? 3 : 1;

		if ( values.length === 1 ) {
			count = 1;
		}

		setValues ( count, values );

		// Fire the 'set' event for both handles.
		for ( i = 0; i < scope_Handles.length; i++ ) {
			fireEvent('set', i);
		}
	}

	// Get the slider value.
	function valueGet ( ) {

		var i, retour = [];

		// Get the value from all handles.
		for ( i = 0; i < options.handles; i += 1 ){
			retour[i] = options.format.to( scope_Values[i] );
		}

		return inSliderOrder( retour );
	}

	// Removes classes from the root and empties it.
	function destroy ( ) {
		cssClasses.forEach(function(cls){
			if ( !cls ) { return; } // Ignore empty classes
			removeClass(scope_Target, cls);
		});
		scope_Target.innerHTML = '';
		delete scope_Target.noUiSlider;
	}

	// Get the current step size for the slider.
	function getCurrentStep ( ) {

		// Check all locations, map them to their stepping point.
		// Get the step point, then find it in the input list.
		var retour = scope_Locations.map(function( location, index ){

			var step = scope_Spectrum.getApplicableStep( location ),

				// As per #391, the comparison for the decrement step can have some rounding issues.
				// Round the value to the precision used in the step.
				stepDecimals = countDecimals(String(step[2])),

				// Get the current numeric value
				value = scope_Values[index],

				// To move the slider 'one step up', the current step value needs to be added.
				// Use null if we are at the maximum slider value.
				increment = location === 100 ? null : step[2],

				// Going 'one step down' might put the slider in a different sub-range, so we
				// need to switch between the current or the previous step.
				prev = Number((value - step[2]).toFixed(stepDecimals)),

				// If the value fits the step, return the current step value. Otherwise, use the
				// previous step. Return null if the slider is at its minimum value.
				decrement = location === 0 ? null : (prev >= step[1]) ? step[2] : (step[0] || false);

			return [decrement, increment];
		});

		// Return values in the proper order.
		return inSliderOrder( retour );
	}

	// Attach an event to this slider, possibly including a namespace
	function bindEvent ( namespacedEvent, callback ) {
		scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];
		scope_Events[namespacedEvent].push(callback);

		// If the event bound is 'update,' fire it immediately for all handles.
		if ( namespacedEvent.split('.')[0] === 'update' ) {
			scope_Handles.forEach(function(a, index){
				fireEvent('update', index);
			});
		}
	}

	// Undo attachment of event
	function removeEvent ( namespacedEvent ) {

		var event = namespacedEvent.split('.')[0],
			namespace = namespacedEvent.substring(event.length);

		Object.keys(scope_Events).forEach(function( bind ){

			var tEvent = bind.split('.')[0],
				tNamespace = bind.substring(tEvent.length);

			if ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {
				delete scope_Events[bind];
			}
		});
	}

	// Updateable: margin, limit, step, range, animate, snap
	function updateOptions ( optionsToUpdate ) {

		var v = valueGet(), i, newOptions = testOptions({
			start: [0, 0],
			margin: optionsToUpdate.margin,
			limit: optionsToUpdate.limit,
			step: optionsToUpdate.step,
			range: optionsToUpdate.range,
			animate: optionsToUpdate.animate,
			snap: optionsToUpdate.snap === undefined ? options.snap : optionsToUpdate.snap
		});

		['margin', 'limit', 'step', 'range', 'animate'].forEach(function(name){
			if ( optionsToUpdate[name] !== undefined ) {
				options[name] = optionsToUpdate[name];
			}
		});

		scope_Spectrum = newOptions.spectrum;

		// Invalidate the current positioning so valueSet forces an update.
		scope_Locations = [-1, -1];
		valueSet(v);

		for ( i = 0; i < scope_Handles.length; i++ ) {
			fireEvent('update', i);
		}
	}


	// Throw an error if the slider was already initialized.
	if ( scope_Target.noUiSlider ) {
		throw new Error('Slider was already initialized.');
	}

	// Create the base element, initialise HTML and set classes.
	// Add handles and links.
	scope_Base = addSlider( options.dir, options.ort, scope_Target );
	scope_Handles = addHandles( options.handles, options.dir, scope_Base );

	// Set the connect classes.
	addConnection ( options.connect, scope_Target, scope_Handles );

	if ( options.pips ) {
		pips(options.pips);
	}

	if ( options.tooltips ) {
		tooltips();
	}

	scope_Self = {
		destroy: destroy,
		steps: getCurrentStep,
		on: bindEvent,
		off: removeEvent,
		get: valueGet,
		set: valueSet,
		updateOptions: updateOptions
	};

	// Attach user events.
	events( options.events );

	return scope_Self;

}


	// Run the standard initializer
	function initialize ( target, originalOptions ) {

		if ( !target.nodeName ) {
			throw new Error('noUiSlider.create requires a single element.');
		}

		// Test the options and create the slider environment;
		var options = testOptions( originalOptions, target ),
			slider = closure( target, options );

		// Use the public value method to set the start values.
		slider.set(options.start);

		target.noUiSlider = slider;
		return slider;
	}

	// Use an object instead of a function for future expansibility;
	return {
		create: initialize
	};

}));
define("nouislider", function(){});

/**
 * Created by correnti on 16/11/2015.
 */

$(document).on({
    ready: function() {



    },
});


define("accordion", ["jquery"], function(){});

/**
 * Created by correnti on 19/11/2015.
 */



$(document).ready(function(){
    _resize();
    $(window).resize(_resize)
    function _resize(){

       // console.log($("#pageNotFound").length());
        if($(this).width() < 900)
        {
            $("#pageNotFound").attr("src", "../../css/images/Under_construction_320.jpg")
            return;
        }
        $("#pageNotFound").attr("src", "../../css/images/Under_construction.jpg")

        //console.log($("#Under_construction").length());
        if($(this).width() < 900)
        {
            $("#Under_construction").attr("src", "../../css/images/Under_construction_320.jpg")
            return;
        }
        $("#Under_construction").attr("src", "../../css/images/Under_construction.jpg")

    }
});
define("wrongDirection", ["jquery"], function(){});

/**
 * Created by correnti on 20/11/2015.
 */

var userCookie = userCookie || {};

userCookie.fillParams = function(name, password, email, response){
      this.name = name;
      this.userPassword = password;
      this.email = email;
      this.response = response;
//    this.sessionId = sessionId;
//    this.id = id;
//    this.token = "Bearer " + token;
};

userCookie.getKey = function(lastUser){

      if(lastUser)
      {
            if(lastUser.response)
            {
                  return "userCookie" +
                      lastUser.response.userId
                        + lastUser.response.t_authorization;
                  //+ lastUser.response.sessionId;
            }
      }
      return "guestCookie";
};


define("UserCookie", function(){});

/**
 * Created by correnti on 17/11/2015.
 */


var Slider = Slider || {};

Slider.AddSliderListener = function(){

    var ____moveSlider = setInterval(moveSlider, 10000)
    var delayAnim04 = "delayAnim01 ";
    var bounceOutRight ='animated bounceOutRight ', bounceInLeft = 'animated bounceInLeft ';
    var bounceInRight ='animated bounceInRight ', bounceOutLeft ='animated bounceOutLeft ';
    var animEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';

    $(window).on({ resize: _resize });

    $(document).on("click", ".slider-steps > span", function(a){
        clearInterval(____moveSlider);

        var lastSelected = $(".slider-steps span.selected").index();
        $(".slider-steps span").removeClass("selected");
        $(".slider-steps span").css({
            "border":  $(this).index() == 1 ? "solid black 1px" : "solid white 1px",
            "background-color": "transparent",
        });
        $(this).css({"background-color":  $(this).index() == 1 ? "black" : "white",});
        $(this).addClass("selected");


        /* Animate h2 & Button */
        if(lastSelected > $(this).index()){

            $(".slider-length div:nth-child("+(lastSelected + 1)+") .container h2").addClass(bounceOutRight)
                .one(animEnd, function(){ $(this).removeClass(bounceOutRight); });
            $(".slider-length div:nth-child("+(lastSelected + 1)+") .container button").addClass(bounceOutRight + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceOutRight + delayAnim04); });

            $(".slider-length div:nth-child("+($(this).index() + 1)+") .container h2").addClass(bounceInLeft)
                .one(animEnd, function(){ $(this).removeClass(bounceInLeft); });
            $(".slider-length div:nth-child("+($(this).index() + 1)+") .container button").addClass(bounceInLeft + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceInLeft + delayAnim04); });
        }
        else{

            $(".slider-length div:nth-child("+($(this).index())+") .container h2").addClass(bounceOutLeft)
                .one(animEnd, function(){ $(this).removeClass(bounceOutLeft); });
            $(".slider-length div:nth-child("+($(this).index())+") .container button").addClass(bounceOutLeft + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceOutLeft + delayAnim04); });

            $(".slider-length div:nth-child("+($(this).index() + 1)+") .container h2").addClass(bounceInRight)
                .one(animEnd, function(){ $(this).removeClass(bounceInRight); });
            $(".slider-length div:nth-child("+($(this).index() + 1)+") .container button").addClass(bounceInRight + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceInRight + delayAnim04); });
        }
        /* --------------- end Animate h2 & Button  ---------------*/



        /* Move Slider */
        $(".slider-length").css({
            "right" : ($(this).index()) * parseInt($(window).width()) + "px"
        });
        /* --------------- Move Slider ---------------*/

        setTimeout(function(){
            ____moveSlider = setInterval(moveSlider, 10000);
        }, 500);
    });



    function moveSlider()
    {
        try{
            if($(".slider-length").length == 0){ clearInterval(____moveSlider);return; }


            /* Build Object */
            var objProps = {};
            objProps.length = $(".slider-length").width();
            objProps._windowsLength = $(window).width();
            objProps.int_right = parseInt($(".slider-length").css("right").replace("px", ""));
            objProps.spans = $(".slider-steps span");
            objProps.nth_child = (objProps.int_right / objProps._windowsLength) + 1;

            objProps.index = objProps.int_right == 0 ? 0
                : (objProps.int_right / objProps._windowsLength) == objProps.spans.length - 1 ? -1
                : objProps.int_right / objProps._windowsLength;
            objProps.index++;
            /* --------------- end Build Object ---------------*/






            /* Update UI */
            $(objProps.spans).removeClass("selected");
            $(".slider-steps span").css({ "border":  objProps.index == 1 ? "solid black 1px" : "solid white 1px", "background-color": "transparent", });
            $($(".slider-steps span")[objProps.index]).css({"background-color":  objProps.index == 1 ? "black" : "white",});
            $(objProps.spans[objProps.index]).addClass("selected");
            /* --------------- Update UI ---------------*/




            /* Animate h2 & Button */
            $(".slider-length div:nth-child("+(objProps.nth_child)+") .container h2").addClass(bounceOutLeft)
                .one(animEnd, function(){ $(this).removeClass(bounceOutLeft); });
            $(".slider-length div:nth-child("+(objProps.nth_child)+") .container button").addClass(bounceOutLeft + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceOutLeft + delayAnim04); });

            $(".slider-length div:nth-child("+(objProps.nth_child + 1)+") .container h2").addClass(bounceInRight)
                .one(animEnd, function(){ $(this).removeClass(bounceInRight); });
            $(".slider-length div:nth-child("+(objProps.nth_child + 1)+") .container button").addClass(bounceInRight + delayAnim04)
                .one(animEnd, function(){ $(this).removeClass(bounceInRight + delayAnim04); });
            /* --------------- end Animate h2 & Button  ---------------*/



            $(".slider-length").css("right",  (objProps.int_right) + parseInt(objProps._windowsLength) + "px");

            /* Checking if is the last Frame  */
            var moveTo = (parseInt($(".slider-length").stop().css("right").replace("px", "")) + (parseInt(objProps._windowsLength) *2));
            if (objProps.length < moveTo) {
                $(".slider-length").removeClass("transition");
                $(".slider-length").css("right", "0px");
                setTimeout(function(){
                    $(".slider-length").addClass("transition");
                    moveSlider();
                }, 100)
            }
            /* --------------- end  Checking if is the last Frame  ---------------*/

        }
        catch(e){
            clearInterval(____moveSlider);
        }
    }



    function _resize() {
        $(".slider-length").css("right", "0px");
        var spans = $(".slider-steps span");
        $(spans).removeClass("selected");
        $(spans[0]).addClass("selected");
    }




}












;
define("slider", ["jquery"], function(){});

/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),
J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);
define("uiRouter", ["angular"], function(){});

angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(e){"use strict";function i(e){try{return decodeURIComponent(e)}catch(i){}}return function(){function t(t,n,r){var o,s,p,u,a,c,d,x,f;r=r||{};var g=r.decode||i,l=r.encode||encodeURIComponent;if(void 0!==n)return n="object"==typeof n?JSON.stringify(n):n+"","number"==typeof r.expires&&(f=r.expires,r.expires=new Date,-1===f?r.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==r.expirationUnit?"hours"===r.expirationUnit?r.expires.setHours(r.expires.getHours()+f):"minutes"===r.expirationUnit?r.expires.setMinutes(r.expires.getMinutes()+f):"seconds"===r.expirationUnit?r.expires.setSeconds(r.expires.getSeconds()+f):"milliseconds"===r.expirationUnit?r.expires.setMilliseconds(r.expires.getMilliseconds()+f):r.expires.setDate(r.expires.getDate()+f):r.expires.setDate(r.expires.getDate()+f)),e[0].cookie=[l(t),"=",l(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(s=[],x=e[0].cookie,x&&(s=x.split("; ")),o={},d=!1,p=0;s.length>p;++p)if(s[p]){if(u=s[p],a=u.indexOf("="),c=u.substring(0,a),n=g(u.substring(a+1)),angular.isUndefined(n))continue;if(void 0===t||t===c){try{o[c]=JSON.parse(n)}catch(m){o[c]=n}if(t===c)return o[c];d=!0}}return d&&void 0===t?o:void 0}return t.remove=function(e,i){var n=void 0!==t(e);return n&&(i||(i={}),i.expires=-1,t(e,"",i)),n},t}()}]);
define("angular-cookie", ["angular"], function(){});

/*
 AngularJS v1.4.14
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(D,n,Va){'use strict';function za(a,b,c){if(!a)throw Ka("areq",b||"?",c||"required");return a}function Aa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;da(a)&&(a=a.join(" "));da(b)&&(b=b.join(" "));return a+" "+b}function La(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function X(a,b,c){var d="";a=da(a)?a:a&&E(a)&&a.length?a.split(/\s+/):[];s(a,function(a,f){a&&0<a.length&&(d+=0<f?" ":"",d+=c?b+a:a+b)});return d}function Ma(a){if(a instanceof G)switch(a.length){case 0:return a;
case 1:if(1===a[0].nodeType)return a;break;default:return G(ha(a))}if(1===a.nodeType)return G(a)}function ha(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Na(a,b,c){s(b,function(b){a.addClass(b,c)})}function Oa(a,b,c){s(b,function(b){a.removeClass(b,c)})}function Q(a){return function(b,c){c.addClass&&(Na(a,b,c.addClass),c.addClass=null);c.removeClass&&(Oa(a,b,c.removeClass),c.removeClass=null)}}function pa(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
O;a.domOperation=function(){a.$$domOperationFired=!0;b();b=O};a.$$prepared=!0}return a}function ia(a,b){Ba(a,b);Ca(a,b)}function Ba(a,b){b.from&&(a.css(b.from),b.from=null)}function Ca(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),f=(d.removeClass||"")+" "+(c.removeClass||"");a=Pa(a.attr("class"),e,f);c.preparationClasses&&(d.preparationClasses=Y(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
e=d.domOperation!==O?d.domOperation:null;Da(d,c);e&&(d.domOperation=e);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Pa(a,b,c){function d(a){E(a)&&(a=a.split(" "));var b={};s(a,function(a){a.length&&(b[a]=!0)});return b}var e={};a=d(a);b=d(b);s(b,function(a,b){e[b]=1});c=d(c);s(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};s(e,function(b,c){var d,e;1===b?(d="addClass",
e=!a[c]):-1===b&&(d="removeClass",e=a[c]);e&&(f[d].length&&(f[d]+=" "),f[d]+=c)});return f}function x(a){return a instanceof n.element?a[0]:a}function Qa(a,b,c){var d="";b&&(d=X(b,"ng-",!0));c.addClass&&(d=Y(d,X(c.addClass,"-add")));c.removeClass&&(d=Y(d,X(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function qa(a,b){var c=b?"-"+b+"s":"";ma(a,[na,c]);return[na,c]}function sa(a,b){var c=b?"paused":"",d=Z+"PlayState";ma(a,[d,c]);return[d,c]}function ma(a,b){a.style[b[0]]=
b[1]}function Y(a,b){return a?b?a+" "+b:a:b}function Ea(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};s(c,function(a,b){var c=e[a];if(c){var J=c.charAt(0);if("-"===J||"+"===J||0<=J)c=Ra(c);0===c&&(c=null);d[b]=c}});return d}function Ra(a){var b=0;a=a.split(/\s*,\s*/);s(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function ta(a){return 0===a||null!=a}function Fa(a,b){var c=R,d=a+"s";b?c+="Duration":d+=" linear all";
return[c,d]}function Ga(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ha(a,b,c){s(c,function(c){a[c]=$(a[c])?a[c]:b.style.getPropertyValue(c)})}var O=n.noop,Ia=n.copy,Da=n.extend,G=n.element,s=n.forEach,da=n.isArray,E=n.isString,ea=n.isObject,N=n.isUndefined,$=n.isDefined,Ja=n.isFunction,ua=n.isElement,R,va,Z,wa;N(D.ontransitionend)&&
$(D.onwebkittransitionend)?(R="WebkitTransition",va="webkitTransitionEnd transitionend"):(R="transition",va="transitionend");N(D.onanimationend)&&$(D.onwebkitanimationend)?(Z="WebkitAnimation",wa="webkitAnimationEnd animationend"):(Z="animation",wa="animationend");var ra=Z+"Delay",xa=Z+"Duration",na=R+"Delay";D=R+"Duration";var Ka=n.$$minErr("ng"),Sa={transitionDuration:D,transitionDelay:na,transitionProperty:R+"Property",animationDuration:xa,animationDelay:ra,animationIterationCount:Z+"IterationCount"},
Ta={transitionDuration:D,transitionDelay:na,animationDuration:xa,animationDelay:ra};n.module("ngAnimate",[]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var f=d.ngAnimateChildren;n.isString(f)&&0===f.length?c.data("$$ngAnimateChildren",!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a);c()}function c(){if(d.length){for(var b=
d.shift(),L=0;L<b.length;L++)b[L]();e||a(function(){e||c()})}}var d,e;d=b.queue=[];b.waitUntilQuiet=function(b){e&&e();e=a(function(){e=null;b();c()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);s(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return f[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=
0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(a,b,c){return!b.structural&&e(b)});f.skip.push(function(a,b,c){return!b.structural&&!e(b)});f.skip.push(function(a,b,c){return"leave"==c.event&&b.structural});f.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural});f.cancel.push(function(a,b,c){return c.structural&&b.structural});f.cancel.push(function(a,b,c){return 2===c.state&&b.structural});
f.cancel.push(function(a,b,d){a=b.addClass;b=b.removeClass;var e=d.addClass;d=d.removeClass;return N(a)&&N(b)||N(e)&&N(d)?!1:c(a,d)||c(b,e)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,f,r,v,n,t,y,m,g){function P(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0;b()})}}function H(a,b,c){var h=x(b),d=x(a),k=[];(a=l[c])&&s(a,function(a){aa.call(a.node,h)?k.push(a.callback):
"leave"===c&&aa.call(a.node,d)&&k.push(a.callback)});return k}function k(a,K,k){function l(c,h,d,k){r(function(){var c=H(I,a,h);c.length&&b(function(){s(c,function(b){b(a,d,k)})})});c.progress(h,d,k)}function u(b){var c=a,h=g;h.preparationClasses&&(c.removeClass(h.preparationClasses),h.preparationClasses=null);h.activeClasses&&(c.removeClass(h.activeClasses),h.activeClasses=null);A(a,g);ia(a,g);g.domOperation();f.complete(!b)}var g=Ia(k),W,I;if(a=Ma(a))W=x(a),I=a.parent();var g=pa(g),f=new t,r=P();
da(g.addClass)&&(g.addClass=g.addClass.join(" "));g.addClass&&!E(g.addClass)&&(g.addClass=null);da(g.removeClass)&&(g.removeClass=g.removeClass.join(" "));g.removeClass&&!E(g.removeClass)&&(g.removeClass=null);g.from&&!ea(g.from)&&(g.from=null);g.to&&!ea(g.to)&&(g.to=null);if(!W)return u(),f;k=[W.className,g.addClass,g.removeClass].join(" ");if(!Ua(k))return u(),f;var J=0<=["enter","move","leave"].indexOf(K),m=h.hidden,v=!F||m||B.get(W);k=!v&&w.get(W)||{};var aa=!!k.state;v||aa&&1==k.state||(v=!p(a,
I,K));if(v)return m&&l(f,K,"start"),u(),m&&l(f,K,"close"),f;J&&ya(a);m={structural:J,element:a,event:K,addClass:g.addClass,removeClass:g.removeClass,close:u,options:g,runner:f};if(aa){if(d("skip",a,m,k)){if(2===k.state)return u(),f;T(a,k,m);return k.runner}if(d("cancel",a,m,k))if(2===k.state)k.runner.end();else if(k.structural)k.close();else return T(a,k,m),k.runner;else if(d("join",a,m,k))if(2===k.state)T(a,m,{});else return Qa(a,J?K:null,g),K=m.event=k.event,g=T(a,k,m),k.runner}else T(a,m,{});(aa=
m.structural)||(aa="animate"===m.event&&0<Object.keys(m.options.to||{}).length||e(m));if(!aa)return u(),la(a),f;var y=(k.counter||0)+1;m.counter=y;C(a,1,m);c.$$postDigest(function(){var b=w.get(W),c=!b,b=b||{},h=0<(a.parent()||[]).length&&("animate"===b.event||b.structural||e(b));if(c||b.counter!==y||!h){c&&(A(a,g),ia(a,g));if(c||J&&b.event!==K)g.domOperation(),f.end();h||la(a)}else K=!b.structural&&e(b,!0)?"setClass":b.event,C(a,2),b=n(a,K,b.options),f.setHost(b),l(f,K,"start",{}),b.done(function(b){u(!b);
(b=w.get(W))&&b.counter===y&&la(x(a));l(f,K,"close",{})})});return f}function ya(a){a=x(a).querySelectorAll("[data-ng-animate]");s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=w.get(a);if(c)switch(b){case 2:c.runner.end();case 1:w.remove(a)}})}function la(a){a=x(a);a.removeAttribute("data-ng-animate");w.remove(a)}function I(a,b){return x(a)===x(b)}function p(a,b,c){c=G(h.body);var d=I(a,c)||"HTML"===a[0].nodeName,k=I(a,f),g=!1,l,e=B.get(x(a));(a=G.data(a[0],"$ngAnimatePin"))&&
(b=a);for(b=x(b);b;){k||(k=I(b,f));if(1!==b.nodeType)break;a=w.get(b)||{};if(!g){var u=B.get(b);if(!0===u&&!1!==e){e=!0;break}else!1===u&&(e=!1);g=a.structural}if(N(l)||!0===l)a=G.data(b,"$$ngAnimateChildren"),$(a)&&(l=a);if(g&&!1===l)break;d||(d=I(b,c));if(d&&k)break;if(!k&&(a=G.data(b,"$ngAnimatePin"))){b=x(a);continue}b=b.parentNode}return(!g||l)&&!0!==e&&k&&d}function C(a,b,c){c=c||{};c.state=b;a=x(a);a.setAttribute("data-ng-animate",b);c=(b=w.get(a))?Da(b,c):c;w.put(a,c)}var w=new v,B=new v,
F=null,h=r[0]||{hidden:!0},W=c.$watch(function(){return 0===y.totalPendingRequests},function(a){a&&(W(),c.$$postDigest(function(){c.$$postDigest(function(){null===F&&(F=!0)})}))}),l={},u=a.classNameFilter(),Ua=u?function(a){return u.test(a)}:function(){return!0},A=Q(m),aa=Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)};return{on:function(a,b,c){b=ha(b);l[a]=l[a]||[];l[a].push({node:b,callback:c})},off:function(a,b,c){function h(a,b,c){var d=ha(b);return a.filter(function(a){return!(a.node===
d&&(!c||a.callback===c))})}var d=l[a];d&&(l[a]=1===arguments.length?null:h(d,b,c))},pin:function(a,b){za(ua(a),"element","not an element");za(ua(b),"parentElement","not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,h){c=c||{};c.domOperation=h;return k(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!F;else if(ua(a)){var h=x(a),d=B.get(h);1===c?b=!d:B.put(h,!b)}else b=F=!!a;return b}}}]}]).provider("$$animation",["$animateProvider",function(a){function b(a){return a.data("$$animationRunner")}
var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,e,f,L,U,J){function r(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,g=d.parentNode;e.put(d,a);for(var f;g;){if(f=e.get(g)){f.processed||(f=b(f));break}g=g.parentNode}(f||c).children.push(a);return a}var c={children:[]},d,e=new U;for(d=0;d<a.length;d++){var f=a[d];e.put(f.domNode,a[d]={domNode:f.domNode,fn:f.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);
return function(a){var b=[],c=[],d;for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var g=0,e=[];for(d=0;d<c.length;d++){var f=c[d];0>=a&&(a=g,g=0,b.push(e),e=[]);e.push(f.fn);f.children.forEach(function(a){g++;c.push(a)});a--}e.length&&b.push(e);return b}(c)}var v=[],n=Q(a);return function(t,y,m){function g(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}
function P(a){var b=[],c={};s(a,function(a,d){var h=x(a.element),k=0<=["enter","move"].indexOf(a.event),h=a.structural?g(h):[];if(h.length){var e=k?"to":"from";s(h,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{};c[b][e]={animationID:d,element:G(a)}})}else b.push(a)});var d={},k={};s(c,function(c,g){var e=c.from,l=c.to;if(e&&l){var f=a[e.animationID],B=a[l.animationID],p=e.animationID.toString();if(!k[p]){var C=k[p]={structural:!0,beforeStart:function(){f.beforeStart();B.beforeStart()},
close:function(){f.close();B.close()},classes:H(f.classes,B.classes),from:f,to:B,anchors:[]};C.classes.length?b.push(C):(b.push(f),b.push(B))}k[p].anchors.push({out:e.element,"in":l.element})}else e=e?e.animationID:l.animationID,l=e.toString(),d[l]||(d[l]=!0,b.push(a[e]))});return b}function H(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var k=a[d];if("ng-"!==k.substring(0,3))for(var g=0;g<b.length;g++)if(k===b[g]){c.push(k);break}}return c.join(" ")}function k(a){for(var b=
c.length-1;0<=b;b--){var d=c[b];if(f.has(d)&&(d=f.get(d)(a)))return d}}function ya(a,c){a.from&&a.to?(b(a.from.element).setHost(c),b(a.to.element).setHost(c)):b(a.element).setHost(c)}function la(){var a=b(t);!a||"leave"===y&&m.$$domOperationFired||a.end()}function I(b){t.off("$destroy",la);t.removeData("$$animationRunner");n(t,m);ia(t,m);m.domOperation();B&&a.removeClass(t,B);t.removeClass("ng-animate");C.complete(!b)}m=pa(m);var p=0<=["enter","move","leave"].indexOf(y),C=new L({end:function(){I()},
cancel:function(){I(!0)}});if(!c.length)return I(),C;t.data("$$animationRunner",C);var w=Aa(t.attr("class"),Aa(m.addClass,m.removeClass)),B=m.tempClasses;B&&(w+=" "+B,m.tempClasses=null);var F;p&&(F="ng-"+y+"-prepare",a.addClass(t,F));v.push({element:t,classes:w,event:y,structural:p,options:m,beforeStart:function(){t.addClass("ng-animate");B&&a.addClass(t,B);F&&(a.removeClass(t,F),F=null)},close:I});t.on("$destroy",la);if(1<v.length)return C;e.$$postDigest(function(){var a=[];s(v,function(c){b(c.element)?
a.push(c):c.close()});v.length=0;var c=P(a),d=[];s(c,function(a){d.push({domNode:x(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var c,d=a.close;if(b(a.anchors?a.from.element||a.to.element:a.element)){var h=k(a);h&&(c=h.start)}c?(c=c(),c.done(function(a){d(!a)}),ya(a,c)):d()}})});J(r(d))});return C}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Ga(),c=Ga();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler",
"$$animateQueue",function(a,e,f,L,n,J,r,v){function G(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++P))+"-"+a.getAttribute("class")+"-"+b}function t(k,g,f,m){var p;0<b.count(f)&&(p=c.get(f),p||(g=X(g,"-stagger"),e.addClass(k,g),p=Ea(a,k,m),p.animationDuration=Math.max(p.animationDuration,0),p.transitionDuration=Math.max(p.transitionDuration,0),e.removeClass(k,g),c.put(f,p)));return p||{}}function y(a){H.push(a);r.waitUntilQuiet(function(){b.flush();c.flush();for(var a=
n(),d=0;d<H.length;d++)H[d](a);H.length=0})}function m(c,g,e){g=b.get(e);g||(g=Ea(a,c,Sa),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1));b.put(e,g);c=g;e=c.animationDelay;g=c.transitionDelay;c.maxDelay=e&&g?Math.max(e,g):e||g;c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration);return c}var g=Q(e),P=0,H=[];return function(a,c){function d(){p()}function r(){p(!0)}function p(b){if(!(P||K&&U)){P=!0;U=!1;h.$$skipPreparationClasses||e.removeClass(a,
ga);e.removeClass(a,ha);sa(l,!1);qa(l,!1);s(u,function(a){l.style[a[0]]=""});g(a,h);ia(a,h);Object.keys(H).length&&s(H,function(a,b){a?l.style.setProperty(b,a):l.style.removeProperty(b)});if(h.onDone)h.onDone();fa&&fa.length&&a.off(fa.join(" "),B);var c=a.data("$$animateCss");c&&(L.cancel(c[0].timer),a.removeData("$$animateCss"));D&&D.complete(!b)}}function C(a){q.blockTransition&&qa(l,a);q.blockKeyframeAnimation&&sa(l,!!a)}function w(){D=new f({end:d,cancel:r});y(O);p();return{$$willAnimate:!1,start:function(){return D},
end:d}}function B(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-Y,0)>=Q&&b>=M&&(K=!0,p())}function F(){function b(){if(!P){C(!1);s(u,function(a){l.style[a[0]]=a[1]});g(a,h);e.addClass(a,ha);if(q.recalculateTimingStyles){oa=l.className+" "+ga;ja=G(l,oa);z=m(l,oa,ja);ba=z.maxDelay;E=Math.max(ba,0);M=z.maxDuration;if(0===M){p();return}q.hasTransitions=0<z.transitionDuration;q.hasAnimations=0<z.animationDuration}q.applyAnimationDelay&&
(ba="boolean"!==typeof h.delay&&ta(h.delay)?parseFloat(h.delay):ba,E=Math.max(ba,0),z.animationDelay=ba,ca=[ra,ba+"s"],u.push(ca),l.style[ca[0]]=ca[1]);Q=1E3*E;T=1E3*M;if(h.easing){var d,f=h.easing;q.hasTransitions&&(d=R+"TimingFunction",u.push([d,f]),l.style[d]=f);q.hasAnimations&&(d=Z+"TimingFunction",u.push([d,f]),l.style[d]=f)}z.transitionDuration&&fa.push(va);z.animationDuration&&fa.push(wa);Y=Date.now();var F=Q+1.5*T;d=Y+F;var f=a.data("$$animateCss")||[],w=!0;if(f.length){var r=f[0];(w=d>r.expectedEndTime)?
L.cancel(r.timer):f.push(p)}w&&(F=L(c,F,!1),f[0]={timer:F,expectedEndTime:d},f.push(p),a.data("$$animateCss",f));if(fa.length)a.on(fa.join(" "),B);h.to&&(h.cleanupStyles&&Ha(H,l,Object.keys(h.to)),Ca(a,h))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!P)if(l.parentNode){var d=function(a){if(K)U&&a&&(U=!1,p());else if(U=!a,z.animationDuration)if(a=sa(l,U),U)u.push(a);else{var b=u,c=b.indexOf(a);0<=a&&b.splice(c,1)}},f=0<ea&&(z.transitionDuration&&
0===V.transitionDuration||z.animationDuration&&0===V.animationDuration)&&Math.max(V.animationDelay,V.transitionDelay);f?L(b,Math.floor(f*ea*1E3),!1):b();N.resume=function(){d(!0)};N.pause=function(){d(!1)}}else p()}var h=c||{};h.$$prepared||(h=pa(Ia(h)));var H={},l=x(a);if(!l||!l.parentNode||!v.enabled())return w();var u=[],n=a.attr("class"),A=La(h),P,U,K,D,N,E,Q,M,T,Y,fa=[];if(0===h.duration||!J.animations&&!J.transitions)return w();var ka=h.event&&da(h.event)?h.event.join(" "):h.event,$="",S="";
ka&&h.structural?$=X(ka,"ng-",!0):ka&&($=ka);h.addClass&&(S+=X(h.addClass,"-add"));h.removeClass&&(S.length&&(S+=" "),S+=X(h.removeClass,"-remove"));h.applyClassesEarly&&S.length&&g(a,h);var ga=[$,S].join(" ").trim(),oa=n+" "+ga,ha=X(ga,"-active"),n=A.to&&0<Object.keys(A.to).length;if(!(0<(h.keyframeStyle||"").length||n||ga))return w();var ja,V;0<h.stagger?(A=parseFloat(h.stagger),V={transitionDelay:A,animationDelay:A,transitionDuration:0,animationDuration:0}):(ja=G(l,oa),V=t(l,ga,ja,Ta));h.$$skipPreparationClasses||
e.addClass(a,ga);h.transitionStyle&&(A=[R,h.transitionStyle],ma(l,A),u.push(A));0<=h.duration&&(A=0<l.style[R].length,A=Fa(h.duration,A),ma(l,A),u.push(A));h.keyframeStyle&&(A=[Z,h.keyframeStyle],ma(l,A),u.push(A));var ea=V?0<=h.staggerIndex?h.staggerIndex:b.count(ja):0;(ka=0===ea)&&!h.skipBlocking&&qa(l,9999);var z=m(l,oa,ja),ba=z.maxDelay;E=Math.max(ba,0);M=z.maxDuration;var q={};q.hasTransitions=0<z.transitionDuration;q.hasAnimations=0<z.animationDuration;q.hasTransitionAll=q.hasTransitions&&"all"==
z.transitionProperty;q.applyTransitionDuration=n&&(q.hasTransitions&&!q.hasTransitionAll||q.hasAnimations&&!q.hasTransitions);q.applyAnimationDuration=h.duration&&q.hasAnimations;q.applyTransitionDelay=ta(h.delay)&&(q.applyTransitionDuration||q.hasTransitions);q.applyAnimationDelay=ta(h.delay)&&q.hasAnimations;q.recalculateTimingStyles=0<S.length;if(q.applyTransitionDuration||q.applyAnimationDuration)M=h.duration?parseFloat(h.duration):M,q.applyTransitionDuration&&(q.hasTransitions=!0,z.transitionDuration=
M,A=0<l.style[R+"Property"].length,u.push(Fa(M,A))),q.applyAnimationDuration&&(q.hasAnimations=!0,z.animationDuration=M,u.push([xa,M+"s"]));if(0===M&&!q.recalculateTimingStyles)return w();if(null!=h.delay){var ca;"boolean"!==typeof h.delay&&(ca=parseFloat(h.delay),E=Math.max(ca,0));q.applyTransitionDelay&&u.push([na,ca+"s"]);q.applyAnimationDelay&&u.push([ra,ca+"s"])}null==h.duration&&0<z.transitionDuration&&(q.recalculateTimingStyles=q.recalculateTimingStyles||ka);Q=1E3*E;T=1E3*M;h.skipBlocking||
(q.blockTransition=0<z.transitionDuration,q.blockKeyframeAnimation=0<z.animationDuration&&0<V.animationDelay&&0===V.animationDuration);h.from&&(h.cleanupStyles&&Ha(H,l,Object.keys(h.from)),Ba(a,h));q.blockTransition||q.blockKeyframeAnimation?C(M):h.skipBlocking||qa(l,!1);return{$$willAnimate:!0,end:d,start:function(){if(!P)return N={end:d,cancel:r,resume:null,pause:null},D=new f(N),y(F),D}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");
this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,f,L,n){function J(a){return a.replace(/\bng-\S+\b/g,"")}function r(a,b){E(a)&&(a=a.split(" "));E(b)&&(b=b.split(" "));return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function v(c,f,e){function k(a){var b={},c=x(a).getBoundingClientRect();s(["width","height","top","left"],function(a){var d=c[a];switch(a){case "top":d+=y.scrollTop;break;case "left":d+=y.scrollLeft}b[a]=
Math.floor(d)+"px"});return b}function L(){var c=J(e.attr("class")||""),d=r(c,p),c=r(p,c),d=a(v,{to:k(e),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function n(){v.remove();f.removeClass("ng-animate-shim");e.removeClass("ng-animate-shim")}var v=G(x(f).cloneNode(!0)),p=J(v.attr("class")||"");f.addClass("ng-animate-shim");e.addClass("ng-animate-shim");v.addClass("ng-anchor");m.append(v);var C;c=function(){var c=a(v,{addClass:"ng-anchor-out",delay:!0,
from:k(f)});return c.$$willAnimate?c:null}();if(!c&&(C=L(),!C))return n();var w=c||C;return{start:function(){function a(){c&&c.end()}var b,c=w.start();c.done(function(){c=null;if(!C&&(C=L()))return c=C.start(),c.done(function(){c=null;n();b.complete()}),c;n();b.complete()});return b=new d({end:a,cancel:a})}}}function D(a,b,c,f){var e=t(a,O),m=t(b,O),r=[];s(f,function(a){(a=v(c,a.out,a["in"]))&&r.push(a)});if(e||m||0!==r.length)return{start:function(){function a(){s(b,function(a){a.end()})}var b=[];
e&&b.push(e.start());m&&b.push(m.start());s(r,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});return c}}}function t(c){var d=c.element,e=c.options||{};c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation));e.preparationClasses&&(e.event=Y(e.event,e.preparationClasses));c=a(d,e);return c.$$willAnimate?c:null}if(!f.animations&&!f.transitions)return O;var y=n[0].body;c=x(e);var m=G(c.parentNode&&
11===c.parentNode.nodeType||y.contains(c)?c:y);Q(L);return function(a){return a.from&&a.to?D(a.from,a.to,a.classes,a.anchors):t(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=da(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var v=c[f],n=a.$$registeredAnimations[v];n&&!e[v]&&(d.push(b.get(n)),e[v]=!0)}return d}var f=Q(d);return function(a,b,d,r){function n(){r.domOperation();f(a,r)}function x(a,
b,d,e,f){switch(d){case "animate":b=[b,e.from,e.to,f];break;case "setClass":b=[b,g,D,f];break;case "addClass":b=[b,g,f];break;case "removeClass":b=[b,D,f];break;default:b=[b,f]}b.push(e);if(a=a.apply(a,b))if(Ja(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Ja(a))return a;return O}function t(a,b,d,e,f){var g=[];s(e,function(e){var k=e[f];k&&g.push(function(){var e,f,h=!1,g=function(a){h||(h=!0,(f||O)(a),e.complete(!a))};e=new c({end:function(){g()},cancel:function(){g(!0)}});f=x(k,a,b,d,
function(a){g(!1===a)});return e})});return g}function y(a,b,d,e,f){var g=t(a,b,d,e,f);if(0===g.length){var k,m;"beforeSetClass"===f?(k=t(a,"removeClass",d,e,"beforeRemoveClass"),m=t(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(k=t(a,"removeClass",d,e,"removeClass"),m=t(a,"addClass",d,e,"addClass"));k&&(g=g.concat(k));m&&(g=g.concat(m))}if(0!==g.length)return function(a){var b=[];g.length&&s(g,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){s(b,function(b){a?b.cancel():
b.end()})}}}var m=!1;3===arguments.length&&ea(d)&&(r=d,d=null);r=pa(r);d||(d=a.attr("class")||"",r.addClass&&(d+=" "+r.addClass),r.removeClass&&(d+=" "+r.removeClass));var g=r.addClass,D=r.removeClass,H=e(d),k,E;if(H.length){var G,I;"leave"==b?(I="leave",G="afterLeave"):(I="before"+b.charAt(0).toUpperCase()+b.substr(1),G=b);"enter"!==b&&"move"!==b&&(k=y(a,b,r,H,I));E=y(a,b,r,H,G)}if(k||E){var p;return{$$willAnimate:!0,end:function(){p?p.end():(m=!0,n(),ia(a,r),p=new c,p.complete(!0));return p},start:function(){function b(c){m=
!0;n();ia(a,r);p.complete(c)}if(p)return p;p=new c;var d,e=[];k&&e.push(function(a){d=k(a)});e.length?e.push(function(a){n();a(!0)}):n();E&&e.push(function(a){d=E(a)});p.setHost({end:function(){m||((d||O)(void 0),b(void 0))},cancel:function(){m||((d||O)(!0),b(!0))}});c.chain(e,b);return p}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,
c.options)}return function(a){if(a.from&&a.to){var b=d(a.from),n=d(a.to);if(b||n)return{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start());n&&d.push(n.start());c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}}else return d(a)}}]}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map
;
define("angularAnimate", ["angular"], function(){});

/*
    * @license
    * AngularJS Toaster
    * Version: 3.0.0
    *
    * Copyright 2013-2019 Jiri Kavulak, Stabzs.
    * All Rights Reserved.
    * Use, reproduction, distribution, and modification of this code is subject to the terms and
    * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
    *
    * Authors: Jiri Kavulak, Stabzs
    * Related to project of John Papa, Hans Fjällemark and Nguyễn Thiện Hùng (thienhung1989)
*/
!function(t,e){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function(t){t.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="html" ng-bind-html="toaster.body"></div><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="toaster.directiveData"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function(d,t){var m={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}};for(var e in this.pop=function(t,e,o,s,a,i,n,r,c,l){if(angular.isObject(t)){var u=t;this.toast={type:u.type,title:u.title,body:u.body,timeout:u.timeout,bodyOutputType:u.bodyOutputType,clickHandler:u.clickHandler,showCloseButton:u.showCloseButton,closeHtml:u.closeHtml,toastId:u.toastId,onShowCallback:u.onShowCallback,onHideCallback:u.onHideCallback,directiveData:u.directiveData,tapToDismiss:u.tapToDismiss},n=u.toasterId}else this.toast={type:t,title:e,body:o,timeout:s,bodyOutputType:a,clickHandler:i,showCloseButton:r,toastId:c,onHideCallback:l};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=m.newGuid()),d.$emit("toaster-newToast",n,this.toast.toastId),{toasterId:n,toastId:this.toast.toastId}},this.clear=function(t,e){angular.isObject(t)?d.$emit("toaster-clearToasts",t.toasterId,t.toastId):d.$emit("toaster-clearToasts",t,e)},t["icon-classes"])this[e]=o(e);function o(l){return function(t,e,o,s,a,i,n,r,c){return angular.isString(t)?this.pop(l,t,e,o,s,a,i,n,r,c):this.pop(angular.extend(t,{type:l}))}}}]).factory("toasterEventRegistry",["$rootScope",function(t){var e,o=null,s=null,i=[],n=[];return{setup:(e={setup:function(){o||(o=t.$on("toaster-newToast",function(t,e,o){for(var s=0,a=i.length;s<a;s++)i[s](t,e,o)})),s||(s=t.$on("toaster-clearToasts",function(t,e,o){for(var s=0,a=n.length;s<a;s++)n[s](t,e,o)}))},subscribeToNewToastEvent:function(t){i.push(t)},subscribeToClearToastsEvent:function(t){n.push(t)},unsubscribeToNewToastEvent:function(t){var e=i.indexOf(t);0<=e&&i.splice(e,1),0===i.length&&(o(),o=null)},unsubscribeToClearToastsEvent:function(t){var e=n.indexOf(t);0<=e&&n.splice(e,1),0===n.length&&(s(),s=null)}}).setup,subscribeToNewToastEvent:e.subscribeToNewToastEvent,subscribeToClearToastsEvent:e.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:e.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:e.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function(r,c){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"=directiveData"},replace:!0,link:function(a,i,n){a.$watch("directiveName",function(e){if(angular.isUndefined(e)||e.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var t;try{t=c.get(n.$normalize(e)+"Directive")}catch(t){throw new Error(e+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var o=t[0];if(!0!==o.scope&&o.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+e+".");if(o.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+e+".");a.directiveData&&(a.directiveData=angular.fromJson(a.directiveData));var s=r("<div "+e+"></div>")(a);i.append(s)})}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(d,t,i,m,o,a,n){return{replace:!0,restrict:"EA",scope:!0,link:function(c,t,e){var l;function u(t){var e=c.toasters[t];e.timeoutPromise&&i.cancel(e.timeoutPromise),c.toasters.splice(t,1),angular.isFunction(e.onHideCallback)&&e.onHideCallback(e)}function s(t){return angular.isUndefined(t)||null===t}l=angular.extend({},o,c.$eval(e.toasterOptions)),c.config={toasterId:l["toaster-id"],position:l["position-class"],title:l["title-class"],message:l["message-class"],tap:l["tap-to-dismiss"],closeButton:l["close-button"],closeHtml:l["close-html"],animation:l["animation-class"],mouseoverTimer:l["mouseover-timer-stop"]},c.$on("$destroy",function(){n.unsubscribeToNewToastEvent(c._onNewToast),n.unsubscribeToClearToastsEvent(c._onClearToasts)}),c.configureTimer=function(t){var e,o,s=angular.isNumber(t.timeout)?t.timeout:l["time-out"];"object"==typeof s&&(s=s[t.type]),0<s&&(o=s,(e=t).timeoutPromise=i(function(){c.removeToast(e.toastId)},o,1))},c.removeToast=function(t){var e,o;for(e=0,o=c.toasters.length;e<o;e++)if(c.toasters[e].toastId===t){u(e);break}},c.toasters=[],c._onNewToast=function(t,e,o){(s(c.config.toasterId)&&s(e)||!s(c.config.toasterId)&&!s(e)&&c.config.toasterId==e)&&function(t,e){if(t.type=l["icon-classes"][t.type],t.type||(t.type=l["icon-class"]),!0===l["prevent-duplicates"]&&c.toasters.length){if(c.toasters[c.toasters.length-1].body===t.body)return;var o,s,a=!1;for(o=0,s=c.toasters.length;o<s;o++)if(c.toasters[o].toastId===e){a=!0;break}if(a)return}var i=l["close-button"];if("boolean"==typeof t.showCloseButton);else if("boolean"==typeof i)t.showCloseButton=i;else if("object"==typeof i){var n=i[t.type];null!=n&&(t.showCloseButton=n)}else t.showCloseButton=!1;switch(t.showCloseButton&&(t.closeHtml=m.trustAsHtml(t.closeHtml||c.config.closeHtml)),t.bodyOutputType=t.bodyOutputType||l["body-output-type"],t.bodyOutputType){case"trustedHtml":t.html=m.trustAsHtml(t.body);break;case"template":t.bodyTemplate=t.body||l["body-template"];break;case"templateWithData":var r=d(t.body||l["body-template"])(c);t.bodyTemplate=r.template,t.data=r.data;break;case"directive":t.html=t.body}c.configureTimer(t),!0===l["newest-on-top"]?(c.toasters.unshift(t),0<l.limit&&c.toasters.length>l.limit&&u(c.toasters.length-1)):(c.toasters.push(t),0<l.limit&&c.toasters.length>l.limit&&u(0)),angular.isFunction(t.onShowCallback)&&t.onShowCallback(t)}(a.toast,o)},c._onClearToasts=function(t,e,o){("*"==e||s(c.config.toasterId)&&s(e)||!s(c.config.toasterId)&&!s(e)&&c.config.toasterId==e)&&function(t){for(var e=c.toasters.length-1;0<=e;e--)s(t)?u(e):c.toasters[e].toastId==t&&u(e)}(o)},n.setup(),n.subscribeToNewToastEvent(c._onNewToast),n.subscribeToClearToastsEvent(c._onClearToasts)},controller:["$scope","$element","$attrs",function(a,t,e){a.stopTimer=function(t){!0===a.config.mouseoverTimer&&t.timeoutPromise&&(i.cancel(t.timeoutPromise),t.timeoutPromise=null)},a.restartTimer=function(t){!0===a.config.mouseoverTimer?t.timeoutPromise||a.configureTimer(t):null===t.timeoutPromise&&a.removeToast(t.toastId)},a.click=function(t,e,o){if(t.stopPropagation(),!0===("boolean"==typeof e.tapToDismiss?e.tapToDismiss:a.config.tap)||!0===e.showCloseButton&&!0===o){var s=!0;e.clickHandler&&(angular.isFunction(e.clickHandler)?s=e.clickHandler(e,o):angular.isFunction(a.$parent.$eval(e.clickHandler))?s=a.$parent.$eval(e.clickHandler)(e,o):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),s&&a.removeToast(e.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document);
define("toaster", ["angular","angularAnimate"], function(){});



/**
 * A directive for adding google places autocomplete to a text box
 * google places autocomplete info: https://developers.google.com/maps/documentation/javascript/places
 *
 * Usage:
 *
 * <input type="text"  ng-autocomplete ng-model="autocomplete" options="options" details="details/>
 *
 * + ng-model - autocomplete textbox value
 *
 * + details - more detailed autocomplete result, includes address parts, latlng, etc. (Optional)
 *
 * + options - configuration for the autocomplete (Optional)
 *
 *       + types: type,        String, values can be 'geocode', 'establishment', '(regions)', or '(cities)'
 *       + bounds: bounds,     Google maps LatLngBounds Object, biases results to bounds, but may return results outside these bounds
 *       + country: country    String, ISO 3166-1 Alpha-2 compatible country code. examples; 'ca', 'us', 'gb'
 *       + watchEnter:         Boolean, true; on Enter select top autocomplete result. false(default); enter ends autocomplete
 *
 * example:
 *
 *    options = {
 *        types: '(cities)',
 *        country: 'ca'
 *    }
**/

angular.module( "ngAutocomplete", [])
  .directive('ngAutocomplete', function() {
    return {
      require: 'ngModel',
      scope: {
        ngModel: '=',
        options: '=?',
        details: '=?'
      },

      link: function(scope, element, attrs, controller) {

        //options for autocomplete
        var opts
        var watchEnter = false
        //convert options provided to opts
        var initOpts = function() {

          opts = {}
          if (scope.options) {

            if (scope.options.watchEnter !== true) {
              watchEnter = false
            } else {
              watchEnter = true
            }

            if (scope.options.types) {
              opts.types = []
              opts.types.push(scope.options.types)
              scope.gPlace.setTypes(opts.types)
            } else {
              scope.gPlace.setTypes([])
            }

            if (scope.options.bounds) {
              opts.bounds = scope.options.bounds
              scope.gPlace.setBounds(opts.bounds)
            } else {
              scope.gPlace.setBounds(null)
            }

            if (scope.options.country) {
              opts.componentRestrictions = {
                country: scope.options.country
              }
              scope.gPlace.setComponentRestrictions(opts.componentRestrictions)
            } else {
              scope.gPlace.setComponentRestrictions(null)
            }
          }
        }

        if (scope.gPlace == undefined) {
          scope.gPlace = new google.maps.places.Autocomplete(element[0], {});
        }
        google.maps.event.addListener(scope.gPlace, 'place_changed', function() {
          var result = scope.gPlace.getPlace();
          if (result !== undefined) {
            if (result.address_components !== undefined) {

              scope.$apply(function() {

                scope.details = result;

                controller.$setViewValue(element.val());
              });
            }
            else {
              if (watchEnter) {
                getPlace(result)
              }
            }
          }
        })

        //function to get retrieve the autocompletes first result using the AutocompleteService 
        var getPlace = function(result) {
          var autocompleteService = new google.maps.places.AutocompleteService();
          if (result.name.length > 0){
            autocompleteService.getPlacePredictions(
              {
                input: result.name,
                offset: result.name.length
              },
              function listentoresult(list, status) {
                if(list == null || list.length == 0) {

                  scope.$apply(function() {
                    scope.details = null;
                  });

                } else {
                  var placesService = new google.maps.places.PlacesService(element[0]);
                  placesService.getDetails(
                    {'reference': list[0].reference},
                    function detailsresult(detailsResult, placesServiceStatus) {

                      if (placesServiceStatus == google.maps.GeocoderStatus.OK) {
                        scope.$apply(function() {

                          controller.$setViewValue(detailsResult.formatted_address);
                          element.val(detailsResult.formatted_address);

                          scope.details = detailsResult;

                          //on focusout the value reverts, need to set it again.
                          var watchFocusOut = element.on('focusout', function(event) {
                            element.val(detailsResult.formatted_address);
                            element.unbind('focusout')
                          })

                        });
                      }
                    }
                  );
                }
              });
          }
        }

        controller.$render = function () {
          var location = controller.$viewValue;
          element.val(location);
        };

        //watch options provided to directive
        scope.watchOptions = function () {
          return scope.options
        };
        scope.$watch(scope.watchOptions, function () {
          initOpts()
        }, true);

      }
    };
  });
define("angularAutocomplete", ["angular"], function(){});

/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.3 - 2015-10-23
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(a,b){var c=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,d,e){function f(){d.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),c?c(d,{addClass:"in",easing:"ease",to:{height:d[0].scrollHeight+"px"}}).start()["finally"](g):a.addClass(d,"in",{to:{height:d[0].scrollHeight+"px"}}).then(g)}function g(){d.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function h(){return d.hasClass("collapse")||d.hasClass("in")?(d.css({height:d[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(c?c(d,{removeClass:"in",to:{height:"0"}}).start()["finally"](i):a.removeClass(d,"in",{to:{height:"0"}}).then(i))):i()}function i(){d.css({height:"0"}),d.removeClass("collapsing").addClass("collapse")}b.$watch(e.uibCollapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(a,b,c,d){var e=b.has("$animateCss")?b.get("$animateCss"):null;return{link:function(b,f,g){function h(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start().done(i):a.animate(f,{},{height:f[0].scrollHeight+"px"}).then(i)}function i(){f.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function j(){return f.hasClass("collapse")||f.hasClass("in")?(f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void(e?e(f,{to:{height:"0"}}).start().done(k):a.animate(f,{},{height:"0"}).then(k))):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse")}d||c.warn("collapse is now deprecated. Use uib-collapse instead."),b.$watch(g.collapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass,a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(a,b,c,d){d=d[0]?d[0]:d[1],a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){a&&(b.find("span").html(""),b.find("span").append(a))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(a,b,c,d,e){e||d.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,c("UibAccordionController",{$scope:a,$attrs:b}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion.html"},link:function(){b||a.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(c,d,e,f){b||a.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),f.addGroup(c),c.openClass=e.openClass||"panel-open",c.panelClass=e.panelClass,c.$watch("isOpen",function(a){d.toggleClass(c.openClass,!!a),a&&f.closeOthers(c)}),c.toggleOpen=function(a){c.isDisabled||a&&32!==a.which||(c.isOpen=!c.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(c,d,e,f,g){b||a.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),f.setHeading(g(c,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(a,b){return{require:"^accordionGroup",link:function(c,d,e,f){b||a.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),c.$watch(function(){return f[e.accordionTransclude]},function(a){a&&(d.find("span").html(""),d.find("span").append(a))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(a,b,c,d,e){e||d.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,c("UibAlertController",{$scope:a,$attrs:b}))}]).directive("alert",["$log","$alertSuppressWarning",function(a,b){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){b||a.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"}),f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.uibBtnRadio)))},b.on(e.toggleEvent,function(){if(!c.disabled){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.uibBtnRadio)),f.$render()})}})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(a,b,c){c||b.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,a("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(a,b){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(c,d,e,f){b||a.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var g=f[0],h=f[1];d.find("input").css({display:"none"}),h.$render=function(){d.toggleClass(g.activeClass,angular.equals(h.$modelValue,c.$eval(e.btnRadio)))},d.bind(g.toggleEvent,function(){if(!e.disabled){var a=d.hasClass(g.activeClass);(!a||angular.isDefined(e.uncheckable))&&c.$apply(function(){h.$setViewValue(a?null:c.$eval(e.btnRadio)),h.$render()})}})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(a,b,c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(d,e,f,g){function h(){return j(f.btnCheckboxTrue,!0)}function i(){return j(f.btnCheckboxFalse,!1)}function j(a,b){var c=d.$eval(a);return angular.isDefined(c)?c:b}c||b.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var k=g[0],l=g[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(k.activeClass,angular.equals(l.$modelValue,h()))},e.bind(k.toggleEvent,function(){f.disabled||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})}),e.on("keypress",function(b){f.disabled||32!==b.which||a[0].activeElement!==e[0]||d.$apply(function(){l.$setViewValue(e.hasClass(k.activeClass)?i():h()),l.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(a,b,c,d){function e(b,c,e){s||(angular.extend(b,{direction:e,active:!0}),angular.extend(m.currentSlide||{},{direction:e,active:!1}),d.enabled()&&!a.noTransition&&!a.$currentTransition&&b.$element&&m.slides.length>1&&(b.$element.data(q,b.direction),m.currentSlide&&m.currentSlide.$element&&m.currentSlide.$element.data(q,b.direction),a.$currentTransition=!0,o?d.on("addClass",b.$element,function(b,c){"close"===c&&(a.$currentTransition=null,d.off("addClass",b))}):b.$element.one("$animate:close",function(){a.$currentTransition=null})),m.currentSlide=b,r=c,g())}function f(a){if(angular.isUndefined(n[a].index))return n[a];var b;n.length;for(b=0;b<n.length;++b)if(n[b].index==a)return n[b]}function g(){h();var b=+a.interval;!isNaN(b)&&b>0&&(k=c(i,b))}function h(){k&&(c.cancel(k),k=null)}function i(){var b=+a.interval;l&&!isNaN(b)&&b>0&&n.length?a.next():a.pause()}function j(b){b.length||(a.$currentTransition=null)}var k,l,m=this,n=m.slides=a.slides=[],o=angular.version.minor>=4,p="uib-noTransition",q="uib-slideDirection",r=-1;m.currentSlide=null;var s=!1;m.select=a.select=function(b,c){var d=a.indexOfSlide(b);void 0===c&&(c=d>m.getCurrentIndex()?"next":"prev"),b&&b!==m.currentSlide&&!a.$currentTransition&&e(b,d,c)},a.$on("$destroy",function(){s=!0}),m.getCurrentIndex=function(){return m.currentSlide&&angular.isDefined(m.currentSlide.index)?+m.currentSlide.index:r},a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:n.indexOf(a)},a.next=function(){var b=(m.getCurrentIndex()+1)%n.length;return 0===b&&a.noWrap()?void a.pause():m.select(f(b),"next")},a.prev=function(){var b=m.getCurrentIndex()-1<0?n.length-1:m.getCurrentIndex()-1;return a.noWrap()&&b===n.length-1?void a.pause():m.select(f(b),"prev")},a.isActive=function(a){return m.currentSlide===a},a.$watch("interval",g),a.$watchCollection("slides",j),a.$on("$destroy",h),a.play=function(){l||(l=!0,g())},a.pause=function(){a.noPause||(l=!1,h())},m.addSlide=function(b,c){b.$element=c,n.push(b),1===n.length||b.active?(m.select(n[n.length-1]),1===n.length&&a.play()):b.active=!1},m.removeSlide=function(a){angular.isDefined(a.index)&&n.sort(function(a,b){return+a.index>+b.index});var b=n.indexOf(a);n.splice(b,1),n.length>0&&a.active?b>=n.length?m.select(n[b-1]):m.select(n[b]):r>b&&r--,0===n.length&&(m.currentSlide=null)},a.$watch("noTransition",function(a){b.data(p,a)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$injector","$animate",function(a,b){function c(a,b,c){a.removeClass(b),c&&c()}var d="uib-noTransition",e="uib-slideDirection",f=null;return a.has("$animateCss")&&(f=a.get("$animateCss")),{beforeAddClass:function(a,g,h){if("active"==g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k+" "+j,h);return a.addClass(j),f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()},beforeRemoveClass:function(a,g,h){if("active"===g&&a.parent()&&a.parent().parent()&&!a.parent().parent().data(d)){var i=!1,j=a.data(e),k="next"==j?"left":"right",l=c.bind(this,a,k,h);return f?f(a,{addClass:k}).start().done(l):b.addClass(a,k).then(function(){i||l(),h()}),function(){i=!0}}h()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(a,b,c,d,e){e||d.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,c("UibCarouselController",{$scope:a,$element:b}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(a,b){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(a,b){return b.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){b||a.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(a,b){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(c,d,e,f){b||a.warn("slide is now deprecated. Use uib-slide instead."),f.addSlide(c,d),c.$on("$destroy",function(){f.removeSlide(c)}),c.$watch("active",function(a){a&&f.select(c)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(a,b,c){function d(a){var b=[],d=a.split("");return angular.forEach(g,function(c,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+c.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),b.push({index:f,apply:c.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}function e(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var f,g,h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){f=b.id,this.parsers={},g={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},MMM:{regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:b.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},hh:{regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},h:{regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},a:{regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)}}}},this.init(),this.parse=function(c,g,i){if(!angular.isString(c)||!g)return c;g=b.DATETIME_FORMATS[g]||g,g=g.replace(h,"\\$&"),b.id!==f&&this.init(),this.parsers[g]||(this.parsers[g]=d(g));var j=this.parsers[g],k=j.regex,l=j.map,m=c.match(k);if(m&&m.length){var n,o;angular.isDate(i)&&!isNaN(i.getTime())?n={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}:(i&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,q=m.length;q>p;p++){var r=l[p-1];r.apply&&r.apply.call(n,m[p])}return e(n.year,n.month,n.date)&&(angular.isDate(i)&&!isNaN(i.getTime())?(o=new Date(i),o.setFullYear(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)):o=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds||0)),o}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(a,b,c){b||a.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(a,b,c){b||a.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,c)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){i[d]=angular.isDefined(c)?c:b[d],a[d]=i[d],("minMode"==d&&i.modes.indexOf(a.datepickerMode)<i.modes.indexOf(i[d])||"maxMode"==d&&i.modes.indexOf(a.datepickerMode)>i.modes.indexOf(i[d]))&&(a.datepickerMode=i[d])}):(i[d]=g[d]||null,a[d]=i[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){i.element[0].focus()};a.$on("uib:datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):a.toggleMode("up"===c?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/e,10)*e+1}var e;this.element=b,this.yearpickerInit=function(){e=this.yearRange,this.step={years:e}},this._refreshView=function(){for(var b,c=new Array(e),f=0,g=d(this.activeDate.getFullYear());e>f;f++)b=new Date(this.activeDate),b.setFullYear(g+f,0,1),c[f]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+f});a.title=[c[0].label,c[e-1].label].join(" - "),a.rows=this.split(c,5)},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*this.step.years:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+e-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0]||d[2],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0]||d[2];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){
function m(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function n(b){if(angular.isNumber(b)&&(b=new Date(b)),b){if(angular.isDate(b)&&!isNaN(b))return b;if(angular.isString(b)){var c=j.parse(b,r,a.date);return isNaN(c)?void 0:c}return void 0}return null}function o(a,b){var d=a||b;if(!c.ngRequired&&!d)return!0;if(angular.isNumber(d)&&(d=new Date(d)),d){if(angular.isDate(d)&&!isNaN(d))return!0;if(angular.isString(d)){var e=j.parse(d,r);return!isNaN(e)}return!1}return!0}function p(c){var d=A[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}function q(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}var r,s,t,u,v,w,x,y,z,A,B={},C=!1;a.watchData={},this.init=function(h){if(z=h,s=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection,t=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody,u=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):k.onOpenFocus,v=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:k.datepickerPopupTemplateUrl,w=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:k.datepickerTemplateUrl,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):k.showButtonBar,k.html5Types[c.type]?(r=k.html5Types[c.type],C=!0):(r=c.datepickerPopup||c.uibDatepickerPopup||k.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||k.datepickerPopup;if(c!==r&&(r=c,z.$modelValue=null,!r))throw new Error("uibDatepickerPopup must have a date format specified.")})),!r)throw new Error("uibDatepickerPopup must have a date format specified.");if(C&&c.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(x=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),x.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":v}),y=angular.element(x.children()[0]),y.attr("template-url",w),C&&"month"===c.type&&(y.attr("datepicker-mode",'"month"'),y.attr("min-mode","month")),c.datepickerOptions){var l=a.$parent.$eval(c.datepickerOptions);l&&l.initDate&&(a.initDate=l.initDate,y.attr("init-date","initDate"),delete l.initDate),angular.forEach(l,function(a,b){y.attr(m(b),a)})}angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(b){if(c[b]){var d=e(c[b]);if(a.$parent.$watch(d,function(c){a.watchData[b]=c,("minDate"===b||"maxDate"===b)&&(B[b]=new Date(c))}),y.attr(m(b),"watchData."+b),"datepickerMode"===b){var f=d.assign;a.$watch("watchData."+b,function(b,c){angular.isFunction(f)&&b!==c&&f(a.$parent,b)})}}}),c.dateDisabled&&y.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.showWeeks&&y.attr("show-weeks",c.showWeeks),c.customClass&&y.attr("custom-class","customClass({ date: date, mode: mode })"),C?z.$formatters.push(function(b){return a.date=b,b}):(z.$$parserName="date",z.$validators.date=o,z.$parsers.unshift(n),z.$formatters.push(function(b){return a.date=b,z.$isEmpty(b)?b:i(b,r)})),z.$viewChangeListeners.push(function(){a.date=j.parse(z.$viewValue,r,a.date)}),b.bind("keydown",q),A=d(x)(a),x.remove(),t?f.find("body").append(A):b.after(A),a.$on("$destroy",function(){a.isOpen===!0&&(g.$$phase||a.$apply(function(){a.isOpen=!1})),A.remove(),b.unbind("keydown",q),f.unbind("click",p)})},a.getText=function(b){return a[b+"Text"]||k[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,B.minDate)<0||a.watchData.maxDate&&a.compare(b,B.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?i(a.date,r):null;b.val(d),z.$setViewValue(d),s&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(a.isOpen=!1,b[0].focus())},a.select=function(b){if("today"===b){var c=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())):b=new Date(c.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(){a.isOpen=!1,b[0].focus()},a.$watch("isOpen",function(c){c?(a.position=t?h.offset(b):h.position(b),a.position.top=a.position.top+b.prop("offsetHeight"),l(function(){u&&a.$broadcast("uib:datepicker.focus"),f.bind("click",p)},0,!1)):f.unbind("click",p)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(a,b,c,d,e,f,g,h,i){i||e.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var j=this,k={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){j[c]=angular.isDefined(b[c])?6>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):g[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){j[d]=a?new Date(a):null,j.refreshView()}):j[d]=g[d]?new Date(g[d]):null}),angular.forEach(["minMode","maxMode"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(c){j[d]=angular.isDefined(c)?c:b[d],a[d]=j[d],("minMode"==d&&j.modes.indexOf(a.datepickerMode)<j.modes.indexOf(j[d])||"maxMode"==d&&j.modes.indexOf(a.datepickerMode)>j.modes.indexOf(j[d]))&&(a.datepickerMode=j[d])}):(j[d]=g[d]||null,a[d]=j[d])}),a.datepickerMode=a.datepickerMode||g.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(k.$isEmpty(k.$modelValue)||k.$invalid)&&(j.activeDate=a,j.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===j.compare(b.date,j.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){k=a,k.$render=function(){j.render()}},this.render=function(){if(k.$viewValue){var a=new Date(k.$viewValue),b=!isNaN(a);b?this.activeDate=a:h||e.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=k.$viewValue?new Date(k.$viewValue):null;k.$setValidity("dateDisabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=k.$viewValue?new Date(k.$viewValue):null;return{date:a,label:f(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},this.fixTimeZone=function(a){var b=a.getHours();a.setHours(23===b?b+2:0)},a.select=function(b){if(a.datepickerMode===j.minMode){var c=k.$viewValue?new Date(k.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),k.$setViewValue(c),k.$render()}else j.activeDate=b,a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=j.activeDate.getFullYear()+a*(j.step.years||0),c=j.activeDate.getMonth()+a*(j.step.months||0);j.activeDate.setFullYear(b,c,1),j.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===j.maxMode&&1===b||a.datepickerMode===j.minMode&&-1===b||(a.datepickerMode=j.modes[j.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){j.element[0].focus()};a.$on("uib:datepicker.focus",l),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),j.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(j.isDisabled(j.activeDate))return;a.select(j.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(j.handleKeyDown(c,b),j.refreshView()):a.toggleMode("up"===c?1:-1)}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(c,d,e,f){b||a.warn("datepicker is now deprecated. Use uib-datepicker instead.");var g=f[0],h=f[1];g.init(h)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(c,d,e,f){b||a.warn("daypicker is now deprecated. Use uib-daypicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(c,d,e,f){b||a.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(c,d,e,f){b||a.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var g=f[0];angular.extend(g,f[1]),g.yearpickerInit(),g.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(a,b){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,d,e,f){b||a.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var g=f[0],h=f[1];h.init(g)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(a,b){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/datepicker/popup.html"},link:function(){b||a.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.openClass,q=angular.noop,r=c.onToggle?d(c.onToggle):angular.noop,s=!1,t=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(m=d(c.isOpen),q=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),s=angular.isDefined(c.dropdownAppendToBody),t=angular.isDefined(c.uibKeyboardNav),s&&n.dropdownMenu&&(i.find("body").append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return t},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(s&&n.dropdownMenu){var e=h.positionElements(b,n.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},m=n.dropdownMenu.hasClass("dropdown-menu-right");m?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),n.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,p).then(function(){angular.isDefined(c)&&c!==d&&r(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var t=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(t),n.dropdownMenu=t}f.close(o),n.selectedOption=null}angular.isFunction(q)&&q(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)});var u=a.$on("$destroy",function(){o.$destroy()});o.$on("$destroy",u)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=d.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===b.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:angular.isNumber(d.selectedOption)?d.selectedOption=0===d.selectedOption?0:d.selectedOption-1:d.selectedOption=b.length-1}b[d.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(a,b,c){b||a.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,c)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m){m||l.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var n,o,p=this,q=a.$new(),r=e.openClass,s=angular.noop,t=c.onToggle?d(c.onToggle):angular.noop,u=!1,v=!1;b.addClass("dropdown"),this.init=function(){c.isOpen&&(o=d(c.isOpen),s=o.assign,a.$watch(o,function(a){q.isOpen=!!a})),u=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.uibKeyboardNav),u&&p.dropdownMenu&&(i.find("body").append(p.dropdownMenu),b.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(a){return q.isOpen=arguments.length?!!a:!q.isOpen},this.isOpen=function(){return q.isOpen},q.getToggleElement=function(){return p.toggleElement},q.getAutoClose=function(){return c.autoClose||"always"},q.getElement=function(){return b},q.isKeynavEnabled=function(){return v},q.focusDropdownEntry=function(a){var c=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(b).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===c.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=c.length-1}c[p.selectedOption].focus()},q.getDropdownElement=function(){return p.dropdownMenu},q.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},q.$watch("isOpen",function(c,d){if(u&&p.dropdownMenu){var e=h.positionElements(b,p.dropdownMenu,"bottom-left",!0),i={top:e.top+"px",display:c?"block":"none"},l=p.dropdownMenu.hasClass("dropdown-menu-right");l?(i.left="auto",i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"):(i.left=e.left+"px",i.right="auto"),p.dropdownMenu.css(i)}if(g[c?"addClass":"removeClass"](b,r).then(function(){angular.isDefined(c)&&c!==d&&t(a,{open:!!c})}),c)p.dropdownMenuTemplateUrl&&k(p.dropdownMenuTemplateUrl).then(function(a){n=q.$new(),j(a.trim())(n,function(a){var b=a;p.dropdownMenu.replaceWith(b),p.dropdownMenu=b})}),q.focusToggleElement(),f.open(q);else{if(p.dropdownMenuTemplateUrl){n&&n.$destroy();var m=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(m),p.dropdownMenu=m}f.close(q),p.selectedOption=null}angular.isFunction(s)&&s(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==q.getAutoClose()&&(q.isOpen=!1)});var w=a.$on("$destroy",function(){q.$destroy()});q.$on("$destroy",w)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(a,b){return{controller:"DropdownController",link:function(c,d,e,f){b||a.warn("dropdown is now deprecated. Use uib-dropdown instead."),f.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"AC",require:"?^dropdown",link:function(c,d,e,f){if(f&&!angular.isDefined(e.dropdownNested)){b||a.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),d.addClass("dropdown-menu");var g=e.templateUrl;g&&(f.dropdownMenuTemplateUrl=g),f.dropdownMenu||(f.dropdownMenu=d)}}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(a,b){return{restrict:"A",require:"?^dropdown",link:function(c,d,e,f){b||a.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),d.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var b=f.dropdownMenu.find("a");switch(a.which){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===b.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=b.length-1}b[f.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(a,b){return{require:"?^dropdown",link:function(c,d,e,f){if(b||a.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),f){d.addClass("dropdown-toggle"),f.toggleElement=d;var g=function(a){a.preventDefault(),d.hasClass("disabled")||e.disabled||c.$apply(function(){f.toggle()})};d.bind("click",g),d.attr({"aria-haspopup":!0,"aria-expanded":!1}),c.$watch(f.isOpen,function(a){d.attr("aria-expanded",!!a)}),c.$on("$destroy",function(){d.unbind("click",g)})}}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,f){d.addClass("modal-backdrop"),f.modalInClass&&(e?e(d,{addClass:f.modalInClass}).start():a.addClass(d,f.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var g=c();e?e(d,{removeClass:f.modalInClass}).start().then(g):a.removeClass(d,f.modalInClass).then(g)}))}var e=null;return b.has("$animateCss")&&(e=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(a,b,c,d){var e=null;return d.has("$animateCss")&&(e=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),d.size=g.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",d.close),d.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"==a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=e?e(f,{addClass:g.modalInClass}).start():c.addClass(f,g.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();e?e(f,{removeClass:g.modalInClass}).start().then(d):c.removeClass(f,g.modalInClass).then(d)})),b.when(h).then(function(){var a=f[0].querySelector("[autofocus]");a?a.focus():f[0].focus()});var i=a.getTop();i&&a.modalRendered(i.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h,i){function j(){for(var a=-1,b=u.keys(),c=0;c<b.length;c++)u.get(b[c]).value.backdrop&&(a=c);return a}function k(a,b){var d=c.find("body").eq(0),e=u.get(a).value;u.remove(a),n(e.modalDomEl,e.modalScope,function(){var b=e.openedClass||t;v.remove(b,a),d.toggleClass(b,v.hasKey(b)),l(!0)}),m(),b&&b.focus?b.focus():d.focus()}function l(a){var b;u.length()>0&&(b=u.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function m(){if(q&&-1==j()){var a=r;n(q,r,function(){a=null}),q=void 0,r=void 0}}function n(b,c,d){function e(){e.done||(e.done=!0,p?p(b,{event:"leave"}).start().then(function(){b.remove()}):a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(w.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p=null;g.has("$animateCss")&&(p=g.get("$animateCss"));var q,r,s,t="modal-open",u=i.createNew(),v=h.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,y="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(j,function(a){r&&(r.index=a)}),c.bind("keydown",function(a){if(a.isDefaultPrevented())return a;var b=u.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){w.dismiss(b.key,"escape key press")});break;case 9:w.loadFocusElementList(b);var c=!1;a.shiftKey?w.isFocusInFirstItem(a)&&(c=w.focusLastFocusableElement()):w.isFocusInLastItem(a)&&(c=w.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),w.open=function(a,b){var f=c[0].activeElement,g=b.openedClass||t;l(!1),u.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard,openedClass:b.openedClass,windowTopClass:b.windowTopClass}),v.put(g,a);var h=c.find("body").eq(0),i=j();if(i>=0&&!q){r=e.$new(!0),r.index=i;var k=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');k.attr("backdrop-class",b.backdropClass),b.animation&&k.attr("modal-animation","true"),q=d(k)(r),h.append(q)}var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,"window-top-class":b.windowTopClass,size:b.size,index:u.length()-1,animate:"animate"}).html(b.content),b.animation&&m.attr("modal-animation","true");var n=d(m)(b.scope);u.top().value.modalDomEl=n,u.top().value.modalOpener=f,h.append(n),h.addClass(g),w.clearFocusListCache()},w.close=function(a,b){var c=u.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),k(a,c.value.modalOpener),!0):!c},w.dismiss=function(a,b){var c=u.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),k(a,c.value.modalOpener),!0):!c},w.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},w.getTop=function(){return u.top()},w.modalRendered=function(a){var b=u.get(a);b&&b.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return s.length>0?(s[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return s.length>0?(s[s.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(a){return s.length>0?(a.target||a.srcElement)==s[0]:!1},w.isFocusInLastItem=function(a){return s.length>0?(a.target||a.srcElement)==s[s.length-1]:!1},w.clearFocusListCache=function(){s=[],x=0},w.loadFocusElementList=function(a){if((void 0===s||!s.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(s=b[0].querySelectorAll(y))}},w}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(b,c,d,e,f,g,h,i){function j(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function k(a){var c=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?c.push(d.when(b.invoke(a))):angular.isString(a)?c.push(d.when(b.get(a))):c.push(d.when(a))}),c}var l={},m=null;return l.getPromiseChain=function(){return m},l.open=function(b){function e(){return r}var l=d.defer(),n=d.defer(),o=d.defer(),p={result:l.promise,opened:n.promise,rendered:o.promise,close:function(a){return g.close(p,a)},dismiss:function(a){return g.dismiss(p,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=d.all([j(b)].concat(k(b.resolve)));return q=m=d.all([m]).then(e,e).then(function(a){var d=(b.scope||c).$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var e,j={},k=1;b.controller&&(j.$scope=d,j.$uibModalInstance=p,Object.defineProperty(j,"$modalInstance",{get:function(){return h||i.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),p}}),angular.forEach(b.resolve,function(b,c){j[c]=a[k++]}),e=f(b.controller,j),b.controllerAs&&(b.bindToController&&angular.extend(e,d),d[b.controllerAs]=e)),g.open(p,{scope:d,deferred:l,renderDeferred:o,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowTopClass:b.windowTopClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size,openedClass:b.openedClass}),n.resolve(!0)},function(a){n.reject(a),l.reject(a)})["finally"](function(){m===q&&(m=null)}),p},l}]};return a}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(a,b,c,d,e){function f(b,f,h){e||d.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),f.addClass("modal-backdrop"),h.modalInClass&&(g?g(f,{addClass:h.modalInClass}).start():a.addClass(f,h.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(b,c){var d=c();g?g(f,{removeClass:h.modalInClass}).start().then(d):a.removeClass(f,h.modalInClass).then(d)}))}var g=null;return b.has("$animateCss")&&(g=b.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),f}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(a,b,c,d,e,f){var g=null;return d.has("$animateCss")&&(g=d.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,h,i){f||e.warn("modal-window is now deprecated. Use uib-modal-window instead."),h.addClass(i.windowClass||""),h.addClass(i.windowTopClass||""),d.size=i.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},h.on("click",d.close),d.$isRendered=!0;var j=b.defer();i.$observe("modalRender",function(a){"true"==a&&j.resolve()}),j.promise.then(function(){var e=null;i.modalInClass&&(e=g?g(h,{addClass:i.modalInClass}).start():c.addClass(h,i.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();g?g(h,{removeClass:i.modalInClass}).start().then(d):c.removeClass(h,i.modalInClass).then(d)})),b.when(e).then(function(){var a=h[0].querySelector("[autofocus]");a?a.focus():h[0].focus()});var f=a.getTop();f&&a.modalRendered(f.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(a,b){return{compile:function(c,d){b||a.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),d.modalAnimation&&c.addClass(d.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(a,b){return{link:function(c,d,e,f,g){
b||a.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),g(c.$parent,function(a){d.empty(),d.append(a)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k,l){l||k.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,j)}]).provider("$modal",["$uibModalProvider",function(a){angular.extend(this,a),this.$get=["$injector","$log","$modalSuppressWarning",function(b,c,d){return d||c.warn("$modal is now deprecated. Use $uibModal instead."),b.invoke(a.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(a,b,c,d,e){e||d.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var f=this,g={$setViewValue:angular.noop},h=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d,e){g=d,this.config=e,g.$render=function(){f.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){f.itemsPerPage=parseInt(b,10),a.totalPages=f.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=f.calculateTotalPages()}),a.$watch("totalPages",function(b){h(a.$parent,b),a.page>b?a.selectPage(b):g.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(g.$viewValue,10)||1},a.selectPage=function(b,c){c&&c.preventDefault();var d=!a.ngDisabled||!c;d&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),g.$setViewValue(b),g.$render())},a.getText=function(b){return a[b+"Text"]||f.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(a,b,c,d){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,f,g,h){function i(a,b,c){return{number:a,text:b,active:c}}function j(a,b){var c=[],d=1,e=b,f=angular.isDefined(m)&&b>m;f&&(n?(d=Math.max(a-Math.floor(m/2),1),e=d+m-1,e>b&&(e=b,d=e-m+1)):(d=(Math.ceil(a/m)-1)*m+1,e=Math.min(d+m-1,b)));for(var g=d;e>=g;g++){var h=i(g,g,g===a);c.push(h)}if(f&&!n){if(d>1){var j=i(d-1,"...",!1);c.unshift(j)}if(b>e){var k=i(e+1,"...",!1);c.push(k)}}return c}d||c.warn("pagination is now deprecated. Use uib-pagination instead.");var k=h[0],l=h[1];if(l){var m=angular.isDefined(g.maxSize)?e.$parent.$eval(g.maxSize):b.maxSize,n=angular.isDefined(g.rotate)?e.$parent.$eval(g.rotate):b.rotate;e.boundaryLinks=angular.isDefined(g.boundaryLinks)?e.$parent.$eval(g.boundaryLinks):b.boundaryLinks,e.directionLinks=angular.isDefined(g.directionLinks)?e.$parent.$eval(g.directionLinks):b.directionLinks,k.init(l,b),g.maxSize&&e.$parent.$watch(a(g.maxSize),function(a){m=parseInt(a,10),k.render()});var o=k.render;k.render=function(){o(),e.page>0&&e.page<=e.totalPages&&(e.pages=j(e.page,e.totalPages))}}}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(a,b,c){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(d,e,f,g){c||b.warn("pager is now deprecated. Use uib-pager instead.");var h=g[0],i=g[1];i&&(d.align=angular.isDefined(f.align)?d.$parent.$eval(f.align):a.align,h.init(i,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){var n=m.createNew();return h.on("keypress",function(a){if(27===a.which){var b=n.top();b&&(b.value.close(),n.removeTop(),b=null)}}),function(e,k,m,o){function p(a){var b=(a||o.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}o=angular.extend({},b,d,o);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(o.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){L.isOpen?q():m()}function m(){(!K||a.$eval(d[k+"Enable"]))&&(u(),x(),L.popupDelay?F||(F=g(r,L.popupDelay,!1)):r())}function q(){s(),L.popupCloseDelay?G||(G=g(t,L.popupCloseDelay,!1)):t()}function r(){return s(),u(),L.content?(v(),void L.$evalAsync(function(){L.isOpen=!0,y(!0),Q()})):angular.noop}function s(){F&&(g.cancel(F),F=null),H&&(g.cancel(H),H=null)}function t(){s(),u(),L&&L.$evalAsync(function(){L.isOpen=!1,y(!1),L.animation?E||(E=g(w,150,!1)):w()})}function u(){G&&(g.cancel(G),G=null),E&&(g.cancel(E),E=null)}function v(){C||(D=L.$new(),C=c(D,function(a){I?h.find("body").append(a):b.after(a)}),z())}function w(){A(),E=null,C&&(C.remove(),C=null),D&&(D.$destroy(),D=null)}function x(){L.title=d[k+"Title"],O?L.content=O(a):L.content=d[e],L.popupClass=d[k+"Class"],L.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:o.placement;var b=parseInt(d[k+"PopupDelay"],10),c=parseInt(d[k+"PopupCloseDelay"],10);L.popupDelay=isNaN(b)?o.popupDelay:b,L.popupCloseDelay=isNaN(c)?o.popupCloseDelay:c}function y(b){N&&angular.isFunction(N.assign)&&N.assign(a,b)}function z(){P.length=0,O?(P.push(a.$watch(O,function(a){L.content=a,!a&&L.isOpen&&t()})),P.push(D.$watch(function(){M||(M=!0,D.$$postDigest(function(){M=!1,L&&L.isOpen&&Q()}))}))):P.push(d.$observe(e,function(a){L.content=a,!a&&L.isOpen?t():Q()})),P.push(d.$observe(k+"Title",function(a){L.title=a,L.isOpen&&Q()})),P.push(d.$observe(k+"Placement",function(a){L.placement=a?a:o.placement,L.isOpen&&Q()}))}function A(){P.length&&(angular.forEach(P,function(a){a()}),P.length=0)}function B(){var a=d[k+"Trigger"];R(),J=p(a),"none"!==J.show&&J.show.forEach(function(a,c){a===J.hide[c]?b[0].addEventListener(a,j):a&&(b[0].addEventListener(a,m),J.hide[c].split(" ").forEach(function(a){b[0].addEventListener(a,q)})),b.on("keypress",function(a){27===a.which&&q()})})}var C,D,E,F,G,H,I=angular.isDefined(o.appendToBody)?o.appendToBody:!1,J=p(void 0),K=angular.isDefined(d[k+"Enable"]),L=a.$new(!0),M=!1,N=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,O=o.useContentExp?l(d[e]):!1,P=[],Q=function(){C&&C.html()&&(H||(H=g(function(){C.css({top:0,left:0});var a=i.positionElements(b,C,L.placement,I);a.top+="px",a.left+="px",a.visibility="visible",C.css(a),H=null},0,!1)))};L.origScope=a,L.isOpen=!1,n.add(L,{close:t}),L.contentExp=function(){return L.content},d.$observe("disabled",function(a){a&&s(),a&&L.isOpen&&t()}),N&&a.$watch(N,function(a){L&&!a===L.isOpen&&j()});var R=function(){J.show.forEach(function(a){b.unbind(a,m)}),J.hide.forEach(function(a){a.split(" ").forEach(function(a){b[0].removeEventListener(a,q)})})};B();var S=a.$eval(d[k+"Animation"]);L.animation=angular.isDefined(S)?!!S:o.animation;var T=a.$eval(d[k+"AppendToBody"]);I=angular.isDefined(T)?T:I,I&&a.$on("$locationChangeSuccess",function(){L.isOpen&&t()}),a.$on("$destroy",function(){s(),u(),R(),w(),n.remove(L),L=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(a,b){b.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(a){angular.extend(this,a),this.$get=["$log","$tooltipSuppressWarning","$injector",function(b,c,d){return c||b.warn("$tooltip is now deprecated. Use $uibTooltip instead."),d.invoke(a.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(a,b,c,d,e,f){return{link:function(g,h,i){f||e.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");var j,k,l,m=g.$eval(i.tooltipTemplateTranscludeScope),n=0,o=function(){k&&(k.remove(),k=null),j&&(j.$destroy(),j=null),l&&(a.leave(l).then(function(){k=null}),k=l,l=null)};g.$watch(b.parseAsResourceUrl(i.tooltipTemplateTransclude),function(b){var e=++n;b?(d(b,!0).then(function(d){if(e===n){var f=m.$new(),g=d,i=c(g)(f,function(b){o(),a.enter(b,h)});j=f,l=i,j.$emit("$includeContentLoaded",b)}},function(){e===n&&(o(),g.$emit("$includeContentError",b))}),g.$emit("$includeContentRequested",b)):o()}),g.$on("$destroy",o)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(a,b){return{restrict:"A",link:function(c,d,e){b||a.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),c.placement&&d.addClass(c.placement),c.popupClass&&d.addClass(c.popupClass),c.animation()&&d.addClass(e.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(c,d){b||a.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),d.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(c,d){b||a.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(c,d){b||a.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),d.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(a,b){b.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(c,d){b||a.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),d.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(c,d){b||a.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),d.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(a){return a("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(a,b){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(c,d){b||a.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),d.addClass("popover")}}}]).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,f){e||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=f&&angular.isDefined(f.title)?f.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){var a=d.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(a,b,c,d,e){e||d.warn("ProgressController is now deprecated. Use UibProgressController instead.");var f=this,g=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c,d){g||c.css({transition:"none"}),this.bars.push(b),b.max=a.max,b.title=d&&angular.isDefined(d.title)?d.title:"progressbar",b.$watch("value",function(a){b.recalculatePercentage()}),b.recalculatePercentage=function(){b.percent=+(100*b.value/b.max).toFixed(2);var a=f.bars.reduce(function(a,b){return a+b.percent},0);a>100&&(b.percent-=a-100)},b.$on("$destroy",function(){c=null,f.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)},a.$watch("max",function(b){f.bars.forEach(function(b){b.max=a.max,b.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){b||a.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(c,d,e,f){b||a.warn("bar is now deprecated. Use uib-bar instead."),f.addBar(c,d)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(a,b){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(c,d,e,f){b||a.warn("progressbar is now deprecated. Use uib-progressbar instead."),f.addBar(c,angular.element(d.children()[0]),{title:e.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(a,b,c,d,e){e||d.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,c("UibRatingController",{$scope:a,$attrs:b}))}]).directive("rating",["$log","$ratingSuppressWarning",function(a,b){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(c,d,e,f){b||a.warn("rating is now deprecated. Use uib-rating instead.");var g=f[0],h=f[1];g.init(h)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect(),a.selectCalled=!1)}),a.active=!0,a.selectCalled||(a.onSelect(),a.selectCalled=!0)},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(b,c,d,e,f){b.$watch("active",function(a){a&&e.select(b)}),b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase()||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(a,b,c,d){d||c.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,b("UibTabsetController",{$scope:a}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(c,d,e){b||a.warn("tabset is now deprecated. Use uib-tabset instead."),c.vertical=angular.isDefined(e.vertical)?c.$parent.$eval(e.vertical):!1,c.justified=angular.isDefined(e.justified)?c.$parent.$eval(e.justified):!1}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(a,b,c){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(d,e,f,g,h){c||b.warn("tab is now deprecated. Use uib-tab instead."),d.$watch("active",function(a){a&&g.select(d)}),d.disabled=!1,f.disable&&d.$parent.$watch(a(f.disable),function(a){d.disabled=!!a}),d.select=function(){d.disabled||(d.active=!0)},g.addTab(d),d.$on("$destroy",function(){g.removeTab(d)}),d.$transcludeFn=h}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(a,b){return{restrict:"A",require:"^tab",link:function(c,d){b||a.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),c.$watch("headingElement",function(a){a&&(d.html(""),d.append(a))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(a,b){function c(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||a.hasAttribute("x-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase()||"x-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(d,e,f){b||a.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var g=d.$eval(f.tabContentTransclude);g.$transcludeFn(g.$parent,function(a){angular.forEach(a,function(a){c(a)?g.headingElement=a:e.append(a)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===r[1]&&(b+=12)),b):void 0}function i(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function k(a){l(),q.$setViewValue(new Date(p)),m(a)}function l(){q.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function m(b){var c=p.getHours(),d=p.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:j(c),"m"!==b&&(a.minutes=j(d)),a.meridian=p.getHours()<12?r[0]:r[1]}function n(a,b){var c=new Date(a.getTime()+6e4*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes()),d}function o(a){p=n(p,a),k()}var p=new Date,q={$setViewValue:angular.noop},r=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){q=b,q.$render=this.render,q.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;h&&this.setupMousewheelEvents(e,f);var i=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;i&&this.setupArrowkeyEvents(e,f),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f)};var s=g.hourStep;c.hourStep&&a.$parent.$watch(d(c.hourStep),function(a){s=parseInt(a,10)});var t=g.minuteStep;c.minuteStep&&a.$parent.$watch(d(c.minuteStep),function(a){t=parseInt(a,10)});var u;a.$parent.$watch(d(c.min),function(a){var b=new Date(a);u=isNaN(b)?void 0:b});var v;a.$parent.$watch(d(c.max),function(a){var b=new Date(a);v=isNaN(b)?void 0:b}),a.noIncrementHours=function(){var a=n(p,60*s);
return a>v||p>a&&u>a},a.noDecrementHours=function(){var a=n(p,60*-s);return u>a||a>p&&a>v},a.noIncrementMinutes=function(){var a=n(p,t);return a>v||p>a&&u>a},a.noDecrementMinutes=function(){var a=n(p,-t);return u>a||a>p&&a>v},a.noToggleMeridian=function(){return p.getHours()<13?n(p,720)>v:n(p,-720)<u},a.showMeridian=g.showMeridian,c.showMeridian&&a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,q.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(p.setHours(c),k())}else m()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){q.$setViewValue(null),q.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=h(),b=i();angular.isDefined(a)&&angular.isDefined(b)?(p.setHours(a),u>p||p>v?d(!0):k("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=j(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();angular.isDefined(a)&&angular.isDefined(b)?(p.setMinutes(a),u>p||p>v?d(void 0,!0):k("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=j(a.minutes)})})},this.render=function(){var b=q.$viewValue;isNaN(b)?(q.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(p=b),u>p||p>v?(q.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):l(),m())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*s)},a.decrementHours=function(){a.noDecrementHours()||o(60*-s)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(t)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(-t)},a.toggleMeridian=function(){a.noToggleMeridian()||o(720*(p.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(a,b,c,d,e,f){f||e.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,d("UibTimepickerController",{$scope:a,$element:b,$attrs:c}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(a,b){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(a,b){return b.templateUrl||"template/timepicker/timepicker.html"},link:function(c,d,e,f){b||a.warn("timepicker is now deprecated. Use uib-timepicker instead.");var g=f[0],h=f[1];h&&g.init(h,d.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){K.moveInProgress||(K.moveInProgress=!0,K.$digest()),S&&g.cancel(S),S=g(function(){K.matches.length&&n(),K.moveInProgress=!1},r)}function n(){K.position=C?k.offset(b):k.position(b),K.position.top+=b.prop("offsetHeight")}var o,p,q=[9,13,27,38,40],r=200,s=a.$eval(c.typeaheadMinLength);s||0===s||(s=1);var t,u,v=a.$eval(c.typeaheadWaitMs)||0,w=a.$eval(c.typeaheadEditable)!==!1,x=e(c.typeaheadLoading).assign||angular.noop,y=e(c.typeaheadOnSelect),z=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,A=e(c.typeaheadNoResults).assign||angular.noop,B=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,C=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,D=c.typeaheadAppendToElementId||!1,E=a.$eval(c.typeaheadFocusFirst)!==!1,F=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,G=e(c.ngModel),H=e(c.ngModel+"($$$p)"),I=function(b,c){return angular.isFunction(G(a))&&p&&p.$options&&p.$options.getterSetter?H(b,{$$$p:c}):G.assign(b,c)},J=l.parse(c.uibTypeahead),K=a.$new(),L=a.$on("$destroy",function(){K.$destroy()});K.$on("$destroy",L);var M="typeahead-"+K.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var N=angular.element("<div uib-typeahead-popup></div>");N.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&N.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&N.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var O=function(){K.matches=[],K.activeIdx=-1,b.attr("aria-expanded",!1)},P=function(a){return M+"-option-"+a};K.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",P(a))});var Q=function(a,b){return K.matches.length>b&&a?a.toUpperCase()===K.matches[b].label.toUpperCase():!1},R=function(c){var d={$viewValue:c};x(a,!0),A(a,!1),f.when(J.source(a,d)).then(function(e){var f=c===o.$viewValue;if(f&&t)if(e&&e.length>0){K.activeIdx=E?0:-1,A(a,!1),K.matches.length=0;for(var g=0;g<e.length;g++)d[J.itemName]=e[g],K.matches.push({id:P(g),label:J.viewMapper(K,d),model:e[g]});K.query=c,n(),b.attr("aria-expanded",!0),F&&1===K.matches.length&&Q(c,0)&&K.select(0)}else O(),A(a,!0);f&&x(a,!1)},function(){O(),x(a,!1),A(a,!0)})};C&&(angular.element(i).bind("resize",m),h.find("body").bind("scroll",m));var S;K.moveInProgress=!1,K.query=void 0;var T,U=function(a){T=g(function(){R(a)},v)},V=function(){T&&g.cancel(T)};O(),K.select=function(d){var e,f,h={};u=!0,h[J.itemName]=f=K.matches[d].model,e=J.modelMapper(a,h),I(a,e),o.$setValidity("editable",!0),o.$setValidity("parse",!0),y(a,{$item:f,$model:e,$label:J.viewMapper(a,h)}),O(),K.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.bind("keydown",function(a){if(0!==K.matches.length&&-1!==q.indexOf(a.which)){if(-1===K.activeIdx&&(9===a.which||13===a.which))return O(),void K.$digest();a.preventDefault(),40===a.which?(K.activeIdx=(K.activeIdx+1)%K.matches.length,K.$digest()):38===a.which?(K.activeIdx=(K.activeIdx>0?K.activeIdx:K.matches.length)-1,K.$digest()):13===a.which||9===a.which?K.$apply(function(){K.select(K.activeIdx)}):27===a.which&&(a.stopPropagation(),O(),K.$digest())}}),b.bind("blur",function(){z&&K.matches.length&&-1!==K.activeIdx&&!u&&(u=!0,K.$apply(function(){K.select(K.activeIdx)})),t=!1,u=!1});var W=function(a){b[0]!==a.target&&3!==a.which&&0!==K.matches.length&&(O(),j.$$phase||K.$digest())};h.bind("click",W),a.$on("$destroy",function(){h.unbind("click",W),(C||D)&&X.remove(),C&&(angular.element(i).unbind("resize",m),h.find("body").unbind("scroll",m)),N.remove()});var X=d(N)(K);C?h.find("body").append(X):D!==!1?angular.element(h[0].getElementById(D)).append(X):b.after(X),this.init=function(b,c){o=b,p=c,o.$parsers.unshift(function(b){return t=!0,0===s||b&&b.length>=s?v>0?(V(),U(b)):R(b):(x(a,!1),V(),O()),w?b:b?void o.$setValidity("editable",!1):(o.$setValidity("editable",!0),null)}),o.$formatters.push(function(b){var c,d,e={};return w||o.$setValidity("editable",!0),B?(e.$model=b,B(a,e)):(e[J.itemName]=b,c=J.viewMapper(a,e),e[J.itemName]=void 0,d=J.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d){return d||c.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),b}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(a,b,c,d,e,f,g,h,i,j,k){var l=[9,13,27,38,40],m=200;return{require:["ngModel","^?ngModelOptions"],link:function(n,o,p,q){function r(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),V&&d.cancel(V),V=d(function(){N.matches.length&&s(),N.moveInProgress=!1},m)}function s(){N.position=F?h.offset(o):h.position(o),N.position.top+=o.prop("offsetHeight")}k||j.warn("typeahead is now deprecated. Use uib-typeahead instead.");var t=q[0],u=q[1],v=n.$eval(p.typeaheadMinLength);v||0===v||(v=1);var w,x,y=n.$eval(p.typeaheadWaitMs)||0,z=n.$eval(p.typeaheadEditable)!==!1,A=b(p.typeaheadLoading).assign||angular.noop,B=b(p.typeaheadOnSelect),C=angular.isDefined(p.typeaheadSelectOnBlur)?n.$eval(p.typeaheadSelectOnBlur):!1,D=b(p.typeaheadNoResults).assign||angular.noop,E=p.typeaheadInputFormatter?b(p.typeaheadInputFormatter):void 0,F=p.typeaheadAppendToBody?n.$eval(p.typeaheadAppendToBody):!1,G=p.typeaheadAppendToElementId||!1,H=n.$eval(p.typeaheadFocusFirst)!==!1,I=p.typeaheadSelectOnExact?n.$eval(p.typeaheadSelectOnExact):!1,J=b(p.ngModel),K=b(p.ngModel+"($$$p)"),L=function(a,b){return angular.isFunction(J(n))&&u&&u.$options&&u.$options.getterSetter?K(a,{$$$p:b}):J.assign(a,b)},M=i.parse(p.typeahead),N=n.$new(),O=n.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",O);var P="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());o.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var Q=angular.element("<div typeahead-popup></div>");Q.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(p.typeaheadTemplateUrl)&&Q.attr("template-url",p.typeaheadTemplateUrl),angular.isDefined(p.typeaheadPopupTemplateUrl)&&Q.attr("popup-template-url",p.typeaheadPopupTemplateUrl);var R=function(){N.matches=[],N.activeIdx=-1,o.attr("aria-expanded",!1)},S=function(a){return P+"-option-"+a};N.$watch("activeIdx",function(a){0>a?o.removeAttr("aria-activedescendant"):o.attr("aria-activedescendant",S(a))});var T=function(a,b){return N.matches.length>b&&a?a.toUpperCase()===N.matches[b].label.toUpperCase():!1},U=function(a){var b={$viewValue:a};A(n,!0),D(n,!1),c.when(M.source(n,b)).then(function(c){var d=a===t.$viewValue;if(d&&w)if(c&&c.length>0){N.activeIdx=H?0:-1,D(n,!1),N.matches.length=0;for(var e=0;e<c.length;e++)b[M.itemName]=c[e],N.matches.push({id:S(e),label:M.viewMapper(N,b),model:c[e]});N.query=a,s(),o.attr("aria-expanded",!0),I&&1===N.matches.length&&T(a,0)&&N.select(0)}else R(),D(n,!0);d&&A(n,!1)},function(){R(),A(n,!1),D(n,!0)})};F&&(angular.element(f).bind("resize",r),e.find("body").bind("scroll",r));var V;N.moveInProgress=!1,R(),N.query=void 0;var W,X=function(a){W=d(function(){U(a)},y)},Y=function(){W&&d.cancel(W)};t.$parsers.unshift(function(a){return w=!0,0===v||a&&a.length>=v?y>0?(Y(),X(a)):U(a):(A(n,!1),Y(),R()),z?a:a?void t.$setValidity("editable",!1):(t.$setValidity("editable",!0),null)}),t.$formatters.push(function(a){var b,c,d={};return z||t.$setValidity("editable",!0),E?(d.$model=a,E(n,d)):(d[M.itemName]=a,b=M.viewMapper(n,d),d[M.itemName]=void 0,c=M.viewMapper(n,d),b!==c?b:a)}),N.select=function(a){var b,c,e={};x=!0,e[M.itemName]=c=N.matches[a].model,b=M.modelMapper(n,e),L(n,b),t.$setValidity("editable",!0),t.$setValidity("parse",!0),B(n,{$item:c,$model:b,$label:M.viewMapper(n,e)}),R(),N.$eval(p.typeaheadFocusOnSelect)!==!1&&d(function(){o[0].focus()},0,!1)},o.bind("keydown",function(a){if(0!==N.matches.length&&-1!==l.indexOf(a.which)){if(-1===N.activeIdx&&(9===a.which||13===a.which))return R(),void N.$digest();a.preventDefault(),40===a.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===a.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===a.which||9===a.which?N.$apply(function(){N.select(N.activeIdx)}):27===a.which&&(a.stopPropagation(),R(),N.$digest())}}),o.bind("blur",function(){C&&N.matches.length&&-1!==N.activeIdx&&!x&&(x=!0,N.$apply(function(){N.select(N.activeIdx)})),w=!1,x=!1});var Z=function(a){o[0]!==a.target&&3!==a.which&&0!==N.matches.length&&(R(),g.$$phase||N.$digest())};e.bind("click",Z),n.$on("$destroy",function(){e.unbind("click",Z),(F||G)&&$.remove(),F&&(angular.element(f).unbind("resize",r),e.find("body").unbind("scroll",r)),Q.remove()});var $=a(Q)(N);F?e.find("body").append($):G!==!1?angular.element(e[0].getElementById(G)).append($):o.after($)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(a,b){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(c,d,e){a||b.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),c.templateUrl=e.templateUrl,c.isOpen=function(){return c.matches.length>0},c.isActive=function(a){return c.active==a},c.selectActive=function(a){c.active=a},c.selectMatch=function(a){c.select({activeIdx:a})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(a,b,c,d,e){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(f,g,h){d||e.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var i=c(h.templateUrl)(f.$parent)||"template/typeahead/typeahead-match.html";a(i).then(function(a){b(a.trim())(f,function(a){g.replaceWith(a)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(a,b,c,d){function e(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a){return/<.*>/g.test(a)}var g;return g=b.has("$sanitize"),function(b,h){return d||c.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!g&&f(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=h?(""+b).replace(new RegExp(e(h),"gi"),"<strong>$&</strong>"):b,g||(b=a.trustAsHtml(b)),b}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n');
}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');
define("ui-bootstrap", ["angular"], function(){});

/**
 * Created by correnti on 29/06/2016.
 */


/*==========================
 jquery.soap.js - https://github.com/doedje/jquery.soap
 version: 1.6.8

 jQuery plugin for communicating with a web service using SOAP.

 One function to send a SOAPEnvelope that takes a complex object as a data

 License GNU/GPLv3
 -----------------

 Copyright (C) 2009-2015 - Remy Blom, the Netherlands

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.

 When GPL is not an option for you, contact me for information about the commercial license.

 Information
 -----------

 For information about how to use jQuery.soap, authors, changelog, the latest version, etc...
 Visit: https://github.com/doedje/jquery.soap

 Documentation about THIS version is found here:
 https://github.com/doedje/jquery.soap/blob/1.6.8/README.md

 ======================*/

(function(factory) {
    if(typeof module === 'object' && typeof module.exports === 'object') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }
})(function(jQuery) {
    var $ = jQuery;
    var enableLogging;
    var globalConfig = { // this setup once, defaults go here
        appendMethodToURL: true,
        async: true,
        enableLogging: false,
        noPrefix: false,
        soap12: false
    };
    function soap(options) {
        var config = {};
        // a configuration call will not have 'data' specified ('params' is used for backwards compatibility)
        if (options && !options.params && !options.data) {
            $.extend(globalConfig, options); // update global config
            enableLogging = options.enableLogging;
            log('jQuery.soap - globalConfig updated:', globalConfig);
            return globalConfig;
        }
        $.extend(config, globalConfig, options);
        // function log will only work below this line!
        enableLogging = config.enableLogging;

        log('jquery.soap - config:', config);

        // fallbacks for changed properties
        SOAPTool.fallbackDeprecated(config);

        var soapObject = SOAPTool.processData({
            data: config.data,
            name: (!!config.elementName) ? config.elementName : config.method,
            context: config.context,
            prefix: (!!config.namespaceQualifier && !config.noPrefix) ? config.namespaceQualifier+':' : ''
        });

        if (!!config.namespaceQualifier && !!config.namespaceURL) {
            soapObject.addNamespace(config.namespaceQualifier, config.namespaceURL);
        }
        else if (!!config.namespaceURL) {
            soapObject.attr('xmlns', config.namespaceURL);
        }

        if (!!soapObject && !!config.url) { // we have a request and somewhere to send it
            // Create a SOAPEnvelope with the soapObject
            var soapEnvelope = new SOAPEnvelope(soapObject);
            // Additional attributes and namespaces for the Envelope
            if (config.envAttributes) {
                for (var i in config.envAttributes) {
                    soapEnvelope.addAttribute(i, config.envAttributes[i]);
                }
            }
            // SOAPHeader
            if (!!config.SOAPHeader) {
                var soapHeader = SOAPTool.processData({
                    data: config.SOAPHeader,
                    name: 'temp',
                    prefix: ''
                });
                if (!!soapHeader) {
                    if (soapHeader.hasChildren()) {
                        for (var j in soapHeader.children) {
                            soapEnvelope.addHeader(soapHeader.children[j]);
                        }
                    } else {
                        soapEnvelope.addHeader(soapHeader);
                    }
                }
            }
            // WSS
            if (!!config.wss) {
                var wssObj = SOAPTool.createWSS(config.wss);
                // add to WSS Security header to soapEnvelope
                if (!!wssObj) {
                    soapEnvelope.addHeader(wssObj);
                }
            }
            // append Method?
            if(!!config.appendMethodToURL && !!config.method){
                config.url += config.method;
            }
            return soapEnvelope.send({
                url: config.url,
                context: config.context,
                async: config.async,
                headers: (config.HTTPHeaders) ? config.HTTPHeaders : {},
                action: (!!config.SOAPAction) ? config.SOAPAction : config.method,
                soap12: config.soap12,
                beforeSend: config.beforeSend,
                statusCode: config.statusCode,
            }).done(function(data, textStatus, jqXHR) {
                var response = new SOAPResponse(textStatus, jqXHR);
                log('jquery.soap - receive:', response.toString());
                if ($.isFunction(config.success)) {
                    config.success.call(this, response);
                }
            }).fail(function(jqXHR, textStatus, errorThrown) {
                log('jquery.soap - error:', errorThrown);
                if ($.isFunction(config.error)) {
                    config.error.call(this, new SOAPResponse(textStatus, jqXHR));
                }
            });
        } else {
            var errDeferred = new $.Deferred(),
                errmsg;

            if (!soapObject) {
                errmsg = 'jquery.soap - no soapObject';
            }
            if (!config.url) {
                errmsg = 'jquery.soap - no url';
            }
            if (!!errmsg) {
                warn(errmsg);
                errDeferred.reject(errmsg);
            }
            return errDeferred.promise();
        }
    };

    //Soap request - this is what being sent
    function SOAPEnvelope (soapObject) {
        this.typeOf = "SOAPEnvelope";
        this.prefix = 'soap';
        this.soapConfig = null;
        this.attributes = {};
        this.headers = [];
        this.bodies = [];

        // let's get the soap namespace prefix
        var parts = soapObject.name.split(':');
        if (parts[1] === 'Envelope' || parts[1] === 'Body') {
            this.prefix = parts[0];
            if (soapObject.attr('xmlns:' + this.prefix) === SOAPTool.SOAP11.namespaceURL) {
                this.soapConfig = this.SOAP11;
            }
            if (soapObject.attr('xmlns:' + this.prefix) === SOAPTool.SOAP12.namespaceURL) {
                this.soapConfig = this.SOAP12;
            }
            // Envelope
            var env = soapObject.find(this.prefix + ':Envelope');
            if (env && env.attributes) {
                for (var i in env.attributes) {
                    this.addAttribute(i, env.attributes[i]);
                }
            }
            // headers
            header = soapObject.find(this.prefix + ':Header');
            if (header && header.children) {
                for (var j = 0; j < header.children.length; j++) {
                    this.addHeader(header.children[j]);
                }
            }
            // body
            body = soapObject.find(this.prefix + ':Body');
            if (body && body.children) {
                for (var k = 0; k < body.children.length; k++) {
                    this.addBody(body.children[k]);
                }
            } else {
                for (var l = 0; l < soapObject.children.length; l++) {
                    this.addBody(soapObject.children[l]);
                }
            }
        } else {
            // a soapObject with nothing, mere data
            this.addBody(soapObject);
        }
    }

    SOAPEnvelope.prototype = {
        addAttribute: function(name, value) {
            this.attributes[name] = value;
        },
        addNamespace: function(name, uri) {
            this.addAttribute('xmlns:' + name, uri);
        },
        addHeader: function(soapObject) {
            this.headers.push(soapObject);
        },
        addBody: function(soapObject) {
            this.bodies.push(soapObject);
        },
        toString: function() {
            var soapEnv = new SOAPObject(this.prefix + ':Envelope');
            //Add attributes
            for (var name in this.attributes) {
                soapEnv.attr(name, this.attributes[name]);
            }
            //Add Headers
            if (this.headers.length > 0) {
                var soapHeader = soapEnv.newChild(this.prefix + ':Header');
                for (var i = 0; i < this.headers.length; i++) {
                    soapHeader.appendChild(this.headers[i]);
                }
            }
            //Add Bodies
            if (this.bodies.length > 0) {
                var soapBody = soapEnv.newChild(this.prefix + ':Body');
                for (var j = 0; j < this.bodies.length; j++) {
                    soapBody.appendChild(this.bodies[j]);
                }
            }
            // Check for main NS over here...
            if (!soapEnv.attr('xmlns:' + this.prefix)) {
                soapEnv.addNamespace(this.prefix, this.soapConfig.namespaceURL);
            }
            if (!soapEnv.attr('xmlns:xsi')) {
                soapEnv.addNamespace('xsi', 'http://www.w3.org/2001/XMLSchema-instance');
            }
            if (!soapEnv.attr('xmlns:xsd')) {
                soapEnv.addNamespace('xsd', 'http://www.w3.org/2001/XMLSchema');
            }
            return '<?xml version="1.0" encoding="UTF-8"?>' + soapEnv.toString();
        },
        send: function(options) {
            var self = this;
            if (!this.soapConfig) {
                this.soapConfig = (options.soap12) ? SOAPTool.SOAP12 : SOAPTool.SOAP11;
            }
            var contentType = this.soapConfig.type;
            if (contentType === SOAPTool.SOAP11.type && !!options.action) {
                options.headers.SOAPAction = options.action;
            }
            log('jquery.soap - beforeSend:', this.toString());
            return $.ajax({
                type: "POST",
                context: options.context,
                statusCode: options.statusCode,
                url: options.url,
                async: options.async,
                headers: options.headers,
                //	crossDomain: true,
                dataType: "xml",
                processData: false,
                data: this.toString(),
                contentType: contentType + "; charset=UTF-8",
                // second attempt to get some progres info (but still a no go)
                // I still keep this in tho, we might see it working one day when browsers mature...
                /*
                 //WRT issue #80 (https://github.com/doedje/jquery.soap/issues/80) commenting out the xhr function below for IE8 and IE9 compatability. Issue exists when used alongside any script that modifies the XMLHttpRequest object like, for example, the xdomain or xhook libraries. This could be explicitly enabled by users on a per-case basis if it is mentioned somewhere in the readme.md file.
                 xhr: function() {
                 var xhr = new window.XMLHttpRequest();
                 xhr.upload.addEventListener("progress", function(evt) {
                 if (evt.lengthComputable) {
                 var progress = evt.loaded / evt.total;
                 log("jquery.soap - progress up: ", (progress * 100) + '% total: ' + evt.total);
                 }
                 }, false);
                 xhr.addEventListener("progress", function(evt) {
                 if (evt.lengthComputable) {
                 var progress = evt.loaded / evt.total;
                 log("jquery.soap - progress down: ", (progress * 100) + '% total: ' + evt.total);
                 }
                 }, false);

                 return xhr;
                 },
                 */
                beforeSend: function() {
                    if ($.isFunction(options.beforeSend)) {
                        return options.beforeSend.call(options.context, self);
                    }
                }
            });
        }
    };

    // SOAPObject - an abstraction layer to build SOAP Objects.
    var SOAPObject = function(name) {
        this.typeOf = 'SOAPObject';
        this.name = name;
        this.ns = {};
        this.attributes = {};
        this._parent = null;
        this.children = [];
        this.value = undefined;
    }

    SOAPObject.prototype = {
        attr: function(name, value) {
            if (!!name && !!value || !!name && value === "") {
                this.attributes[name] = value;
                return this;
            } else if (!!name) {
                return this.attributes[name];
            } else {
                return this.attributes;
            }
        },
        val: function(value) {
            if (value === undefined) {
                if (this.attr('xsi:nil') === 'true') {
                    return null;
                } else {
                    return this.value;
                }
            } else if (value === null) {
                this.attr("xsi:nil","true");
                return this;
            } else {
                this.value = value;
                return this;
            }
        },
        addNamespace: function(name, url) {
            this.ns[name] = url;
            return this;
        },
        appendChild: function(obj) {
            obj._parent = this;
            this.children.push(obj);
            return obj;
        },
        newChild: function(name) {
            var obj = new SOAPObject(name);
            this.appendChild(obj);
            return obj;
        },
        addParameter: function(name, value) {
            var obj = new SOAPObject(name);
            obj.val(value);
            this.appendChild(obj);
            return this;
        },
        hasChildren: function() {
            return (this.children.length > 0) ? true : false;
        },
        find: function(name) {
            if (this.name === name) {
                return this;
            } else {
                for (var i = 0; i < this.children.length; i++) {
                    var result = this.children[i].find(name);
                    if (result) {
                        return result;
                    }
                }
            }
        },
        end: function() {
            return this.parent();
        },
        parent: function() {
            return this._parent;
        },
        toString: function() {
            var out = [],
                xmlCharMap = {
                    '<': '&lt;',
                    '>': '&gt;',
                    '&': '&amp;',
                    '"': '&quot;',
                    "'": '&apos;'
                },
                encodedValue;
            out.push('<'+this.name);
            //Namespaces
            for (var name in this.ns) {
                out.push(' xmlns:' + name + '="' + this.ns[name] + '"');
            }
            //Node Attributes
            for (var attr in this.attributes) {
                if (typeof(this.attributes[attr]) === 'string') {
                    out.push(' ' + attr + '="' + this.attributes[attr] + '"');
                }
            }
            out.push('>');
            //Node children
            if(this.hasChildren()) {
                for(var cPos in this.children) {
                    var cObj = this.children[cPos];
                    if ((typeof(cObj) === 'object') && (cObj.typeOf === 'SOAPObject')) {
                        out.push(cObj.toString());
                    }
                }
            }
            //Node Value
            if (this.value !== undefined) {
                if (typeof(this.value) === 'string') {
                    //	encodedValue = this.value.match(/<!\[CDATA\[.*?\]\]>/) ?
                    encodedValue = this.value.match(/<!\[CDATA\[\s\S\]*\]>/) ?
                        this.value :
                        this.value.replace(/[<>&"']/g, function (ch) {
                            return xmlCharMap[ch];
                        });
                } else if (typeof(this.value) === 'number') {
                    encodedValue = this.value.toString();
                }
                out.push(encodedValue);
            }
            //Close Tag
            out.push('</' + this.name + '>');
            return out.join('');
        }
    };

    //Soap response - this will be passed to the callback from SOAPEnvelope.send
    var SOAPResponse = function(status, xhr) {
        this.typeOf = "SOAPResponse";
        this.status = status;
        this.headers = xhr.getAllResponseHeaders().split('\n');
        this.httpCode = xhr.status;
        this.httpText = xhr.statusText;
        this.content = (xhr.responseXML === undefined) ? xhr.responseText : xhr.responseXML;
        this.toString = function(){
            if (typeof this.content === 'string') {
                return this.content;
            }
            if ($.isXMLDoc(this.content)) {
                return SOAPTool.dom2string(this.content);
            }
            throw new Error("Unexpected Content: " + $.type(this.content));
        };
        this.toXML = function(){
            if ($.isXMLDoc(this.content)) {
                return this.content;
            }
            return $.parseXML(this.content);
        };
        this.toJSON = function (nodeRoot) {
            if ($.xml2json) {
                return $.xml2json(this.content, nodeRoot);
            }
            warn("jQuery.soap - Missing JQuery Plugin 'xml2json', info at: https://github.com/doedje/jquery.soap#dependencies");
        };
    };

    //Singleton SOAP Tool
    var SOAPTool = {
        SOAP11: {
            type: 'text/xml',
            namespaceURL: 'http://schemas.xmlsoap.org/soap/envelope/'
        },
        SOAP12: {
            type: 'application/soap+xml',
            namespaceURL: 'http://www.w3.org/2003/05/soap-envelope'
        },
        processData: function(options) {
            var soapObject;
            if ($.type(options.data) === "string") {
                // if data is XML string, parse to XML DOM
                // ensure that string is not empty and contains more than whitespace
                if (/\S/.test(options.data)) {
                    options.data = $.parseXML(options.data);
                }
            }
            if ($.isXMLDoc(options.data)) {
                // if data is XML DOM, parse to SOAPObject
                soapObject = SOAPTool.dom2soap(options.data.firstChild);
            } else if ($.isArray(options.data)) {
                // if data is an Array, asume SOAP::Lite
                soapObject = SOAPTool.array2soap(options);
            } else if ($.isPlainObject(options.data)) {
                // if data is JSON, parse to SOAPObject
                soapObject = SOAPTool.json2soap(options.name, options.data, options.prefix);
            } else if ($.isFunction(options.data)) {
                // if data is function, the function should return a SOAPObject
                soapObject = options.data.call(options.context, SOAPObject);
            }
            return soapObject;
        },
        json2soap: function (name, params, prefix, parentNode) {
            var soapObject;
            var childObject;
            if (params === null) {
                soapObject = new SOAPObject(prefix+name);
                soapObject.attr('xsi:nil', 'true');
            } else if (typeof params == 'object') {
                // added by DT - check if object is in fact an Array and treat accordingly
                if(params.constructor.toString().indexOf("Array") > -1) { // type is array
                    for(var i = 0; i < params.length; i++) {
                        childObject = this.json2soap(name, params[i], prefix, parentNode);
                        parentNode.appendChild(childObject);
                    }
                } else if (params.constructor.toString().indexOf("String") > -1) { // type is string
                    // handle String objects as string primitive value
                    soapObject = new SOAPObject(prefix+name);
                    soapObject.val(params);
                } else if (params.constructor.toString().indexOf("Date") > -1) { // type is Date
                    // handle Date objects as ISO8601 formated value
                    soapObject = new SOAPObject(prefix+name);
                    soapObject.val(params.toISOString());
                } else {
                    soapObject = new SOAPObject(prefix+name);
                    for(var y in params) {
                        childObject = this.json2soap(y, params[y], prefix, soapObject);
                        if (childObject) {
                            soapObject.appendChild(childObject);
                        }
                    }
                }
            } else if (typeof params == 'boolean') {
                soapObject = new SOAPObject(prefix+name);
                soapObject.val(params ? 'true' : 'false');
            } else {
                soapObject = new SOAPObject(prefix+name);
                soapObject.val(params);
            }
            return soapObject;
        },
        dom2soap: function (xmldom) {
            var whitespace = /^\s+$/;
            var soapObject = new SOAPObject(xmldom.nodeName);
            for (var i = 0; i < xmldom.attributes.length; i++) {
                var attribute = xmldom.attributes[i];
                soapObject.attr(attribute.name, attribute.value);
            }
            for (var j = 0; j < xmldom.childNodes.length; j++) {
                var child = xmldom.childNodes[j];
                if (child.nodeType === 1) {
                    var childObject = SOAPTool.dom2soap(child);
                    soapObject.appendChild(childObject);
                }
                if (child.nodeType === 3 && !whitespace.test(child.nodeValue)) {
                    soapObject.val(child.nodeValue);
                }
                if (child.nodeType === 4){
                    soapObject.val('<![CDATA[' + child.nodeValue + ']]>');
                }
            }
            return soapObject;
        },
        array2soap: function(options) {
            soapObject = new SOAPObject(options.name);
            for (var index = 0; index < options.data.length; index++) {
                if ($.isArray(options.data[index])) {
                    var new_item = soapObject.newChild('soapenc:Array');
                    new_item.attr('soapenc:arrayType', 'xsd:string[' + (options.data[index].length) + ']');
                    for (var item = 0; item < options.data[index].length; item++) {
                        new_item.newChild('item').attr('type', 'xsd:string').val(options.data[index][item]).end();
                    }
                } else {
                    soapObject.newChild('c-gensym' + index).attr('type', 'xsd:string').val(options.data[index]).end();
                }
            }
            return soapObject;
        },
        dom2string: function(dom) {
            if (typeof XMLSerializer!=="undefined") {
                return new window.XMLSerializer().serializeToString(dom);
            } else {
                return dom.xml;
            }
        },
        createWSS: function(wssValues) {
            if  (!!wssValues.username && !!wssValues.password) {
                var wssConst = {
                    security: "wsse:Security",
                    securityNS: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd",
                    usernameToken: "wsse:UsernameToken",
                    usernameTokenNS: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd",
                    username: "wsse:Username",
                    usernameType: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd",
                    password: "wsse:Password",
                    passwordType: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText",
                    nonce: "wsse:Nonce",
                    nonceType: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd",
                    wsuCreated: "wsu:Created",
                    wsuCreatedType: "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd"
                };
                var WSSObj = new SOAPObject(wssConst.security)
                    .addNamespace('wsse', wssConst.securityNS)
                    .addNamespace('wsu', wssConst.usernameTokenNS)
                    .newChild(wssConst.usernameToken)
                    .newChild(wssConst.username)
                    .attr('Type', wssConst.usernameType)
                    .val(wssValues.username)
                    .end()
                    .newChild(wssConst.password)
                    .attr('Type', wssConst.passwordType)
                    .val(wssValues.password)
                    .end()
                    .end();
                var userTokenObj = WSSObj.find(wssConst.usernameToken);
                if (!!wssValues.nonce) {
                    userTokenObj
                        .newChild(wssConst.nonce)
                        .attr('Type', wssConst.nonceType)
                        .val(wssValues.nonce);
                }
                if (!!wssValues.created) {
                    userTokenObj
                        .newChild(wssConst.wsuCreated)
                        .attr('Type', wssConst.wsuCreatedType)
                        .val(wssValues.created);
                }
                return WSSObj;
            }
        },
        fallbackDeprecated: function(config) {
            // fallbacks for changed properties: (the old names will deprecate at version 2.0.0!)
            var deprecated = {
                // usage -> oldParam: 'newParam'
                namespaceUrl: 'namespaceURL',
                request: 'beforeSend',
                params: 'data'
            };
            for (var oldParam in deprecated) {
                var newParam = deprecated[oldParam];
                if (!config[newParam] && !!config[oldParam]) {
                    warn('jquery.soap: ' + oldParam + ' is deprecated, use ' + newParam + ' instead!');
                    config[newParam] = config[oldParam];
                    delete config[oldParam];
                }
            }
        }
    };
    function log() {
        if (enableLogging && typeof(console)==='object') {
            if ($.isFunction(console.log)) {
                if (arguments.length == 1) {
                    console.log(arguments[0]);
                } else {
                    console.log(arguments);
                }
            }
        }
    }
    function warn() {
        if (typeof(console)==='object') {
            if ($.isFunction(console.warn)) {
                if (arguments.length == 1) {
                    console.warn(arguments[0]);
                } else {
                    console.warn(arguments);
                }
            }
        }
    }
    return $.soap = soap;
});


















/**
 * jQuery plugin to convert a given $.ajax response xml object to json.
 *
 * @example var json = $.xml2json(response);
 */
(function () {

    // default options based on https://github.com/Leonidas-from-XIV/node-xml2js
    var defaultOptions = {
        attrkey: '$',
        charkey: '_',
        normalize: false,
        explicitArray: false
    };

    // extracted from jquery
    function parseXML(data) {
        var xml, tmp;
        if (!data || typeof data !== "string") {
            return null;
        }
        try {
            if (window.DOMParser) { // Standard
                tmp = new DOMParser();
                xml = tmp.parseFromString(data, "text/xml");
            } else { // IE
                xml = new ActiveXObject("Microsoft.XMLDOM");
                xml.async = "false";
                xml.loadXML(data);
            }
        } catch (e) {
            xml = undefined;
        }
        if (!xml || !xml.documentElement || xml.getElementsByTagName("parsererror").length) {
            throw new Error("Invalid XML: " + data);
        }
        return xml;
    }

    function normalize(value, options) {
        if (!!options.normalize) {
            return (value || '').trim();
        }
        return value;
    }

    var jsonResult;
    var jsonString;
    function xml2jsonImpl(xml, rootNode) {

        for (var i = 0; i < xml.childNodes.length; i++) {
            var node = xml.childNodes[i];
            if (node.nodeType === 1) {

                if (!(node.attributes.length === 0 && node.childElementCount === 0)) {
                    xml2jsonImpl(node, rootNode);
                    if(jsonResult){
                        break;
                    }
                }

                var name = node.nodeName;
                if (name.toLowerCase() != (node.prefix + ":" + rootNode).toLowerCase()) {
                    continue;
                }
                found = true;
                jsonString = ""
                if(node.childNodes && node.childNodes.length > 0){
                    buildJson(node.childNodes);
                }
                jsonResult = JSON.parse("{" + jsonString+ "}");
            }
        }
    }


    function getObjectJson(htmlNodes) {
        var temp = "";
        for (var i = 0; i < htmlNodes.childNodes.length; i++) {
            var node = htmlNodes.childNodes[i];
            if (temp != "") {
                temp += ", "
            }
            temp += appendToJsonString(node);
        }
        return "{" + temp + "}"
    }

    function appendToJsonString(node){

        var textContent = getType(node.textContent);
        return "\"" + node.localName + "\":" + textContent;

    }

    function getType(textContent){
        if(!textContent){
            return "\"\"";
        }
        if (textContent.toLowerCase() == "true" ||
            textContent.toLowerCase() == "false") {
        }
        else if (new RegExp('^[0-9]{0,10}$').test(textContent.toLowerCase())
            && textContent[0] + "" != "0") {
        }
        else {
            textContent = "\"" + textContent + "\""
        }
        return textContent;
    }

    function buildJson(searchNodes){

        for (var j = 0; j < searchNodes.length; j++) {

            var node = searchNodes[j];
            var valueIsObject;

            if (!(node.attributes.length === 0 && node.childElementCount === 0)) {
                valueIsObject = getObjectJson(searchNodes[j]);
            }

            if (jsonString != "") {
                jsonString += ", "
            }

            if(valueIsObject){
                if(searchNodes.length > 1){
                    if(jsonString.indexOf("[") == -1){
                        jsonString += "\"" + node.localName + "\":["
                    }
                    jsonString += valueIsObject;
                    if(j + 1 >= searchNodes.length){
                        jsonString += "]";
                    }
                }
                else{
                    jsonString += "\"" + node.localName + "\":" + valueIsObject;
                }
            }
            else {
                var textContent = getType(node.textContent);
                jsonString += "\"" + node.localName + "\":" + textContent;
            }

            //if (result.hasOwnProperty(name)) {
            //    // For repeating elements, cast/promote the node to array
            //    var val = result[name];
            //    if (!Array.isArray(val)) {
            //        val = [val];
            //        result[name] = val;
            //    }
            //    val.push(child);
            //} else {
            //    result[name] = child;
            //}
        }
    }


    function xml2json(xml, rootNode) {
        jsonResult = null;
        if (!xml) {
            return xml;
        }
        if (typeof xml === 'string') {
            xml = parseXML(xml).documentElement;
        }
        if (typeof xml.attributes === 'undefined' || xml.attributes === null) {
            xml2jsonImpl(xml, rootNode);
        } else if (xml.attributes && xml.attributes.length === 0 && xml.childElementCount === 0) {
            normalize(xml.textContent, rootNode);
        } else {
            xml2jsonImpl(xml, rootNode);
        }

        return isEmptyObj(jsonResult);
    }

    function isEmptyObj(obj) {
        for (var prop in obj) {
            if (obj.hasOwnProperty(prop))
                return obj;
        }
        return true && JSON.stringify(obj) === JSON.stringify({}) ? null : obj;
    }

    if (typeof jQuery !== 'undefined') {
        jQuery.extend({ xml2json: xml2json });
    } else if (typeof module !== 'undefined') {
        module.exports = xml2json;
    } else if (typeof window !== 'undefined') {
        window.xml2json = xml2json;
    }


})();



define("jquery-soap", ["jquery"], function(){});

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map;
/**
 * Angular Google Analytics - Easy tracking for your AngularJS application
 * @version v1.1.8 - 2016-12-30
 * @link http://github.com/revolunet/angular-google-analytics
 * @author Julien Bouquillon <julien@revolunet.com> (https://github.com/revolunet)
 * @contributors Julien Bouquillon (https://github.com/revolunet),Justin Saunders (https://github.com/justinsa),Chris Esplin (https://github.com/deltaepsilon),Adam Misiorny (https://github.com/adam187)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
/* globals define */
(function (root, factory) {
  'use strict';
  if (typeof module !== 'undefined' && module.exports) {
    if (typeof angular === 'undefined') {
      factory(require('angular'));
    } else {
      factory(angular);
    }
    module.exports = 'angular-google-analytics';
  } else if (typeof define === 'function' && define.amd) {
    define('angular-google-analytics',['angular'], factory);
  } else {
    factory(root.angular);
  }
}(this, function (angular, undefined) {
  'use strict';
  angular.module('angular-google-analytics', [])
    .provider('Analytics', function () {
      var accounts,
          analyticsJS = true,
          cookieConfig = 'auto', // DEPRECATED
          created = false,
          crossDomainLinker = false,
          crossLinkDomains,
          currency = 'USD',
          debugMode = false,
          delayScriptTag = false,
          displayFeatures = false,
          disableAnalytics = false,
          domainName,
          ecommerce = false,
          enhancedEcommerce = false,
          enhancedLinkAttribution = false,
          experimentId,
          ignoreFirstPageLoad = false,
          logAllCalls = false,
          hybridMobileSupport = false,
          offlineMode = false,
          pageEvent = '$routeChangeSuccess',
          readFromRoute = false,
          removeRegExp,
          testMode = false,
          traceDebuggingMode = false,
          trackPrefix = '',
          trackRoutes = true,
          trackUrlParams = false;

      this.log = [];
      this.offlineQueue = [];

      /**
       * Configuration Methods
       **/

      this.setAccount = function (tracker) {
        if (angular.isUndefined(tracker) || tracker === false) {
          accounts = undefined;
        } else if (angular.isArray(tracker)) {
          accounts = tracker;
        } else if (angular.isObject(tracker)) {
          accounts = [tracker];
        } else {
          // In order to preserve an existing behavior with how the _trackEvent function works,
          // the trackEvent property must be set to true when there is only a single tracker.
          accounts = [{ tracker: tracker, trackEvent: true }];
        }
        return this;
      };

      this.trackPages = function (val) {
        trackRoutes = !!val;
        return this;
      };

      this.trackPrefix = function (prefix) {
        trackPrefix = prefix;
        return this;
      };

      this.setDomainName = function (domain) {
        domainName = domain;
        return this;
      };

      this.useDisplayFeatures = function (val) {
        displayFeatures = !!val;
        return this;
      };

      this.useAnalytics = function (val) {
        analyticsJS = !!val;
        return this;
      };

      this.useEnhancedLinkAttribution = function (val) {
        enhancedLinkAttribution = !!val;
        return this;
      };

      this.useCrossDomainLinker = function (val) {
        crossDomainLinker = !!val;
        return this;
      };

      this.setCrossLinkDomains = function (domains) {
        crossLinkDomains = domains;
        return this;
      };

      this.setPageEvent = function (name) {
        pageEvent = name;
        return this;
      };

      /* DEPRECATED */
      this.setCookieConfig = function (config) {
        cookieConfig = config;
        return this;
      };

      this.useECommerce = function (val, enhanced) {
        ecommerce = !!val;
        enhancedEcommerce = !!enhanced;
        return this;
      };

      this.setCurrency = function (currencyCode) {
        currency = currencyCode;
        return this;
      };

      this.setRemoveRegExp = function (regex) {
        if (regex instanceof RegExp) {
          removeRegExp = regex;
        }
        return this;
      };

      this.setExperimentId = function (id) {
        experimentId = id;
        return this;
      };

      this.ignoreFirstPageLoad = function (val) {
        ignoreFirstPageLoad = !!val;
        return this;
      };

      this.trackUrlParams = function (val) {
        trackUrlParams = !!val;
        return this;
      };

      this.disableAnalytics = function (val) {
        disableAnalytics = !!val;
        return this;
      };

      this.setHybridMobileSupport = function (val) {
        hybridMobileSupport = !!val;
        return this;
      };

      this.startOffline = function (val) {
        offlineMode = !!val;
        if (offlineMode === true) {
          this.delayScriptTag(true);
        }
        return this;
      };

      this.delayScriptTag = function (val) {
        delayScriptTag = !!val;
        return this;
      };

      this.logAllCalls = function (val) {
        logAllCalls = !!val;
        return this;
      };

      this.enterTestMode = function () {
        testMode = true;
        return this;
      };

      this.enterDebugMode = function (enableTraceDebugging) {
        debugMode = true;
        traceDebuggingMode = !!enableTraceDebugging;
        return this;
      };
      
      // Enable reading page url from route object
      this.readFromRoute = function(val) {
        readFromRoute = !!val;
        return this;
      };

      /**
       * Public Service
       */
      this.$get = ['$document', // To read page title 
                   '$location', //
                   '$log',      //
                   '$rootScope',//
                   '$window',   //
                   '$injector', // To access ngRoute module without declaring a fixed dependency
                   function ($document, $location, $log, $rootScope, $window, $injector) {
        var that = this;

        /**
         * Side-effect Free Helper Methods
         **/

        var isPropertyDefined = function (key, config) {
          return angular.isObject(config) && angular.isDefined(config[key]);
        };

        var isPropertySetTo = function (key, config, value) {
          return isPropertyDefined(key, config) && config[key] === value;
        };

        var generateCommandName = function (commandName, config) {
          if (angular.isString(config)) {
            return config + '.' + commandName;
          }
          return isPropertyDefined('name', config) ? (config.name + '.' + commandName) : commandName;
        };
        
        // Try to read route configuration and log warning if not possible
        var $route = {};
        if (readFromRoute) {
          if (!$injector.has('$route')) {
            $log.warn('$route service is not available. Make sure you have included ng-route in your application dependencies.');
          } else {
            $route = $injector.get('$route');
          }
        }

        // Get url for current page 
        var getUrl = function () {
          // Using ngRoute provided tracking urls
          if (readFromRoute && $route.current && ('pageTrack' in $route.current)) {
            return $route.current.pageTrack;
          }
           
          // Otherwise go the old way
          var url = trackUrlParams ? $location.url() : $location.path(); 
          return removeRegExp ? url.replace(removeRegExp, '') : url;
        };

        var getUtmParams = function () {
          var utmToCampaignVar = {
            utm_source: 'campaignSource',
            utm_medium: 'campaignMedium',
            utm_term: 'campaignTerm',
            utm_content: 'campaignContent',
            utm_campaign: 'campaignName'
          };
          var object = {};

          angular.forEach($location.search(), function (value, key) {
            var campaignVar = utmToCampaignVar[key];

            if (angular.isDefined(campaignVar)) {
              object[campaignVar] = value;
            }
          });

          return object;
        };

        /**
         * get ActionFieldObject
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#action-data
         * @param id
         * @param affliation
         * @param revenue
         * @param tax
         * @param shipping
         * @param coupon
         * @param list
         * @param step
         * @param option
         */
        var getActionFieldObject = function (id, affiliation, revenue, tax, shipping, coupon, list, step, option) {
          var obj = {};
          if (id) { obj.id = id; }
          if (affiliation) { obj.affiliation = affiliation; }
          if (revenue) { obj.revenue = revenue; }
          if (tax) { obj.tax = tax; }
          if (shipping) { obj.shipping = shipping; }
          if (coupon) { obj.coupon = coupon; }
          if (list) { obj.list = list; }
          if (step) { obj.step = step; }
          if (option) { obj.option = option; }
          return obj;
        };

        /**
         * Private Methods
         */

        var _getProtocol = function (httpPostfix, httpsPostfix) {
          var protocol = '',
              isSslEnabled = document.location.protocol === 'https:',
              isChromeExtension = document.location.protocol === 'chrome-extension:',
              isHybridApplication = analyticsJS === true && hybridMobileSupport === true;
          httpPostfix = angular.isString(httpPostfix) ? httpPostfix : '';
          httpsPostfix = angular.isString(httpsPostfix) ? httpsPostfix : '';
          if (httpPostfix !== '') {
            protocol = 'http:' + httpPostfix;
          }
          if (isChromeExtension || isHybridApplication || (isSslEnabled && httpsPostfix !== '')) {
            protocol = 'https:' + httpsPostfix;
          }
          return protocol;
        };

        var _gaJs = function (fn) {
          if (!analyticsJS && $window._gaq && typeof fn === 'function') {
            fn();
          }
        };

        var _gaq = function () {
          var args = Array.prototype.slice.call(arguments);
          if (offlineMode === true) {
            that.offlineQueue.push([_gaq, args]);
            return;
          }
          if (!$window._gaq) {
            $window._gaq = [];
          }
          if (logAllCalls === true) {
            that._log.apply(that, args);
          }
          $window._gaq.push(args);
        };

        var _analyticsJs = function (fn) {
          if (analyticsJS && $window.ga && typeof fn === 'function') {
            fn();
          }
        };

        var _ga = function () {
          var args = Array.prototype.slice.call(arguments);
          if (offlineMode === true) {
            that.offlineQueue.push([_ga, args]);
            return;
          }
          if (typeof $window.ga !== 'function') {
            that._log('warn', 'ga function not set on window');
            return;
          }
          if (logAllCalls === true) {
            that._log.apply(that, args);
          }
          $window.ga.apply(null, args);
        };

        var _gaMultipleTrackers = function (includeFn) {
          // Drop the includeFn from the arguments and preserve the original command name
          var args = Array.prototype.slice.call(arguments, 1),
              commandName = args[0],
              trackers = [];
          if (typeof includeFn === 'function') {
            accounts.forEach(function (account) {
              if (includeFn(account)) {
                trackers.push(account);
              }
            });
          } else {
            // No include function indicates that all accounts are to be used
            trackers = accounts;
          }

          // To preserve backwards compatibility fallback to _ga method if no account
          // matches the specified includeFn. This preserves existing behaviors by
          // performing the single tracker operation.
          if (trackers.length === 0) {
            _ga.apply(that, args);
            return;
          }

          trackers.forEach(function (tracker) {
            // Check tracker 'select' function, if it exists, for whether the tracker should be used with the current command.
            // If the 'select' function returns false then the tracker will not be used with the current command.
            if (isPropertyDefined('select', tracker) && typeof tracker.select === 'function' && !tracker.select(args)) {
              return;
            }
            args[0] = generateCommandName(commandName, tracker);
            _ga.apply(that, args);
          });
        };

        this._log = function () {
          var args = Array.prototype.slice.call(arguments);
          if (args.length > 0) {
            if (args.length > 1) {
              switch (args[0]) {
                case 'debug':
                case 'error':
                case 'info':
                case 'log':
                case 'warn':
                  $log[args[0]](args.slice(1));
                  break;
              }
            }
            that.log.push(args);
          }
        };

        /* DEPRECATED */
        this._createScriptTag = function () {
          that._registerScriptTags();
          that._registerTrackers();
        };

        /* DEPRECATED */
        this._createAnalyticsScriptTag = function () {
          that._registerScriptTags();
          that._registerTrackers();
        };

        this._registerScriptTags = function () {
          var document = $document[0],
              protocol = _getProtocol(),
              scriptSource;

          if (created === true) {
            that._log('warn', 'Script tags already created');
            return;
          }

          if (disableAnalytics === true) {
            accounts.forEach(function (trackerObj) {
              that._log('info', 'Analytics disabled: ' + trackerObj.tracker);
              $window['ga-disable-' + trackerObj.tracker] = true;
            });
          }

          //
          // Universal Analytics
          //
          if (analyticsJS === true) {
            scriptSource = protocol + '//www.google-analytics.com/' + (debugMode ? 'analytics_debug.js' : 'analytics.js');
            if (testMode !== true) {
              // If not in test mode inject the Google Analytics tag
              (function (i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function (){
                (i[r].q=i[r].q||[]).push(arguments);},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m);
              })(window,document,'script',scriptSource,'ga');
            } else {
              if (typeof $window.ga !== 'function') {
                // In test mode create a ga function if none exists that is a noop sink.
                $window.ga = function () {};
              }
              // Log script injection.
              that._log('inject', scriptSource);
            }

            if (traceDebuggingMode) {
              $window.ga_debug = { trace: true };
            }

            if (experimentId) {
              var expScript = document.createElement('script'),
                  s = document.getElementsByTagName('script')[0];
              expScript.src = protocol + '//www.google-analytics.com/cx/api.js?experiment=' + experimentId;
              s.parentNode.insertBefore(expScript, s);
            }
          //
          // Classic Analytics
          //
          } else {
            scriptSource = _getProtocol('//www', '//ssl') + '.google-analytics.com/ga.js';
            if (displayFeatures === true) {
              scriptSource = protocol + '//stats.g.doubleclick.net/dc.js';
            }

            if (testMode !== true) {
              // If not in test mode inject the Google Analytics tag
              (function () {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = scriptSource;
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
              })();
            } else {
              // Log the source location for validation
              that._log('inject', scriptSource);
            }
          }

          created = true;
          return true;
        };

        this._registerTrackers = function () {
          if (!accounts || accounts.length < 1) {
            that._log('warn', 'No accounts to register');
            return;
          }

          //
          // Universal Analytics
          //
          if (analyticsJS === true) {
            accounts.forEach(function (trackerObj) {
              trackerObj.crossDomainLinker = isPropertyDefined('crossDomainLinker', trackerObj) ? trackerObj.crossDomainLinker : crossDomainLinker;
              trackerObj.crossLinkDomains = isPropertyDefined('crossLinkDomains', trackerObj) ? trackerObj.crossLinkDomains : crossLinkDomains;
              trackerObj.displayFeatures = isPropertyDefined('displayFeatures', trackerObj) ? trackerObj.displayFeatures : displayFeatures;
              trackerObj.enhancedLinkAttribution = isPropertyDefined('enhancedLinkAttribution', trackerObj) ? trackerObj.enhancedLinkAttribution : enhancedLinkAttribution;
              trackerObj.set = isPropertyDefined('set', trackerObj) ? trackerObj.set : {};
              trackerObj.trackEcommerce = isPropertyDefined('trackEcommerce', trackerObj) ? trackerObj.trackEcommerce : ecommerce;
              trackerObj.trackEvent = isPropertyDefined('trackEvent', trackerObj) ? trackerObj.trackEvent : false;

              // Logic to choose the account fields to be used.
              // cookieConfig is being deprecated for a tracker specific property: fields.
              var fields = {};
              if (isPropertyDefined('fields', trackerObj)) {
                fields = trackerObj.fields;
              } else if (isPropertyDefined('cookieConfig', trackerObj)) {
                if (angular.isString(trackerObj.cookieConfig)) {
                  fields.cookieDomain = trackerObj.cookieConfig;
                } else {
                  fields = trackerObj.cookieConfig;
                }
              } else if (angular.isString(cookieConfig)) {
                fields.cookieDomain = cookieConfig;
              } else if (cookieConfig) {
                fields = cookieConfig;
              }
              if (trackerObj.crossDomainLinker === true) {
                fields.allowLinker = true;
              }
              if (isPropertyDefined('name', trackerObj)) {
                fields.name = trackerObj.name;
              }
              trackerObj.fields = fields;

              _ga('create', trackerObj.tracker, trackerObj.fields);

              // Hybrid mobile application support
              // https://developers.google.com/analytics/devguides/collection/analyticsjs/tasks
              if (hybridMobileSupport === true) {
                _ga(generateCommandName('set', trackerObj), 'checkProtocolTask', null);
              }

              // Send all custom set commands from the trackerObj.set property
              for (var key in trackerObj.set) {
                if (trackerObj.set.hasOwnProperty(key)) {
                  _ga(generateCommandName('set', trackerObj), key, trackerObj.set[key]);
                }
              }

              if (trackerObj.crossDomainLinker === true) {
                _ga(generateCommandName('require', trackerObj), 'linker');
                if (angular.isDefined(trackerObj.crossLinkDomains)) {
                  _ga(generateCommandName('linker:autoLink', trackerObj), trackerObj.crossLinkDomains);
                }
              }

              if (trackerObj.displayFeatures) {
                _ga(generateCommandName('require', trackerObj), 'displayfeatures');
              }

              if (trackerObj.trackEcommerce) {
                if (!enhancedEcommerce) {
                  _ga(generateCommandName('require', trackerObj), 'ecommerce');
                } else {
                  _ga(generateCommandName('require', trackerObj), 'ec');
                  _ga(generateCommandName('set', trackerObj), '&cu', currency);
                }
              }

              if (trackerObj.enhancedLinkAttribution) {
                _ga(generateCommandName('require', trackerObj), 'linkid');
              }

              if (trackRoutes && !ignoreFirstPageLoad) {
                _ga(generateCommandName('send', trackerObj), 'pageview', trackPrefix + getUrl());
              }
            });
          //
          // Classic Analytics
          //
          } else {
            if (accounts.length > 1) {
              that._log('warn', 'Multiple trackers are not supported with ga.js. Using first tracker only');
              accounts = accounts.slice(0, 1);
            }

            _gaq('_setAccount', accounts[0].tracker);
            if(domainName) {
              _gaq('_setDomainName', domainName);
            }
            if (enhancedLinkAttribution) {
              _gaq('_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js');
            }
            if (trackRoutes && !ignoreFirstPageLoad) {
              if (removeRegExp) {
                _gaq('_trackPageview', getUrl());
              } else {
                _gaq('_trackPageview');
              }
            }
          }

          return true;
        };

        this._ecommerceEnabled = function (warn, command) {
          var result = ecommerce && !enhancedEcommerce;
          if (warn === true && result === false) {
            if (ecommerce && enhancedEcommerce) {
              that._log('warn', command + ' is not available when Enhanced Ecommerce is enabled with analytics.js');
            } else {
              that._log('warn', 'Ecommerce must be enabled to use ' + command + ' with analytics.js');
            }
          }
          return result;
        };

        this._enhancedEcommerceEnabled = function (warn, command) {
          var result = ecommerce && enhancedEcommerce;
          if (warn === true && result === false) {
            that._log('warn', 'Enhanced Ecommerce must be enabled to use ' + command + ' with analytics.js');
          }
          return result;
        };

        /**
         * Track page
         https://developers.google.com/analytics/devguides/collection/gajs/
         https://developers.google.com/analytics/devguides/collection/analyticsjs/pages
         * @param url
         * @param title
         * @param custom
         * @private
         */
        this._trackPage = function (url, title, custom) {
          url = url ? url : getUrl();
          title = title ? title : $document[0].title;
          _gaJs(function () {
            // http://stackoverflow.com/questions/7322288/how-can-i-set-a-page-title-with-google-analytics
            _gaq('_set', 'title', title);
            _gaq('_trackPageview', (trackPrefix + url));
          });
          _analyticsJs(function () {
            var opt_fieldObject = {
              'page': trackPrefix + url,
              'title': title
            };
            angular.extend(opt_fieldObject, getUtmParams());
            if (angular.isObject(custom)) {
              angular.extend(opt_fieldObject, custom);
            }
            _gaMultipleTrackers(undefined, 'send', 'pageview', opt_fieldObject);
          });
        };

        /**
         * Track event
         https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide
         https://developers.google.com/analytics/devguides/collection/analyticsjs/events
         * @param category
         * @param action
         * @param label
         * @param value
         * @param noninteraction
         * @param custom
         * @private
         */
        this._trackEvent = function (category, action, label, value, noninteraction, custom) {
          _gaJs(function () {
            _gaq('_trackEvent', category, action, label, value, !!noninteraction);
          });
          _analyticsJs(function () {
            var opt_fieldObject = {};
            var includeFn = function (trackerObj) {
              return isPropertySetTo('trackEvent', trackerObj, true);
            };

            if (angular.isDefined(noninteraction)) {
              opt_fieldObject.nonInteraction = !!noninteraction;
            }
            if (angular.isObject(custom)) {
              angular.extend(opt_fieldObject, custom);
            }
            if (!angular.isDefined(opt_fieldObject.page)) {
              opt_fieldObject.page = getUrl();
            }
            _gaMultipleTrackers(includeFn, 'send', 'event', category, action, label, value, opt_fieldObject);
          });
        };

        /**
         * Add transaction
         * https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiEcommerce#_gat.GA_Tracker_._addTrans
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#addTrans
         * @param transactionId
         * @param affiliation
         * @param total
         * @param tax
         * @param shipping
         * @param city
         * @param state
         * @param country
         * @private
         */
        this._addTrans = function (transactionId, affiliation, total, tax, shipping, city, state, country, currency) {
          _gaJs(function () {
            _gaq('_addTrans', transactionId, affiliation, total, tax, shipping, city, state, country);
          });
          _analyticsJs(function () {
            if (that._ecommerceEnabled(true, 'addTrans')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(
                includeFn,
                'ecommerce:addTransaction',
                {
                  id: transactionId,
                  affiliation: affiliation,
                  revenue: total,
                  tax: tax,
                  shipping: shipping,
                  currency: currency || 'USD'
                });
            }
          });
        };

        /**
         * Add item to transaction
         * https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiEcommerce#_gat.GA_Tracker_._addItem
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#addItem
         * @param transactionId
         * @param sku
         * @param name
         * @param category
         * @param price
         * @param quantity
         * @private
         */
        this._addItem = function (transactionId, sku, name, category, price, quantity) {
          _gaJs(function () {
            _gaq('_addItem', transactionId, sku, name, category, price, quantity);
          });
          _analyticsJs(function () {
            if (that._ecommerceEnabled(true, 'addItem')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(
                includeFn,
                'ecommerce:addItem',
                {
                  id: transactionId,
                  name: name,
                  sku: sku,
                  category: category,
                  price: price,
                  quantity: quantity
                });
            }
          });
        };

        /**
         * Track transaction
         * https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiEcommerce#_gat.GA_Tracker_._trackTrans
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#sendingData
         * @private
         */
        this._trackTrans = function () {
          _gaJs(function () {
            _gaq('_trackTrans');
          });
          _analyticsJs(function () {
            if (that._ecommerceEnabled(true, 'trackTrans')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(includeFn, 'ecommerce:send');
            }
          });
        };

        /**
         * Clear transaction
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce#clearingData
         * @private
         */
        this._clearTrans = function () {
          _analyticsJs(function () {
            if (that._ecommerceEnabled(true, 'clearTrans')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(includeFn, 'ecommerce:clear');
            }
          });
        };

        /**
         * Enhanced Ecommerce
         */

        /**
         * Add Product
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#product-data
         * @param productId
         * @param name
         * @param category
         * @param brand
         * @param variant
         * @param price
         * @param quantity
         * @param coupon
         * @param position
         * @param custom
         * @private
         */
        this._addProduct = function (productId, name, category, brand, variant, price, quantity, coupon, position, custom) {
          _gaJs(function () {
            _gaq('_addProduct', productId, name, category, brand, variant, price, quantity, coupon, position);
          });
          _analyticsJs(function () {
            if (that._enhancedEcommerceEnabled(true, 'addProduct')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };
              var details = {
                id: productId,
                name: name,
                category: category,
                brand: brand,
                variant: variant,
                price: price,
                quantity: quantity,
                coupon: coupon,
                position: position
              };
              if (angular.isObject(custom)) {
                angular.extend(details, custom);
              }
              _gaMultipleTrackers(includeFn, 'ec:addProduct', details);
            }
          });
        };

        /**
         * Add Impression
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#impression-data
         * @param id
         * @param name
         * @param list
         * @param brand
         * @param category
         * @param variant
         * @param position
         * @param price
         * @private
         */
        this._addImpression = function (id, name, list, brand, category, variant, position, price){
          _gaJs(function () {
            _gaq('_addImpression', id, name, list, brand, category, variant, position, price);
          });
          _analyticsJs(function () {
            if (that._enhancedEcommerceEnabled(true, 'addImpression')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(
                includeFn,
                'ec:addImpression',
                {
                  id: id,
                  name: name,
                  category: category,
                  brand: brand,
                  variant: variant,
                  list: list,
                  position: position,
                  price: price
                });
            }
          });
        };

        /**
         * Add Promo
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce
         * @param productId
         * @param name
         * @param creative
         * @param position
         * @private
         */
        this._addPromo = function (productId, name, creative, position) {
          _gaJs(function () {
            _gaq('_addPromo', productId, name, creative, position);
          });
          _analyticsJs(function () {
            if (that._enhancedEcommerceEnabled(true, 'addPromo')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(
                includeFn,
                'ec:addPromo',
                {
                  id: productId,
                  name: name,
                  creative: creative,
                  position: position
                });
            }
          });
        };

        /**
         * Set Action
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-actions
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#action-types
         * @param action
         * @param obj
         * @private
         */
        this._setAction = function (action, obj){
          _gaJs(function () {
            _gaq('_setAction', action, obj);
          });
          _analyticsJs(function () {
            if (that._enhancedEcommerceEnabled(true, 'setAction')) {
              var includeFn = function (trackerObj) {
                return isPropertySetTo('trackEcommerce', trackerObj, true);
              };

              _gaMultipleTrackers(includeFn, 'ec:setAction', action, obj);
            }
          });
        };

        /**
         * Track Transaction
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-transactions
         * @param transactionId
         * @param affiliation
         * @param revenue
         * @param tax
         * @param shipping
         * @param coupon
         * @param list
         * @param step
         * @param option
         * @private
         */
        this._trackTransaction = function (transactionId, affiliation, revenue, tax, shipping, coupon, list, step, option) {
          this._setAction('purchase', getActionFieldObject(transactionId, affiliation, revenue, tax, shipping, coupon, list, step, option));
        };

        /**
         * Track Refund
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-refunds
         * @param transactionId
         * @private
         */
        this._trackRefund = function (transactionId) {
          this._setAction('refund', getActionFieldObject(transactionId));
        };

        /**
         * Track Checkout
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-checkout
         * @param step
         * @param option
         * @private
         */
        this._trackCheckOut = function (step, option) {
          this._setAction('checkout', getActionFieldObject(null, null, null, null, null, null, null, step, option));
        };

        /**
         * Track detail
         * @private
         */
        this._trackDetail = function () {
          this._setAction('detail');
          this._pageView();
        };

        /**
         * Track add/remove to cart
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#add-remove-cart
         * @param action
         * @param list
         * @private
         */
        this._trackCart = function (action, listName) {
          if (['add', 'remove'].indexOf(action) !== -1) {
            this._setAction(action, { list: listName });
            this._trackEvent('UX', 'click', action + (action === 'add' ? ' to cart' : ' from cart'));
          }
        };

        /**
         * Track promo click
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-promo-clicks
         * @param promotionName
         * @private
         */
        this._promoClick = function (promotionName) {
          this._setAction('promo_click');
          this._trackEvent('Internal Promotions', 'click', promotionName);
        };

        /**
         * Track product click
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce#measuring-promo-clicks
         * @param promotionName
         * @private
         */
        this._productClick = function (listName) {
          this._setAction('click', getActionFieldObject(null, null, null, null, null, null, listName, null, null));
          this._trackEvent('UX', 'click', listName);
        };

        /**
         * Send page view
         * @param trackerName
         * @private
         */
        this._pageView = function (trackerName) {
          _analyticsJs(function () {
            _ga(generateCommandName('send', trackerName), 'pageview');
          });
        };

        /**
         * Send custom events
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/user-timings#implementation
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/social-interactions#implementation
         * @private
         */
        this._send = function () {
          var args = Array.prototype.slice.call(arguments);
          args.unshift('send');
          _analyticsJs(function () {
            _ga.apply(that, args);
          });
        };

        /**
         * Set custom dimensions, metrics or experiment
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/custom-dims-mets
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#customs
         * @param name (Required)
         * @param value (Required)
         * @param trackerName (Optional)
         * @private
         */
        this._set = function (name, value, trackerName) {
          _analyticsJs(function () {
            _ga(generateCommandName('set', trackerName), name, value);
          });
        };

        /**
         * Track user timings
         * @param timingCategory (Required): A string for categorizing all user timing variables into logical groups(e.g jQuery).
         * @param timingVar (Required): A string to identify the variable being recorded(e.g. JavaScript Load).
         * @param timingValue (Required): The number of milliseconds in elapsed time to report to Google Analytics(e.g. 20).
         * @param timingLabel (Optional): A string that can be used to add flexibility in visualizing user timings in the reports(e.g. Google CDN).
         * @private
         */
        this._trackTimings = function (timingCategory, timingVar, timingValue, timingLabel) {
          _analyticsJs(function () {
            _gaMultipleTrackers(undefined, 'send', 'timing', timingCategory, timingVar, timingValue, timingLabel);
          });
        };

        /**
         * Exception tracking
         * https://developers.google.com/analytics/devguides/collection/analyticsjs/exceptions
         * @param description (Optional): A description of the exception.
         * @param isFatal (Optional): true if the exception was fatal, false otherwise.
         * @private
         */
        this._trackException = function (description, isFatal) {
          _analyticsJs(function () {
            _gaMultipleTrackers(undefined, 'send', 'exception', { exDescription: description, exFatal: !!isFatal});
          });
        };

        // creates the Google Analytics tracker
        if (!delayScriptTag) {
          this._registerScriptTags();
          this._registerTrackers();
        }

        // activates page tracking
        if (trackRoutes) {
          $rootScope.$on(pageEvent, function () {
            // Apply $route based filtering if configured
            if (readFromRoute) {
              // Avoid tracking undefined routes, routes without template (e.g. redirect routes)
              // and those explicitly marked as 'do not track'
              if (!$route.current || !$route.current.templateUrl || $route.current.doNotTrack) {
                return;
              }
            }
            
            that._trackPage();
          });
        }

        return {
          log: that.log,
          offlineQueue: that.offlineQueue,
          configuration: {
            accounts: accounts,
            universalAnalytics: analyticsJS,
            crossDomainLinker: crossDomainLinker,
            crossLinkDomains: crossLinkDomains,
            currency: currency,
            debugMode: debugMode,
            delayScriptTag: delayScriptTag,
            disableAnalytics: disableAnalytics,
            displayFeatures: displayFeatures,
            domainName: domainName,
            ecommerce: that._ecommerceEnabled(),
            enhancedEcommerce: that._enhancedEcommerceEnabled(),
            enhancedLinkAttribution: enhancedLinkAttribution,
            experimentId: experimentId,
            hybridMobileSupport: hybridMobileSupport,
            ignoreFirstPageLoad: ignoreFirstPageLoad,
            logAllCalls: logAllCalls,
            pageEvent: pageEvent,
            readFromRoute: readFromRoute,
            removeRegExp: removeRegExp,
            testMode: testMode,
            traceDebuggingMode: traceDebuggingMode,
            trackPrefix: trackPrefix,
            trackRoutes: trackRoutes,
            trackUrlParams: trackUrlParams
          },
          getUrl: getUrl,
          /* DEPRECATED */
          setCookieConfig: function (config) {
            that._log('warn', 'DEPRECATION WARNING: setCookieConfig method is deprecated. Please use tracker fields instead.');
            return that._setCookieConfig.apply(that, arguments);
          },
          /* DEPRECATED */
          getCookieConfig: function () {
            that._log('warn', 'DEPRECATION WARNING: getCookieConfig method is deprecated. Please use tracker fields instead.');
            return cookieConfig;
          },
          /* DEPRECATED */
          createAnalyticsScriptTag: function (config) {
            that._log('warn', 'DEPRECATION WARNING: createAnalyticsScriptTag method is deprecated. Please use registerScriptTags and registerTrackers methods instead.');
            if (config) {
              cookieConfig = config;
            }
            return that._createAnalyticsScriptTag();
          },
          /* DEPRECATED */
          createScriptTag: function () {
            that._log('warn', 'DEPRECATION WARNING: createScriptTag method is deprecated. Please use registerScriptTags and registerTrackers methods instead.');
            return that._createScriptTag();
          },
          registerScriptTags: function () {
            return that._registerScriptTags();
          },
          registerTrackers: function () {
            return that._registerTrackers();
          },
          offline: function (mode) {
            if (mode === true && offlineMode === false) {
              // Go to offline mode
              offlineMode = true;
            }
            if (mode === false && offlineMode === true) {
              // Go to online mode and process the offline queue
              offlineMode = false;
              while (that.offlineQueue.length > 0) {
                var obj = that.offlineQueue.shift();
                obj[0].apply(that, obj[1]);
              }
            }
            return offlineMode;
          },
          trackPage: function (url, title, custom) {
            that._trackPage.apply(that, arguments);
          },
          trackEvent: function (category, action, label, value, noninteraction, custom) {
            that._trackEvent.apply(that, arguments);
          },
          addTrans: function (transactionId, affiliation, total, tax, shipping, city, state, country, currency) {
            that._addTrans.apply(that, arguments);
          },
          addItem: function (transactionId, sku, name, category, price, quantity) {
            that._addItem.apply(that, arguments);
          },
          trackTrans: function () {
            that._trackTrans.apply(that, arguments);
          },
          clearTrans: function () {
            that._clearTrans.apply(that, arguments);
          },
          addProduct: function (productId, name, category, brand, variant, price, quantity, coupon, position, custom) {
            that._addProduct.apply(that, arguments);
          },
          addPromo: function (productId, name, creative, position) {
            that._addPromo.apply(that, arguments);
          },
          addImpression: function (productId, name, list, brand, category, variant, position, price) {
            that._addImpression.apply(that, arguments);
          },
          productClick: function (listName) {
            that._productClick.apply(that, arguments);
          },
          promoClick : function (promotionName) {
            that._promoClick.apply(that, arguments);
          },
          trackDetail: function () {
            that._trackDetail.apply(that, arguments);
          },
          trackCart: function (action, list) {
            that._trackCart.apply(that, arguments);
          },
          trackCheckout: function (step, option) {
            that._trackCheckOut.apply(that, arguments);
          },
          trackTimings: function (timingCategory, timingVar, timingValue, timingLabel) {
            that._trackTimings.apply(that, arguments);
          },
          trackTransaction: function (transactionId, affiliation, revenue, tax, shipping, coupon, list, step, option) {
            that._trackTransaction.apply(that, arguments);
          },
          trackException: function (description, isFatal) {
            that._trackException.apply(that, arguments);
          },
          setAction: function (action, obj) {
            that._setAction.apply(that, arguments);
          },
          pageView: function () {
            that._pageView.apply(that, arguments);
          },
          send: function (obj) {
            that._send.apply(that, arguments);
          },
          set: function (name, value, trackerName) {
            that._set.apply(that, arguments);
          }
        };
      }];
    })

    .directive('gaTrackEvent', ['Analytics', '$parse', function (Analytics, $parse) {
      return {
        restrict: 'A',
        link: function (scope, element, attrs) {
          var options = $parse(attrs.gaTrackEvent);
          element.bind('click', function () {
            if(attrs.gaTrackEventIf){
              if(!scope.$eval(attrs.gaTrackEventIf)){
                return; // Cancel this event if we don't pass the ga-track-event-if condition
              }
            }
            if (options.length > 1) {
              Analytics.trackEvent.apply(Analytics, options(scope));
            }
          });
        }
      };
    }]);
  return angular.module('angular-google-analytics');
}));

/**
 * Created by kubany on 10/12/2015.
 */
require.config({
    "waitSeconds": 600,
    paths: {

        'jquery': 'vendor/jquery/dist/jquery.min',
        'jquery-bez': 'vendor/jquery-bez/jquery.bez.min',
        'jquery.animate-colors': 'vendor/jquery-color-animation/jquery.animate-colors-min',


        'angular': 'vendor/angular/angular.min',
        'angular-cookie': 'vendor/angular-cookie/angular-cookie.min',
        'toaster': 'vendor/AngularJS-Toaster/toaster.min',
        'angular-translate': 'vendor/angular-translate/angular-translate.min',
        "uiRouter": 'vendor/angular-ui-router/release/angular-ui-router.min',
        'angularAnimate': 'vendor/angular-animate/angular-animate.min',
        'angularAutocomplete': 'vendor/ngAutocomplete/src/ngAutocomplete',
        'underscore' : 'vendor/underscore/underscore-min',

        'bootstrap': 'vendor/bootstrap/dist/js/bootstrap.min',
        'ui-bootstrap': 'vendor/angular-bootstrap/ui-bootstrap-tpls.min',
        'angular-google-analytics': 'vendor/angular-google-analytics/dist/angular-google-analytics',


        'jPushMenu': 'utils/jPushMenu',
        'mainScript': 'utils/main',
        'accordion': 'utils/accordion',
        'server': 'utils/server',
        'nouislider': 'utils/noUiSlider.8.2.1/nouislider',
        'wrongDirection': 'utils/wrongDirection',
        'UserCookie': 'utils/Models/UserCookie',
        'slider': 'utils/slider',
        'jquery-soap': 'utils/jquery.soap',

        'englishLanguage': 'languages/english',



    },
    shim: {


        'angular': {
            'exports': 'angular'
        },
        'app': {
            deps: ['angular']
        },
        'angular-cookie': {
            deps: ['angular']
        },
        'toaster': {
            deps: ['angular', 'angularAnimate']
        },
        'angular-translate': {
            deps: ['angular']
        },
        'nouislider': {},
        'englishLanguage': {},
        'angularAutocomplete': {
            deps: ['angular']
        },
        'ui-bootstrap': ['angular'],
        'angularAnimate': ['angular'],
        'jquery-bez': {
            deps: ['jquery']
        },
        'jquery-soap': {
            'deps': ['jquery']
        },
        'jquery.animate-colors': {
            deps: ['jquery']
        },
        'bootstrap': {
            deps: ['jquery']
        },
        'jPushMenu': {
            deps: ['jquery']
        },
        'mainScript': {
            deps: ['jquery']
        },
        'accordion': {
            deps: ['jquery']
        },
        'slider': {
            deps: ['jquery']
        },
        'wrongDirection': {
            deps: ['jquery']
        },
        'uiRouter': {
            deps: ['angular']
        }
    }
});

window.name = "NG_DEFER_BOOTSTRAP!";

require(['angular', 'app', 'angular-translate', 'bootstrap', 'englishLanguage',
        'jquery', 'jquery-bez', 'jquery.animate-colors', 'jPushMenu', 'mainScript', 'server',
        'nouislider', 'accordion', 'wrongDirection', 'UserCookie',
        'slider', 'uiRouter', 'angular-cookie', 'toaster', 'angularAutocomplete',
        'angularAnimate', 'ui-bootstrap', 'jquery-soap', 'underscore', 'angular-google-analytics',
    ], function (angular, app) {
            angular.bootstrap(document, ['aos']);
            angular.resumeBootstrap();
    }
);




define("main", function(){});

